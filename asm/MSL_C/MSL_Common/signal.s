.include "macros.inc"

.section .text, "ax"

glabel signal
/* 80166484 001619A4  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 80166488 001619A8  7C 08 02 A6 */	mflr r0
/* 8016648C 001619AC  2C 03 00 01 */	cmpwi r3, 1
/* 80166490 001619B0  90 01 00 14 */	stw r0, 0x14(r1)
/* 80166494 001619B4  93 E1 00 0C */	stw r31, 0xc(r1)
/* 80166498 001619B8  93 C1 00 08 */	stw r30, 8(r1)
/* 8016649C 001619BC  7C 7E 1B 78 */	mr r30, r3
/* 801664A0 001619C0  41 80 00 0C */	blt lbl_801664AC
/* 801664A4 001619C4  2C 03 00 07 */	cmpwi r3, 7
/* 801664A8 001619C8  40 81 00 0C */	ble lbl_801664B4
lbl_801664AC:
/* 801664AC 001619CC  38 60 FF FF */	li r3, -1
/* 801664B0 001619D0  48 00 00 6C */	b lbl_8016651C
lbl_801664B4:
/* 801664B4 001619D4  38 03 FF FF */	addi r0, r3, -1
/* 801664B8 001619D8  3C 80 80 24 */	lis r4, lbl_80243F18@ha
/* 801664BC 001619DC  54 05 10 3A */	slwi r5, r0, 2
/* 801664C0 001619E0  38 84 3F 18 */	addi r4, r4, lbl_80243F18@l
/* 801664C4 001619E4  7F E4 28 2E */	lwzx r31, r4, r5
/* 801664C8 001619E8  28 1F 00 01 */	cmplwi r31, 1
/* 801664CC 001619EC  41 82 00 0C */	beq lbl_801664D8
/* 801664D0 001619F0  38 00 00 00 */	li r0, 0
/* 801664D4 001619F4  7C 04 29 2E */	stwx r0, r4, r5
lbl_801664D8:
/* 801664D8 001619F8  28 1F 00 01 */	cmplwi r31, 1
/* 801664DC 001619FC  41 82 00 14 */	beq lbl_801664F0
/* 801664E0 00161A00  2C 1F 00 00 */	cmpwi r31, 0
/* 801664E4 00161A04  40 82 00 14 */	bne lbl_801664F8
/* 801664E8 00161A08  2C 03 00 01 */	cmpwi r3, 1
/* 801664EC 00161A0C  40 82 00 0C */	bne lbl_801664F8
lbl_801664F0:
/* 801664F0 00161A10  38 60 00 00 */	li r3, 0
/* 801664F4 00161A14  48 00 00 28 */	b lbl_8016651C
lbl_801664F8:
/* 801664F8 00161A18  2C 1F 00 00 */	cmpwi r31, 0
/* 801664FC 00161A1C  40 82 00 0C */	bne lbl_80166508
/* 80166500 00161A20  38 60 00 00 */	li r3, 0
/* 80166504 00161A24  4B F3 4A 65 */	bl exit
lbl_80166508:
/* 80166508 00161A28  7F EC FB 78 */	mr r12, r31
/* 8016650C 00161A2C  7F C3 F3 78 */	mr r3, r30
/* 80166510 00161A30  7D 89 03 A6 */	mtctr r12
/* 80166514 00161A34  4E 80 04 21 */	bctrl 
/* 80166518 00161A38  38 60 00 00 */	li r3, 0
lbl_8016651C:
/* 8016651C 00161A3C  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80166520 00161A40  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 80166524 00161A44  83 C1 00 08 */	lwz r30, 8(r1)
/* 80166528 00161A48  7C 08 03 A6 */	mtlr r0
/* 8016652C 00161A4C  38 21 00 10 */	addi r1, r1, 0x10
/* 80166530 00161A50  4E 80 00 20 */	blr 