.include "macros.inc"

.section .text, "ax"

glabel __ieee754_fmod
/* 8016B130 00166650  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 8016B134 00166654  D8 41 00 10 */	stfd f2, 0x10(r1)
/* 8016B138 00166658  D8 21 00 08 */	stfd f1, 8(r1)
/* 8016B13C 0016665C  80 01 00 10 */	lwz r0, 0x10(r1)
/* 8016B140 00166660  80 E1 00 08 */	lwz r7, 8(r1)
/* 8016B144 00166664  80 C1 00 14 */	lwz r6, 0x14(r1)
/* 8016B148 00166668  54 00 00 7E */	clrlwi r0, r0, 1
/* 8016B14C 0016666C  54 E4 00 00 */	rlwinm r4, r7, 0, 0, 0
/* 8016B150 00166670  80 A1 00 0C */	lwz r5, 0xc(r1)
/* 8016B154 00166674  7C 03 33 79 */	or. r3, r0, r6
/* 8016B158 00166678  7C E8 22 78 */	xor r8, r7, r4
/* 8016B15C 0016667C  41 82 00 28 */	beq .L_8016B184
/* 8016B160 00166680  3C E0 7F F0 */	lis r7, 0x7ff0
/* 8016B164 00166684  7C 08 38 00 */	cmpw r8, r7
/* 8016B168 00166688  40 80 00 1C */	bge .L_8016B184
/* 8016B16C 0016668C  7C 66 00 D0 */	neg r3, r6
/* 8016B170 00166690  7C C3 1B 78 */	or r3, r6, r3
/* 8016B174 00166694  54 63 0F FE */	srwi r3, r3, 0x1f
/* 8016B178 00166698  7C 03 1B 78 */	or r3, r0, r3
/* 8016B17C 0016669C  7C 03 38 40 */	cmplw r3, r7
/* 8016B180 001666A0  40 81 00 10 */	ble .L_8016B190
.L_8016B184:
/* 8016B184 001666A4  FC 01 00 B2 */	fmul f0, f1, f2
/* 8016B188 001666A8  FC 20 00 24 */	fdiv f1, f0, f0
/* 8016B18C 001666AC  48 00 02 CC */	b .L_8016B458
.L_8016B190:
/* 8016B190 001666B0  7C 08 00 00 */	cmpw r8, r0
/* 8016B194 001666B4  41 81 00 2C */	bgt .L_8016B1C0
/* 8016B198 001666B8  41 80 02 C0 */	blt .L_8016B458
/* 8016B19C 001666BC  7C 05 30 40 */	cmplw r5, r6
/* 8016B1A0 001666C0  40 80 00 08 */	bge .L_8016B1A8
/* 8016B1A4 001666C4  48 00 02 B4 */	b .L_8016B458
.L_8016B1A8:
/* 8016B1A8 001666C8  40 82 00 18 */	bne .L_8016B1C0
/* 8016B1AC 001666CC  3C 60 80 18 */	lis r3, lbl_80179210@ha
/* 8016B1B0 001666D0  54 80 27 38 */	rlwinm r0, r4, 4, 0x1c, 0x1c
/* 8016B1B4 001666D4  38 63 92 10 */	addi r3, r3, lbl_80179210@l
/* 8016B1B8 001666D8  7C 23 04 AE */	lfdx f1, r3, r0
/* 8016B1BC 001666DC  48 00 02 9C */	b .L_8016B458
.L_8016B1C0:
/* 8016B1C0 001666E0  3C 60 00 10 */	lis r3, 0x10
/* 8016B1C4 001666E4  7C 08 18 00 */	cmpw r8, r3
/* 8016B1C8 001666E8  40 80 00 4C */	bge .L_8016B214
/* 8016B1CC 001666EC  2C 08 00 00 */	cmpwi r8, 0
/* 8016B1D0 001666F0  40 82 00 24 */	bne .L_8016B1F4
/* 8016B1D4 001666F4  7C A3 2B 78 */	mr r3, r5
/* 8016B1D8 001666F8  39 60 FB ED */	li r11, -1043
/* 8016B1DC 001666FC  48 00 00 0C */	b .L_8016B1E8
.L_8016B1E0:
/* 8016B1E0 00166700  54 63 08 3C */	slwi r3, r3, 1
/* 8016B1E4 00166704  39 6B FF FF */	addi r11, r11, -1
.L_8016B1E8:
/* 8016B1E8 00166708  2C 03 00 00 */	cmpwi r3, 0
/* 8016B1EC 0016670C  41 81 FF F4 */	bgt .L_8016B1E0
/* 8016B1F0 00166710  48 00 00 2C */	b .L_8016B21C
.L_8016B1F4:
/* 8016B1F4 00166714  55 03 58 28 */	slwi r3, r8, 0xb
/* 8016B1F8 00166718  39 60 FC 02 */	li r11, -1022
/* 8016B1FC 0016671C  48 00 00 0C */	b .L_8016B208
.L_8016B200:
/* 8016B200 00166720  54 63 08 3C */	slwi r3, r3, 1
/* 8016B204 00166724  39 6B FF FF */	addi r11, r11, -1
.L_8016B208:
/* 8016B208 00166728  2C 03 00 00 */	cmpwi r3, 0
/* 8016B20C 0016672C  41 81 FF F4 */	bgt .L_8016B200
/* 8016B210 00166730  48 00 00 0C */	b .L_8016B21C
.L_8016B214:
/* 8016B214 00166734  7D 03 A6 70 */	srawi r3, r8, 0x14
/* 8016B218 00166738  39 63 FC 01 */	addi r11, r3, -1023
.L_8016B21C:
/* 8016B21C 0016673C  3C 60 00 10 */	lis r3, 0x10
/* 8016B220 00166740  7C 00 18 00 */	cmpw r0, r3
/* 8016B224 00166744  40 80 00 4C */	bge .L_8016B270
/* 8016B228 00166748  2C 00 00 00 */	cmpwi r0, 0
/* 8016B22C 0016674C  40 82 00 24 */	bne .L_8016B250
/* 8016B230 00166750  7C C7 33 78 */	mr r7, r6
/* 8016B234 00166754  38 60 FB ED */	li r3, -1043
/* 8016B238 00166758  48 00 00 0C */	b .L_8016B244
.L_8016B23C:
/* 8016B23C 0016675C  54 E7 08 3C */	slwi r7, r7, 1
/* 8016B240 00166760  38 63 FF FF */	addi r3, r3, -1
.L_8016B244:
/* 8016B244 00166764  2C 07 00 00 */	cmpwi r7, 0
/* 8016B248 00166768  41 81 FF F4 */	bgt .L_8016B23C
/* 8016B24C 0016676C  48 00 00 2C */	b .L_8016B278
.L_8016B250:
/* 8016B250 00166770  54 07 58 28 */	slwi r7, r0, 0xb
/* 8016B254 00166774  38 60 FC 02 */	li r3, -1022
/* 8016B258 00166778  48 00 00 0C */	b .L_8016B264
.L_8016B25C:
/* 8016B25C 0016677C  54 E7 08 3C */	slwi r7, r7, 1
/* 8016B260 00166780  38 63 FF FF */	addi r3, r3, -1
.L_8016B264:
/* 8016B264 00166784  2C 07 00 00 */	cmpwi r7, 0
/* 8016B268 00166788  41 81 FF F4 */	bgt .L_8016B25C
/* 8016B26C 0016678C  48 00 00 0C */	b .L_8016B278
.L_8016B270:
/* 8016B270 00166790  7C 03 A6 70 */	srawi r3, r0, 0x14
/* 8016B274 00166794  38 63 FC 01 */	addi r3, r3, -1023
.L_8016B278:
/* 8016B278 00166798  2C 0B FC 02 */	cmpwi r11, -1022
/* 8016B27C 0016679C  41 80 00 10 */	blt .L_8016B28C
/* 8016B280 001667A0  55 07 03 3E */	clrlwi r7, r8, 0xc
/* 8016B284 001667A4  64 E9 00 10 */	oris r9, r7, 0x10
/* 8016B288 001667A8  48 00 00 34 */	b .L_8016B2BC
.L_8016B28C:
/* 8016B28C 001667AC  21 2B FC 02 */	subfic r9, r11, -1022
/* 8016B290 001667B0  2C 09 00 1F */	cmpwi r9, 0x1f
/* 8016B294 001667B4  41 81 00 1C */	bgt .L_8016B2B0
/* 8016B298 001667B8  20 E9 00 20 */	subfic r7, r9, 0x20
/* 8016B29C 001667BC  7D 08 48 30 */	slw r8, r8, r9
/* 8016B2A0 001667C0  7C A7 3C 30 */	srw r7, r5, r7
/* 8016B2A4 001667C4  7C A5 48 30 */	slw r5, r5, r9
/* 8016B2A8 001667C8  7D 09 3B 78 */	or r9, r8, r7
/* 8016B2AC 001667CC  48 00 00 10 */	b .L_8016B2BC
.L_8016B2B0:
/* 8016B2B0 001667D0  38 E9 FF E0 */	addi r7, r9, -32
/* 8016B2B4 001667D4  7C A9 38 30 */	slw r9, r5, r7
/* 8016B2B8 001667D8  38 A0 00 00 */	li r5, 0
.L_8016B2BC:
/* 8016B2BC 001667DC  2C 03 FC 02 */	cmpwi r3, -1022
/* 8016B2C0 001667E0  41 80 00 10 */	blt .L_8016B2D0
/* 8016B2C4 001667E4  54 00 03 3E */	clrlwi r0, r0, 0xc
/* 8016B2C8 001667E8  64 08 00 10 */	oris r8, r0, 0x10
/* 8016B2CC 001667EC  48 00 00 34 */	b .L_8016B300
.L_8016B2D0:
/* 8016B2D0 001667F0  21 43 FC 02 */	subfic r10, r3, -1022
/* 8016B2D4 001667F4  2C 0A 00 1F */	cmpwi r10, 0x1f
/* 8016B2D8 001667F8  41 81 00 1C */	bgt .L_8016B2F4
/* 8016B2DC 001667FC  20 EA 00 20 */	subfic r7, r10, 0x20
/* 8016B2E0 00166800  7C 08 50 30 */	slw r8, r0, r10
/* 8016B2E4 00166804  7C C0 3C 30 */	srw r0, r6, r7
/* 8016B2E8 00166808  7C C6 50 30 */	slw r6, r6, r10
/* 8016B2EC 0016680C  7D 08 03 78 */	or r8, r8, r0
/* 8016B2F0 00166810  48 00 00 10 */	b .L_8016B300
.L_8016B2F4:
/* 8016B2F4 00166814  38 0A FF E0 */	addi r0, r10, -32
/* 8016B2F8 00166818  7C C8 00 30 */	slw r8, r6, r0
/* 8016B2FC 0016681C  38 C0 00 00 */	li r6, 0
.L_8016B300:
/* 8016B300 00166820  7C 03 58 51 */	subf. r0, r3, r11
/* 8016B304 00166824  7C 09 03 A6 */	mtctr r0
/* 8016B308 00166828  41 82 00 64 */	beq .L_8016B36C
.L_8016B30C:
/* 8016B30C 0016682C  7C 05 30 40 */	cmplw r5, r6
/* 8016B310 00166830  7C E8 48 50 */	subf r7, r8, r9
/* 8016B314 00166834  7D 46 28 50 */	subf r10, r6, r5
/* 8016B318 00166838  40 80 00 08 */	bge .L_8016B320
/* 8016B31C 0016683C  38 E7 FF FF */	addi r7, r7, -1
.L_8016B320:
/* 8016B320 00166840  2C 07 00 00 */	cmpwi r7, 0
/* 8016B324 00166844  40 80 00 18 */	bge .L_8016B33C
/* 8016B328 00166848  54 A7 0F FE */	srwi r7, r5, 0x1f
/* 8016B32C 0016684C  55 20 08 3C */	slwi r0, r9, 1
/* 8016B330 00166850  7D 27 02 14 */	add r9, r7, r0
/* 8016B334 00166854  7C A5 2A 14 */	add r5, r5, r5
/* 8016B338 00166858  48 00 00 30 */	b .L_8016B368
.L_8016B33C:
/* 8016B33C 0016685C  7C E0 53 79 */	or. r0, r7, r10
/* 8016B340 00166860  40 82 00 18 */	bne .L_8016B358
/* 8016B344 00166864  3C 60 80 18 */	lis r3, lbl_80179210@ha
/* 8016B348 00166868  54 80 27 38 */	rlwinm r0, r4, 4, 0x1c, 0x1c
/* 8016B34C 0016686C  38 63 92 10 */	addi r3, r3, lbl_80179210@l
/* 8016B350 00166870  7C 23 04 AE */	lfdx f1, r3, r0
/* 8016B354 00166874  48 00 01 04 */	b .L_8016B458
.L_8016B358:
/* 8016B358 00166878  55 45 0F FE */	srwi r5, r10, 0x1f
/* 8016B35C 0016687C  54 E0 08 3C */	slwi r0, r7, 1
/* 8016B360 00166880  7D 25 02 14 */	add r9, r5, r0
/* 8016B364 00166884  55 45 08 3C */	slwi r5, r10, 1
.L_8016B368:
/* 8016B368 00166888  42 00 FF A4 */	bdnz .L_8016B30C
.L_8016B36C:
/* 8016B36C 0016688C  7C 05 30 40 */	cmplw r5, r6
/* 8016B370 00166890  7C E8 48 50 */	subf r7, r8, r9
/* 8016B374 00166894  7C 06 28 50 */	subf r0, r6, r5
/* 8016B378 00166898  40 80 00 08 */	bge .L_8016B380
/* 8016B37C 0016689C  38 E7 FF FF */	addi r7, r7, -1
.L_8016B380:
/* 8016B380 001668A0  2C 07 00 00 */	cmpwi r7, 0
/* 8016B384 001668A4  41 80 00 0C */	blt .L_8016B390
/* 8016B388 001668A8  7C E9 3B 78 */	mr r9, r7
/* 8016B38C 001668AC  7C 05 03 78 */	mr r5, r0
.L_8016B390:
/* 8016B390 001668B0  7D 20 2B 79 */	or. r0, r9, r5
/* 8016B394 001668B4  40 82 00 18 */	bne .L_8016B3AC
/* 8016B398 001668B8  3C 60 80 18 */	lis r3, lbl_80179210@ha
/* 8016B39C 001668BC  54 80 27 38 */	rlwinm r0, r4, 4, 0x1c, 0x1c
/* 8016B3A0 001668C0  38 63 92 10 */	addi r3, r3, lbl_80179210@l
/* 8016B3A4 001668C4  7C 23 04 AE */	lfdx f1, r3, r0
/* 8016B3A8 001668C8  48 00 00 B0 */	b .L_8016B458
.L_8016B3AC:
/* 8016B3AC 001668CC  3C 00 00 10 */	lis r0, 0x10
/* 8016B3B0 001668D0  48 00 00 18 */	b .L_8016B3C8
.L_8016B3B4:
/* 8016B3B4 001668D4  54 A7 0F FE */	srwi r7, r5, 0x1f
/* 8016B3B8 001668D8  55 26 08 3C */	slwi r6, r9, 1
/* 8016B3BC 001668DC  7D 27 32 14 */	add r9, r7, r6
/* 8016B3C0 001668E0  7C A5 2A 14 */	add r5, r5, r5
/* 8016B3C4 001668E4  38 63 FF FF */	addi r3, r3, -1
.L_8016B3C8:
/* 8016B3C8 001668E8  7C 09 00 00 */	cmpw r9, r0
/* 8016B3CC 001668EC  41 80 FF E8 */	blt .L_8016B3B4
/* 8016B3D0 001668F0  2C 03 FC 02 */	cmpwi r3, -1022
/* 8016B3D4 001668F4  41 80 00 24 */	blt .L_8016B3F8
/* 8016B3D8 001668F8  38 03 03 FF */	addi r0, r3, 0x3ff
/* 8016B3DC 001668FC  3C 69 FF F0 */	addis r3, r9, 0xfff0
/* 8016B3E0 00166900  54 00 A0 16 */	slwi r0, r0, 0x14
/* 8016B3E4 00166904  90 A1 00 0C */	stw r5, 0xc(r1)
/* 8016B3E8 00166908  7C 60 03 78 */	or r0, r3, r0
/* 8016B3EC 0016690C  7C 00 23 78 */	or r0, r0, r4
/* 8016B3F0 00166910  90 01 00 08 */	stw r0, 8(r1)
/* 8016B3F4 00166914  48 00 00 60 */	b .L_8016B454
.L_8016B3F8:
/* 8016B3F8 00166918  20 C3 FC 02 */	subfic r6, r3, -1022
/* 8016B3FC 0016691C  2C 06 00 14 */	cmpwi r6, 0x14
/* 8016B400 00166920  41 81 00 1C */	bgt .L_8016B41C
/* 8016B404 00166924  20 06 00 20 */	subfic r0, r6, 0x20
/* 8016B408 00166928  7C A3 34 30 */	srw r3, r5, r6
/* 8016B40C 0016692C  7D 20 00 30 */	slw r0, r9, r0
/* 8016B410 00166930  7D 29 36 30 */	sraw r9, r9, r6
/* 8016B414 00166934  7C 63 03 78 */	or r3, r3, r0
/* 8016B418 00166938  48 00 00 30 */	b .L_8016B448
.L_8016B41C:
/* 8016B41C 0016693C  2C 06 00 1F */	cmpwi r6, 0x1f
/* 8016B420 00166940  41 81 00 1C */	bgt .L_8016B43C
/* 8016B424 00166944  20 66 00 20 */	subfic r3, r6, 0x20
/* 8016B428 00166948  7C A0 34 30 */	srw r0, r5, r6
/* 8016B42C 0016694C  7D 23 18 30 */	slw r3, r9, r3
/* 8016B430 00166950  7C 89 23 78 */	mr r9, r4
/* 8016B434 00166954  7C 63 03 78 */	or r3, r3, r0
/* 8016B438 00166958  48 00 00 10 */	b .L_8016B448
.L_8016B43C:
/* 8016B43C 0016695C  38 06 FF E0 */	addi r0, r6, -32
/* 8016B440 00166960  7D 23 06 30 */	sraw r3, r9, r0
/* 8016B444 00166964  7C 89 23 78 */	mr r9, r4
.L_8016B448:
/* 8016B448 00166968  7D 20 23 78 */	or r0, r9, r4
/* 8016B44C 0016696C  90 61 00 0C */	stw r3, 0xc(r1)
/* 8016B450 00166970  90 01 00 08 */	stw r0, 8(r1)
.L_8016B454:
/* 8016B454 00166974  C8 21 00 08 */	lfd f1, 8(r1)
.L_8016B458:
/* 8016B458 00166978  38 21 00 20 */	addi r1, r1, 0x20
/* 8016B45C 0016697C  4E 80 00 20 */	blr
