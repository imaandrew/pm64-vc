.include "macros.inc"

.section .text, "ax"

glabel __ieee754_log10
/* 8016B714 00166C34  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 8016B718 00166C38  7C 08 02 A6 */	mflr r0
/* 8016B71C 00166C3C  90 01 00 24 */	stw r0, 0x24(r1)
/* 8016B720 00166C40  DB E1 00 18 */	stfd f31, 0x18(r1)
/* 8016B724 00166C44  D8 21 00 08 */	stfd f1, 8(r1)
/* 8016B728 00166C48  3C 00 00 10 */	lis r0, 0x10
/* 8016B72C 00166C4C  38 80 00 00 */	li r4, 0
/* 8016B730 00166C50  80 A1 00 08 */	lwz r5, 8(r1)
/* 8016B734 00166C54  80 61 00 0C */	lwz r3, 0xc(r1)
/* 8016B738 00166C58  7C 05 00 00 */	cmpw r5, r0
/* 8016B73C 00166C5C  40 80 00 5C */	bge .L_8016B798
/* 8016B740 00166C60  54 A0 00 7E */	clrlwi r0, r5, 1
/* 8016B744 00166C64  7C 00 1B 79 */	or. r0, r0, r3
/* 8016B748 00166C68  40 82 00 1C */	bne .L_8016B764
/* 8016B74C 00166C6C  C8 22 8B 90 */	lfd f1, lbl_80248390@sda21(r2)
/* 8016B750 00166C70  38 00 00 21 */	li r0, 0x21
/* 8016B754 00166C74  C8 0D 93 60 */	lfd f0, lbl_802477E0@sda21(r13)
/* 8016B758 00166C78  90 0D 93 40 */	stw r0, lbl_802477C0@sda21(r13)
/* 8016B75C 00166C7C  FC 21 00 24 */	fdiv f1, f1, f0
/* 8016B760 00166C80  48 00 00 B4 */	b .L_8016B814
.L_8016B764:
/* 8016B764 00166C84  2C 05 00 00 */	cmpwi r5, 0
/* 8016B768 00166C88  40 80 00 1C */	bge .L_8016B784
/* 8016B76C 00166C8C  FC 21 08 28 */	fsub f1, f1, f1
/* 8016B770 00166C90  C8 0D 93 60 */	lfd f0, lbl_802477E0@sda21(r13)
/* 8016B774 00166C94  38 00 00 21 */	li r0, 0x21
/* 8016B778 00166C98  90 0D 93 40 */	stw r0, lbl_802477C0@sda21(r13)
/* 8016B77C 00166C9C  FC 21 00 24 */	fdiv f1, f1, f0
/* 8016B780 00166CA0  48 00 00 94 */	b .L_8016B814
.L_8016B784:
/* 8016B784 00166CA4  C8 02 8B 98 */	lfd f0, lbl_80248398@sda21(r2)
/* 8016B788 00166CA8  38 80 FF CA */	li r4, -54
/* 8016B78C 00166CAC  FC 21 00 32 */	fmul f1, f1, f0
/* 8016B790 00166CB0  D8 21 00 08 */	stfd f1, 8(r1)
/* 8016B794 00166CB4  80 A1 00 08 */	lwz r5, 8(r1)
.L_8016B798:
/* 8016B798 00166CB8  3C 00 7F F0 */	lis r0, 0x7ff0
/* 8016B79C 00166CBC  7C 05 00 00 */	cmpw r5, r0
/* 8016B7A0 00166CC0  41 80 00 0C */	blt .L_8016B7AC
/* 8016B7A4 00166CC4  FC 21 08 2A */	fadd f1, f1, f1
/* 8016B7A8 00166CC8  48 00 00 6C */	b .L_8016B814
.L_8016B7AC:
/* 8016B7AC 00166CCC  7C A3 A6 70 */	srawi r3, r5, 0x14
/* 8016B7B0 00166CD0  3C 00 43 30 */	lis r0, 0x4330
/* 8016B7B4 00166CD4  7C 64 1A 14 */	add r3, r4, r3
/* 8016B7B8 00166CD8  90 01 00 10 */	stw r0, 0x10(r1)
/* 8016B7BC 00166CDC  38 83 FC 01 */	addi r4, r3, -1023
/* 8016B7C0 00166CE0  C8 22 8B B8 */	lfd f1, lbl_802483B8@sda21(r2)
/* 8016B7C4 00166CE4  54 83 0F FE */	srwi r3, r4, 0x1f
/* 8016B7C8 00166CE8  7C 04 1A 14 */	add r0, r4, r3
/* 8016B7CC 00166CEC  6C 00 80 00 */	xoris r0, r0, 0x8000
/* 8016B7D0 00166CF0  20 63 03 FF */	subfic r3, r3, 0x3ff
/* 8016B7D4 00166CF4  90 01 00 14 */	stw r0, 0x14(r1)
/* 8016B7D8 00166CF8  54 60 A0 16 */	slwi r0, r3, 0x14
/* 8016B7DC 00166CFC  50 A0 03 3E */	rlwimi r0, r5, 0, 0xc, 0x1f
/* 8016B7E0 00166D00  C8 01 00 10 */	lfd f0, 0x10(r1)
/* 8016B7E4 00166D04  90 01 00 08 */	stw r0, 8(r1)
/* 8016B7E8 00166D08  FF E0 08 28 */	fsub f31, f0, f1
/* 8016B7EC 00166D0C  C8 21 00 08 */	lfd f1, 8(r1)
/* 8016B7F0 00166D10  4B FF FC 71 */	bl __ieee754_log
/* 8016B7F4 00166D14  C8 02 8B A8 */	lfd f0, lbl_802483A8@sda21(r2)
/* 8016B7F8 00166D18  C8 42 8B A0 */	lfd f2, lbl_802483A0@sda21(r2)
/* 8016B7FC 00166D1C  FC 60 00 72 */	fmul f3, f0, f1
/* 8016B800 00166D20  C8 02 8B B0 */	lfd f0, lbl_802483B0@sda21(r2)
/* 8016B804 00166D24  FC 22 07 F2 */	fmul f1, f2, f31
/* 8016B808 00166D28  FC 00 07 F2 */	fmul f0, f0, f31
/* 8016B80C 00166D2C  FC 21 18 2A */	fadd f1, f1, f3
/* 8016B810 00166D30  FC 21 00 2A */	fadd f1, f1, f0
.L_8016B814:
/* 8016B814 00166D34  80 01 00 24 */	lwz r0, 0x24(r1)
/* 8016B818 00166D38  CB E1 00 18 */	lfd f31, 0x18(r1)
/* 8016B81C 00166D3C  7C 08 03 A6 */	mtlr r0
/* 8016B820 00166D40  38 21 00 20 */	addi r1, r1, 0x20
/* 8016B824 00166D44  4E 80 00 20 */	blr

.section .sbss, "wa" # 0x80246B60 - 0x80247800

glabel lbl_802477E0
	.skip 0x8
