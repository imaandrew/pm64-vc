.include "macros.inc"

.section .text, "ax"

glabel rfc_calc_fcs
/* 801017E4 000FCD04  3C A0 80 17 */	lis r5, lbl_80175D78@ha
/* 801017E8 000FCD08  38 C0 00 FF */	li r6, 0xff
/* 801017EC 000FCD0C  38 A5 5D 78 */	addi r5, r5, lbl_80175D78@l
/* 801017F0 000FCD10  48 00 00 14 */	b .L_80101804
.L_801017F4:
/* 801017F4 000FCD14  88 04 00 00 */	lbz r0, 0(r4)
/* 801017F8 000FCD18  38 84 00 01 */	addi r4, r4, 1
/* 801017FC 000FCD1C  7C C0 02 78 */	xor r0, r6, r0
/* 80101800 000FCD20  7C C5 00 AE */	lbzx r6, r5, r0
.L_80101804:
/* 80101804 000FCD24  54 60 04 3F */	clrlwi. r0, r3, 0x10
/* 80101808 000FCD28  38 63 FF FF */	addi r3, r3, -1
/* 8010180C 000FCD2C  40 82 FF E8 */	bne .L_801017F4
/* 80101810 000FCD30  20 06 00 FF */	subfic r0, r6, 0xff
/* 80101814 000FCD34  54 03 06 3E */	clrlwi r3, r0, 0x18
/* 80101818 000FCD38  4E 80 00 20 */	blr

glabel rfc_check_fcs
/* 8010181C 000FCD3C  3C C0 80 17 */	lis r6, lbl_80175D78@ha
/* 80101820 000FCD40  38 E0 00 FF */	li r7, 0xff
/* 80101824 000FCD44  38 C6 5D 78 */	addi r6, r6, lbl_80175D78@l
/* 80101828 000FCD48  48 00 00 14 */	b .L_8010183C
.L_8010182C:
/* 8010182C 000FCD4C  88 04 00 00 */	lbz r0, 0(r4)
/* 80101830 000FCD50  38 84 00 01 */	addi r4, r4, 1
/* 80101834 000FCD54  7C E0 02 78 */	xor r0, r7, r0
/* 80101838 000FCD58  7C E6 00 AE */	lbzx r7, r6, r0
.L_8010183C:
/* 8010183C 000FCD5C  54 60 04 3F */	clrlwi. r0, r3, 0x10
/* 80101840 000FCD60  38 63 FF FF */	addi r3, r3, -1
/* 80101844 000FCD64  40 82 FF E8 */	bne .L_8010182C
/* 80101848 000FCD68  3C 60 80 17 */	lis r3, lbl_80175D78@ha
/* 8010184C 000FCD6C  7C E0 2A 78 */	xor r0, r7, r5
/* 80101850 000FCD70  38 63 5D 78 */	addi r3, r3, lbl_80175D78@l
/* 80101854 000FCD74  7C 63 00 AE */	lbzx r3, r3, r0
/* 80101858 000FCD78  38 03 FF 31 */	addi r0, r3, -207
/* 8010185C 000FCD7C  7C 00 00 34 */	cntlzw r0, r0
/* 80101860 000FCD80  54 03 DE 3E */	rlwinm r3, r0, 0x1b, 0x18, 0x1f
/* 80101864 000FCD84  4E 80 00 20 */	blr

glabel rfc_alloc_multiplexer_channel
/* 80101868 000FCD88  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 8010186C 000FCD8C  7C 08 02 A6 */	mflr r0
/* 80101870 000FCD90  90 01 00 24 */	stw r0, 0x24(r1)
/* 80101874 000FCD94  39 61 00 20 */	addi r11, r1, 0x20
/* 80101878 000FCD98  48 05 B0 CD */	bl _savegpr_27
/* 8010187C 000FCD9C  3C A0 80 22 */	lis r5, lbl_80223E08@ha
/* 80101880 000FCDA0  7C 7B 1B 78 */	mr r27, r3
/* 80101884 000FCDA4  3B E5 3E 08 */	addi r31, r5, lbl_80223E08@l
/* 80101888 000FCDA8  7C 9C 23 78 */	mr r28, r4
/* 8010188C 000FCDAC  88 1F 04 08 */	lbz r0, 0x408(r31)
/* 80101890 000FCDB0  38 7F 03 FE */	addi r3, r31, 0x3fe
/* 80101894 000FCDB4  3B C0 00 00 */	li r30, 0
/* 80101898 000FCDB8  2C 00 00 00 */	cmpwi r0, 0
/* 8010189C 000FCDBC  41 82 00 5C */	beq .L_801018F8
/* 801018A0 000FCDC0  7F 64 DB 78 */	mr r4, r27
/* 801018A4 000FCDC4  38 A0 00 06 */	li r5, 6
/* 801018A8 000FCDC8  48 06 0B C1 */	bl memcmp
/* 801018AC 000FCDCC  2C 03 00 00 */	cmpwi r3, 0
/* 801018B0 000FCDD0  40 82 00 48 */	bne .L_801018F8
/* 801018B4 000FCDD4  88 1F 04 14 */	lbz r0, 0x414(r31)
/* 801018B8 000FCDD8  28 00 00 04 */	cmplwi r0, 4
/* 801018BC 000FCDDC  41 80 00 18 */	blt .L_801018D4
/* 801018C0 000FCDE0  3C 60 00 09 */	lis r3, 0x00090003@ha
/* 801018C4 000FCDE4  3C 80 80 1A */	lis r4, lbl_8019FFC8@ha
/* 801018C8 000FCDE8  38 63 00 03 */	addi r3, r3, 0x00090003@l
/* 801018CC 000FCDEC  38 84 FF C8 */	addi r4, r4, lbl_8019FFC8@l
/* 801018D0 000FCDF0  4B FD B8 1D */	bl LogMsg_0
.L_801018D4:
/* 801018D4 000FCDF4  1C 1E 00 78 */	mulli r0, r30, 0x78
/* 801018D8 000FCDF8  3C 60 80 22 */	lis r3, lbl_80223E08@ha
/* 801018DC 000FCDFC  38 63 3E 08 */	addi r3, r3, lbl_80223E08@l
/* 801018E0 000FCE00  7C 63 02 14 */	add r3, r3, r0
/* 801018E4 000FCE04  3B E3 03 9C */	addi r31, r3, 0x39c
/* 801018E8 000FCE08  7F E3 FB 78 */	mr r3, r31
/* 801018EC 000FCE0C  4B FD BE 3D */	bl btu_stop_timer
/* 801018F0 000FCE10  7F E3 FB 78 */	mr r3, r31
/* 801018F4 000FCE14  48 00 00 B4 */	b .L_801019A8
.L_801018F8:
/* 801018F8 000FCE18  3F E0 80 22 */	lis r31, lbl_80223E08@ha
/* 801018FC 000FCE1C  3B FF 3E 08 */	addi r31, r31, lbl_80223E08@l
/* 80101900 000FCE20  88 7F 00 65 */	lbz r3, 0x65(r31)
/* 80101904 000FCE24  3B C3 00 01 */	addi r30, r3, 1
/* 80101908 000FCE28  2C 1E 00 01 */	cmpwi r30, 1
/* 8010190C 000FCE2C  41 80 00 08 */	blt .L_80101914
/* 80101910 000FCE30  3B C0 00 00 */	li r30, 0
.L_80101914:
/* 80101914 000FCE34  1C 1E 00 78 */	mulli r0, r30, 0x78
/* 80101918 000FCE38  7C 7F 02 14 */	add r3, r31, r0
/* 8010191C 000FCE3C  88 03 04 08 */	lbz r0, 0x408(r3)
/* 80101920 000FCE40  3B A3 03 9C */	addi r29, r3, 0x39c
/* 80101924 000FCE44  2C 00 00 00 */	cmpwi r0, 0
/* 80101928 000FCE48  40 82 00 7C */	bne .L_801019A4
/* 8010192C 000FCE4C  7F A3 EB 78 */	mr r3, r29
/* 80101930 000FCE50  38 80 00 00 */	li r4, 0
/* 80101934 000FCE54  38 A0 00 78 */	li r5, 0x78
/* 80101938 000FCE58  4B F0 2B 05 */	bl memset
/* 8010193C 000FCE5C  7F 64 DB 78 */	mr r4, r27
/* 80101940 000FCE60  38 7D 00 62 */	addi r3, r29, 0x62
/* 80101944 000FCE64  38 A0 00 06 */	li r5, 6
/* 80101948 000FCE68  4B F0 29 F1 */	bl memcpy
/* 8010194C 000FCE6C  38 7D 00 18 */	addi r3, r29, 0x18
/* 80101950 000FCE70  4B FD 83 25 */	bl GKI_init_q
/* 80101954 000FCE74  9B 9D 00 6D */	stb r28, 0x6d(r29)
/* 80101958 000FCE78  88 1F 04 14 */	lbz r0, 0x414(r31)
/* 8010195C 000FCE7C  28 00 00 04 */	cmplwi r0, 4
/* 80101960 000FCE80  41 80 00 1C */	blt .L_8010197C
/* 80101964 000FCE84  3C 60 00 09 */	lis r3, 0x00090003@ha
/* 80101968 000FCE88  3C 80 80 1A */	lis r4, lbl_8019FFD8@ha
/* 8010196C 000FCE8C  38 63 00 03 */	addi r3, r3, 0x00090003@l
/* 80101970 000FCE90  38 A0 00 3C */	li r5, 0x3c
/* 80101974 000FCE94  38 84 FF D8 */	addi r4, r4, lbl_8019FFD8@l
/* 80101978 000FCE98  4B FD B7 8D */	bl LogMsg_1
.L_8010197C:
/* 8010197C 000FCE9C  93 BD 00 10 */	stw r29, 0x10(r29)
/* 80101980 000FCEA0  7F A3 EB 78 */	mr r3, r29
/* 80101984 000FCEA4  38 80 00 0B */	li r4, 0xb
/* 80101988 000FCEA8  38 A0 00 3C */	li r5, 0x3c
/* 8010198C 000FCEAC  4B FD BD 2D */	bl btu_start_timer
/* 80101990 000FCEB0  3C 80 80 22 */	lis r4, lbl_80223E08@ha
/* 80101994 000FCEB4  7F A3 EB 78 */	mr r3, r29
/* 80101998 000FCEB8  38 84 3E 08 */	addi r4, r4, lbl_80223E08@l
/* 8010199C 000FCEBC  9B C4 00 65 */	stb r30, 0x65(r4)
/* 801019A0 000FCEC0  48 00 00 08 */	b .L_801019A8
.L_801019A4:
/* 801019A4 000FCEC4  38 60 00 00 */	li r3, 0
.L_801019A8:
/* 801019A8 000FCEC8  39 61 00 20 */	addi r11, r1, 0x20
/* 801019AC 000FCECC  48 05 AF E5 */	bl _restgpr_27
/* 801019B0 000FCED0  80 01 00 24 */	lwz r0, 0x24(r1)
/* 801019B4 000FCED4  7C 08 03 A6 */	mtlr r0
/* 801019B8 000FCED8  38 21 00 20 */	addi r1, r1, 0x20
/* 801019BC 000FCEDC  4E 80 00 20 */	blr

glabel rfc_release_multiplexer_channel
/* 801019C0 000FCEE0  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 801019C4 000FCEE4  7C 08 02 A6 */	mflr r0
/* 801019C8 000FCEE8  3C 80 80 22 */	lis r4, lbl_80223E08@ha
/* 801019CC 000FCEEC  90 01 00 14 */	stw r0, 0x14(r1)
/* 801019D0 000FCEF0  38 84 3E 08 */	addi r4, r4, lbl_80223E08@l
/* 801019D4 000FCEF4  93 E1 00 0C */	stw r31, 0xc(r1)
/* 801019D8 000FCEF8  7C 7F 1B 78 */	mr r31, r3
/* 801019DC 000FCEFC  88 04 04 14 */	lbz r0, 0x414(r4)
/* 801019E0 000FCF00  28 00 00 04 */	cmplwi r0, 4
/* 801019E4 000FCF04  41 80 00 18 */	blt .L_801019FC
/* 801019E8 000FCF08  3C 60 00 09 */	lis r3, 0x00090003@ha
/* 801019EC 000FCF0C  3C 80 80 1A */	lis r4, lbl_8019FFC8@ha
/* 801019F0 000FCF10  38 63 00 03 */	addi r3, r3, 0x00090003@l
/* 801019F4 000FCF14  38 84 FF C8 */	addi r4, r4, lbl_8019FFC8@l
/* 801019F8 000FCF18  4B FD B6 F5 */	bl LogMsg_0
.L_801019FC:
/* 801019FC 000FCF1C  7F E3 FB 78 */	mr r3, r31
/* 80101A00 000FCF20  4B FD BD 29 */	bl btu_stop_timer
/* 80101A04 000FCF24  48 00 00 08 */	b .L_80101A0C
.L_80101A08:
/* 80101A08 000FCF28  4B FD 85 09 */	bl GKI_freebuf
.L_80101A0C:
/* 80101A0C 000FCF2C  38 7F 00 18 */	addi r3, r31, 0x18
/* 80101A10 000FCF30  4B FD 8B 9D */	bl GKI_dequeue
/* 80101A14 000FCF34  2C 03 00 00 */	cmpwi r3, 0
/* 80101A18 000FCF38  40 82 FF F0 */	bne .L_80101A08
/* 80101A1C 000FCF3C  7F E3 FB 78 */	mr r3, r31
/* 80101A20 000FCF40  38 80 00 00 */	li r4, 0
/* 80101A24 000FCF44  38 A0 00 78 */	li r5, 0x78
/* 80101A28 000FCF48  4B F0 2A 15 */	bl memset
/* 80101A2C 000FCF4C  38 00 00 00 */	li r0, 0
/* 80101A30 000FCF50  98 1F 00 6C */	stb r0, 0x6c(r31)
/* 80101A34 000FCF54  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 80101A38 000FCF58  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80101A3C 000FCF5C  7C 08 03 A6 */	mtlr r0
/* 80101A40 000FCF60  38 21 00 10 */	addi r1, r1, 0x10
/* 80101A44 000FCF64  4E 80 00 20 */	blr

glabel rfc_timer_start
/* 80101A48 000FCF68  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 80101A4C 000FCF6C  7C 08 02 A6 */	mflr r0
/* 80101A50 000FCF70  3C A0 80 22 */	lis r5, lbl_80223E08@ha
/* 80101A54 000FCF74  90 01 00 14 */	stw r0, 0x14(r1)
/* 80101A58 000FCF78  38 A5 3E 08 */	addi r5, r5, lbl_80223E08@l
/* 80101A5C 000FCF7C  93 E1 00 0C */	stw r31, 0xc(r1)
/* 80101A60 000FCF80  7C 9F 23 78 */	mr r31, r4
/* 80101A64 000FCF84  93 C1 00 08 */	stw r30, 8(r1)
/* 80101A68 000FCF88  7C 7E 1B 78 */	mr r30, r3
/* 80101A6C 000FCF8C  88 05 04 14 */	lbz r0, 0x414(r5)
/* 80101A70 000FCF90  28 00 00 04 */	cmplwi r0, 4
/* 80101A74 000FCF94  41 80 00 1C */	blt .L_80101A90
/* 80101A78 000FCF98  3C 60 00 09 */	lis r3, 0x00090003@ha
/* 80101A7C 000FCF9C  3C 80 80 1A */	lis r4, lbl_8019FFD8@ha
/* 80101A80 000FCFA0  7F E5 FB 78 */	mr r5, r31
/* 80101A84 000FCFA4  38 63 00 03 */	addi r3, r3, 0x00090003@l
/* 80101A88 000FCFA8  38 84 FF D8 */	addi r4, r4, lbl_8019FFD8@l
/* 80101A8C 000FCFAC  4B FD B6 79 */	bl LogMsg_1
.L_80101A90:
/* 80101A90 000FCFB0  93 DE 00 10 */	stw r30, 0x10(r30)
/* 80101A94 000FCFB4  7F C3 F3 78 */	mr r3, r30
/* 80101A98 000FCFB8  7F E5 FB 78 */	mr r5, r31
/* 80101A9C 000FCFBC  38 80 00 0B */	li r4, 0xb
/* 80101AA0 000FCFC0  4B FD BC 19 */	bl btu_start_timer
/* 80101AA4 000FCFC4  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80101AA8 000FCFC8  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 80101AAC 000FCFCC  83 C1 00 08 */	lwz r30, 8(r1)
/* 80101AB0 000FCFD0  7C 08 03 A6 */	mtlr r0
/* 80101AB4 000FCFD4  38 21 00 10 */	addi r1, r1, 0x10
/* 80101AB8 000FCFD8  4E 80 00 20 */	blr

glabel rfc_timer_stop
/* 80101ABC 000FCFDC  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 80101AC0 000FCFE0  7C 08 02 A6 */	mflr r0
/* 80101AC4 000FCFE4  3C 80 80 22 */	lis r4, lbl_80223E08@ha
/* 80101AC8 000FCFE8  90 01 00 14 */	stw r0, 0x14(r1)
/* 80101ACC 000FCFEC  38 84 3E 08 */	addi r4, r4, lbl_80223E08@l
/* 80101AD0 000FCFF0  93 E1 00 0C */	stw r31, 0xc(r1)
/* 80101AD4 000FCFF4  7C 7F 1B 78 */	mr r31, r3
/* 80101AD8 000FCFF8  88 04 04 14 */	lbz r0, 0x414(r4)
/* 80101ADC 000FCFFC  28 00 00 04 */	cmplwi r0, 4
/* 80101AE0 000FD000  41 80 00 18 */	blt .L_80101AF8
/* 80101AE4 000FD004  3C 60 00 09 */	lis r3, 0x00090003@ha
/* 80101AE8 000FD008  3C 80 80 1A */	lis r4, lbl_8019FFC8@ha
/* 80101AEC 000FD00C  38 63 00 03 */	addi r3, r3, 0x00090003@l
/* 80101AF0 000FD010  38 84 FF C8 */	addi r4, r4, lbl_8019FFC8@l
/* 80101AF4 000FD014  4B FD B5 F9 */	bl LogMsg_0
.L_80101AF8:
/* 80101AF8 000FD018  7F E3 FB 78 */	mr r3, r31
/* 80101AFC 000FD01C  4B FD BC 2D */	bl btu_stop_timer
/* 80101B00 000FD020  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80101B04 000FD024  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 80101B08 000FD028  7C 08 03 A6 */	mtlr r0
/* 80101B0C 000FD02C  38 21 00 10 */	addi r1, r1, 0x10
/* 80101B10 000FD030  4E 80 00 20 */	blr

glabel rfc_port_timer_start
/* 80101B14 000FD034  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80101B18 000FD038  7C 08 02 A6 */	mflr r0
/* 80101B1C 000FD03C  3C A0 80 22 */	lis r5, lbl_80223E08@ha
/* 80101B20 000FD040  90 01 00 24 */	stw r0, 0x24(r1)
/* 80101B24 000FD044  38 A5 3E 08 */	addi r5, r5, lbl_80223E08@l
/* 80101B28 000FD048  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 80101B2C 000FD04C  3B E3 00 70 */	addi r31, r3, 0x70
/* 80101B30 000FD050  93 C1 00 18 */	stw r30, 0x18(r1)
/* 80101B34 000FD054  7C 9E 23 78 */	mr r30, r4
/* 80101B38 000FD058  93 A1 00 14 */	stw r29, 0x14(r1)
/* 80101B3C 000FD05C  7C 7D 1B 78 */	mr r29, r3
/* 80101B40 000FD060  88 05 04 14 */	lbz r0, 0x414(r5)
/* 80101B44 000FD064  28 00 00 04 */	cmplwi r0, 4
/* 80101B48 000FD068  41 80 00 1C */	blt .L_80101B64
/* 80101B4C 000FD06C  3C 60 00 09 */	lis r3, 0x00090003@ha
/* 80101B50 000FD070  3C 80 80 1A */	lis r4, lbl_8019FFF8@ha
/* 80101B54 000FD074  7F C5 F3 78 */	mr r5, r30
/* 80101B58 000FD078  38 63 00 03 */	addi r3, r3, 0x00090003@l
/* 80101B5C 000FD07C  38 84 FF F8 */	addi r4, r4, lbl_8019FFF8@l
/* 80101B60 000FD080  4B FD B5 A5 */	bl LogMsg_1
.L_80101B64:
/* 80101B64 000FD084  93 BF 00 10 */	stw r29, 0x10(r31)
/* 80101B68 000FD088  7F E3 FB 78 */	mr r3, r31
/* 80101B6C 000FD08C  7F C5 F3 78 */	mr r5, r30
/* 80101B70 000FD090  38 80 00 0C */	li r4, 0xc
/* 80101B74 000FD094  4B FD BB 45 */	bl btu_start_timer
/* 80101B78 000FD098  80 01 00 24 */	lwz r0, 0x24(r1)
/* 80101B7C 000FD09C  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 80101B80 000FD0A0  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 80101B84 000FD0A4  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 80101B88 000FD0A8  7C 08 03 A6 */	mtlr r0
/* 80101B8C 000FD0AC  38 21 00 20 */	addi r1, r1, 0x20
/* 80101B90 000FD0B0  4E 80 00 20 */	blr

glabel rfc_port_timer_stop
/* 80101B94 000FD0B4  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 80101B98 000FD0B8  7C 08 02 A6 */	mflr r0
/* 80101B9C 000FD0BC  3C 80 80 22 */	lis r4, lbl_80223E08@ha
/* 80101BA0 000FD0C0  90 01 00 14 */	stw r0, 0x14(r1)
/* 80101BA4 000FD0C4  38 84 3E 08 */	addi r4, r4, lbl_80223E08@l
/* 80101BA8 000FD0C8  93 E1 00 0C */	stw r31, 0xc(r1)
/* 80101BAC 000FD0CC  7C 7F 1B 78 */	mr r31, r3
/* 80101BB0 000FD0D0  88 04 04 14 */	lbz r0, 0x414(r4)
/* 80101BB4 000FD0D4  28 00 00 04 */	cmplwi r0, 4
/* 80101BB8 000FD0D8  41 80 00 18 */	blt .L_80101BD0
/* 80101BBC 000FD0DC  3C 60 00 09 */	lis r3, 0x00090003@ha
/* 80101BC0 000FD0E0  3C 80 80 1A */	lis r4, lbl_801A001C@ha
/* 80101BC4 000FD0E4  38 63 00 03 */	addi r3, r3, 0x00090003@l
/* 80101BC8 000FD0E8  38 84 00 1C */	addi r4, r4, lbl_801A001C@l
/* 80101BCC 000FD0EC  4B FD B5 21 */	bl LogMsg_0
.L_80101BD0:
/* 80101BD0 000FD0F0  38 7F 00 70 */	addi r3, r31, 0x70
/* 80101BD4 000FD0F4  4B FD BB 55 */	bl btu_stop_timer
/* 80101BD8 000FD0F8  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80101BDC 000FD0FC  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 80101BE0 000FD100  7C 08 03 A6 */	mtlr r0
/* 80101BE4 000FD104  38 21 00 10 */	addi r1, r1, 0x10
/* 80101BE8 000FD108  4E 80 00 20 */	blr

glabel rfc_check_mcb_active
/* 80101BEC 000FD10C  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 80101BF0 000FD110  7C 08 02 A6 */	mflr r0
/* 80101BF4 000FD114  38 A0 00 00 */	li r5, 0
/* 80101BF8 000FD118  90 01 00 14 */	stw r0, 0x14(r1)
/* 80101BFC 000FD11C  38 00 00 3D */	li r0, 0x3d
/* 80101C00 000FD120  93 E1 00 0C */	stw r31, 0xc(r1)
/* 80101C04 000FD124  7C 7F 1B 78 */	mr r31, r3
/* 80101C08 000FD128  7C 09 03 A6 */	mtctr r0
.L_80101C0C:
/* 80101C0C 000FD12C  54 A0 04 3E */	clrlwi r0, r5, 0x10
/* 80101C10 000FD130  7C 83 02 14 */	add r4, r3, r0
/* 80101C14 000FD134  88 04 00 24 */	lbz r0, 0x24(r4)
/* 80101C18 000FD138  2C 00 00 00 */	cmpwi r0, 0
/* 80101C1C 000FD13C  41 82 00 10 */	beq .L_80101C2C
/* 80101C20 000FD140  38 00 00 00 */	li r0, 0
/* 80101C24 000FD144  98 03 00 74 */	stb r0, 0x74(r3)
/* 80101C28 000FD148  48 00 00 74 */	b .L_80101C9C
.L_80101C2C:
/* 80101C2C 000FD14C  38 A5 00 01 */	addi r5, r5, 1
/* 80101C30 000FD150  42 00 FF DC */	bdnz .L_80101C0C
/* 80101C34 000FD154  88 03 00 74 */	lbz r0, 0x74(r3)
/* 80101C38 000FD158  2C 00 00 00 */	cmpwi r0, 0
/* 80101C3C 000FD15C  41 82 00 20 */	beq .L_80101C5C
/* 80101C40 000FD160  38 00 00 00 */	li r0, 0
/* 80101C44 000FD164  38 80 00 08 */	li r4, 8
/* 80101C48 000FD168  98 03 00 74 */	stb r0, 0x74(r3)
/* 80101C4C 000FD16C  7F E3 FB 78 */	mr r3, r31
/* 80101C50 000FD170  38 A0 00 00 */	li r5, 0
/* 80101C54 000FD174  4B FF C2 39 */	bl rfc_mx_sm_execute
/* 80101C58 000FD178  48 00 00 44 */	b .L_80101C9C
.L_80101C5C:
/* 80101C5C 000FD17C  3C 60 80 22 */	lis r3, lbl_80223E08@ha
/* 80101C60 000FD180  38 63 3E 08 */	addi r3, r3, lbl_80223E08@l
/* 80101C64 000FD184  88 03 04 14 */	lbz r0, 0x414(r3)
/* 80101C68 000FD188  28 00 00 04 */	cmplwi r0, 4
/* 80101C6C 000FD18C  41 80 00 1C */	blt .L_80101C88
/* 80101C70 000FD190  3C 60 00 09 */	lis r3, 0x00090003@ha
/* 80101C74 000FD194  3C 80 80 1A */	lis r4, lbl_8019FFD8@ha
/* 80101C78 000FD198  38 63 00 03 */	addi r3, r3, 0x00090003@l
/* 80101C7C 000FD19C  38 A0 00 02 */	li r5, 2
/* 80101C80 000FD1A0  38 84 FF D8 */	addi r4, r4, lbl_8019FFD8@l
/* 80101C84 000FD1A4  4B FD B4 81 */	bl LogMsg_1
.L_80101C88:
/* 80101C88 000FD1A8  93 FF 00 10 */	stw r31, 0x10(r31)
/* 80101C8C 000FD1AC  7F E3 FB 78 */	mr r3, r31
/* 80101C90 000FD1B0  38 80 00 0B */	li r4, 0xb
/* 80101C94 000FD1B4  38 A0 00 02 */	li r5, 2
/* 80101C98 000FD1B8  4B FD BA 21 */	bl btu_start_timer
.L_80101C9C:
/* 80101C9C 000FD1BC  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80101CA0 000FD1C0  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 80101CA4 000FD1C4  7C 08 03 A6 */	mtlr r0
/* 80101CA8 000FD1C8  38 21 00 10 */	addi r1, r1, 0x10
/* 80101CAC 000FD1CC  4E 80 00 20 */	blr

glabel rfcomm_process_timeout
/* 80101CB0 000FD1D0  A0 03 00 14 */	lhz r0, 0x14(r3)
/* 80101CB4 000FD1D4  2C 00 00 0C */	cmpwi r0, 0xc
/* 80101CB8 000FD1D8  41 82 00 20 */	beq .L_80101CD8
/* 80101CBC 000FD1DC  4C 80 00 20 */	bgelr
/* 80101CC0 000FD1E0  2C 00 00 0B */	cmpwi r0, 0xb
/* 80101CC4 000FD1E4  4D 80 00 20 */	bltlr
/* 80101CC8 000FD1E8  80 63 00 10 */	lwz r3, 0x10(r3)
/* 80101CCC 000FD1EC  38 80 00 05 */	li r4, 5
/* 80101CD0 000FD1F0  38 A0 00 00 */	li r5, 0
/* 80101CD4 000FD1F4  4B FF C1 B8 */	b rfc_mx_sm_execute
.L_80101CD8:
/* 80101CD8 000FD1F8  80 63 00 10 */	lwz r3, 0x10(r3)
/* 80101CDC 000FD1FC  38 80 00 05 */	li r4, 5
/* 80101CE0 000FD200  38 A0 00 00 */	li r5, 0
/* 80101CE4 000FD204  4B FF CD EC */	b rfc_port_sm_execute
/* 80101CE8 000FD208  4E 80 00 20 */	blr

glabel rfc_sec_check_complete
/* 80101CEC 000FD20C  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 80101CF0 000FD210  7C 08 02 A6 */	mflr r0
/* 80101CF4 000FD214  90 01 00 14 */	stw r0, 0x14(r1)
/* 80101CF8 000FD218  98 A1 00 08 */	stb r5, 8(r1)
/* 80101CFC 000FD21C  88 04 00 01 */	lbz r0, 1(r4)
/* 80101D00 000FD220  2C 00 00 00 */	cmpwi r0, 0
/* 80101D04 000FD224  41 82 00 2C */	beq .L_80101D30
/* 80101D08 000FD228  88 04 00 68 */	lbz r0, 0x68(r4)
/* 80101D0C 000FD22C  28 00 00 02 */	cmplwi r0, 2
/* 80101D10 000FD230  41 82 00 10 */	beq .L_80101D20
/* 80101D14 000FD234  28 00 00 03 */	cmplwi r0, 3
/* 80101D18 000FD238  41 82 00 08 */	beq .L_80101D20
/* 80101D1C 000FD23C  48 00 00 14 */	b .L_80101D30
.L_80101D20:
/* 80101D20 000FD240  7C 83 23 78 */	mr r3, r4
/* 80101D24 000FD244  38 A1 00 08 */	addi r5, r1, 8
/* 80101D28 000FD248  38 80 00 0F */	li r4, 0xf
/* 80101D2C 000FD24C  4B FF CD A5 */	bl rfc_port_sm_execute
.L_80101D30:
/* 80101D30 000FD250  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80101D34 000FD254  7C 08 03 A6 */	mtlr r0
/* 80101D38 000FD258  38 21 00 10 */	addi r1, r1, 0x10
/* 80101D3C 000FD25C  4E 80 00 20 */	blr

glabel rfc_port_closed
/* 80101D40 000FD260  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80101D44 000FD264  7C 08 02 A6 */	mflr r0
/* 80101D48 000FD268  3C 80 80 22 */	lis r4, lbl_80223E08@ha
/* 80101D4C 000FD26C  90 01 00 24 */	stw r0, 0x24(r1)
/* 80101D50 000FD270  38 84 3E 08 */	addi r4, r4, lbl_80223E08@l
/* 80101D54 000FD274  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 80101D58 000FD278  3F E0 80 1A */	lis r31, lbl_8019FFC8@ha
/* 80101D5C 000FD27C  3B FF FF C8 */	addi r31, r31, lbl_8019FFC8@l
/* 80101D60 000FD280  93 C1 00 18 */	stw r30, 0x18(r1)
/* 80101D64 000FD284  93 A1 00 14 */	stw r29, 0x14(r1)
/* 80101D68 000FD288  7C 7D 1B 78 */	mr r29, r3
/* 80101D6C 000FD28C  88 04 04 14 */	lbz r0, 0x414(r4)
/* 80101D70 000FD290  83 C3 00 6C */	lwz r30, 0x6c(r3)
/* 80101D74 000FD294  28 00 00 05 */	cmplwi r0, 5
/* 80101D78 000FD298  41 80 00 14 */	blt .L_80101D8C
/* 80101D7C 000FD29C  3C 60 00 09 */	lis r3, 0x00090004@ha
/* 80101D80 000FD2A0  38 9F 00 68 */	addi r4, r31, 0x68
/* 80101D84 000FD2A4  38 63 00 04 */	addi r3, r3, 0x00090004@l
/* 80101D88 000FD2A8  4B FD B3 65 */	bl LogMsg_0
.L_80101D8C:
/* 80101D8C 000FD2AC  3C 60 80 22 */	lis r3, lbl_80223E08@ha
/* 80101D90 000FD2B0  38 63 3E 08 */	addi r3, r3, lbl_80223E08@l
/* 80101D94 000FD2B4  88 03 04 14 */	lbz r0, 0x414(r3)
/* 80101D98 000FD2B8  28 00 00 04 */	cmplwi r0, 4
/* 80101D9C 000FD2BC  41 80 00 14 */	blt .L_80101DB0
/* 80101DA0 000FD2C0  3C 60 00 09 */	lis r3, 0x00090003@ha
/* 80101DA4 000FD2C4  38 9F 00 54 */	addi r4, r31, 0x54
/* 80101DA8 000FD2C8  38 63 00 03 */	addi r3, r3, 0x00090003@l
/* 80101DAC 000FD2CC  4B FD B3 41 */	bl LogMsg_0
.L_80101DB0:
/* 80101DB0 000FD2D0  38 7D 00 70 */	addi r3, r29, 0x70
/* 80101DB4 000FD2D4  4B FD B9 75 */	bl btu_stop_timer
/* 80101DB8 000FD2D8  38 80 00 00 */	li r4, 0
/* 80101DBC 000FD2DC  2C 1E 00 00 */	cmpwi r30, 0
/* 80101DC0 000FD2E0  98 9D 00 68 */	stb r4, 0x68(r29)
/* 80101DC4 000FD2E4  41 82 00 AC */	beq .L_80101E70
/* 80101DC8 000FD2E8  88 7D 00 0D */	lbz r3, 0xd(r29)
/* 80101DCC 000FD2EC  38 00 00 3D */	li r0, 0x3d
/* 80101DD0 000FD2F0  38 A0 00 00 */	li r5, 0
/* 80101DD4 000FD2F4  7C 7E 1A 14 */	add r3, r30, r3
/* 80101DD8 000FD2F8  98 83 00 24 */	stb r4, 0x24(r3)
/* 80101DDC 000FD2FC  98 9D 00 0D */	stb r4, 0xd(r29)
/* 80101DE0 000FD300  7C 09 03 A6 */	mtctr r0
.L_80101DE4:
/* 80101DE4 000FD304  54 A0 04 3E */	clrlwi r0, r5, 0x10
/* 80101DE8 000FD308  7C 7E 02 14 */	add r3, r30, r0
/* 80101DEC 000FD30C  88 03 00 24 */	lbz r0, 0x24(r3)
/* 80101DF0 000FD310  2C 00 00 00 */	cmpwi r0, 0
/* 80101DF4 000FD314  41 82 00 10 */	beq .L_80101E04
/* 80101DF8 000FD318  38 00 00 00 */	li r0, 0
/* 80101DFC 000FD31C  98 1E 00 74 */	stb r0, 0x74(r30)
/* 80101E00 000FD320  48 00 00 70 */	b .L_80101E70
.L_80101E04:
/* 80101E04 000FD324  38 A5 00 01 */	addi r5, r5, 1
/* 80101E08 000FD328  42 00 FF DC */	bdnz .L_80101DE4
/* 80101E0C 000FD32C  88 1E 00 74 */	lbz r0, 0x74(r30)
/* 80101E10 000FD330  2C 00 00 00 */	cmpwi r0, 0
/* 80101E14 000FD334  41 82 00 20 */	beq .L_80101E34
/* 80101E18 000FD338  38 00 00 00 */	li r0, 0
/* 80101E1C 000FD33C  7F C3 F3 78 */	mr r3, r30
/* 80101E20 000FD340  98 1E 00 74 */	stb r0, 0x74(r30)
/* 80101E24 000FD344  38 80 00 08 */	li r4, 8
/* 80101E28 000FD348  38 A0 00 00 */	li r5, 0
/* 80101E2C 000FD34C  4B FF C0 61 */	bl rfc_mx_sm_execute
/* 80101E30 000FD350  48 00 00 40 */	b .L_80101E70
.L_80101E34:
/* 80101E34 000FD354  3C 60 80 22 */	lis r3, lbl_80223E08@ha
/* 80101E38 000FD358  38 63 3E 08 */	addi r3, r3, lbl_80223E08@l
/* 80101E3C 000FD35C  88 03 04 14 */	lbz r0, 0x414(r3)
/* 80101E40 000FD360  28 00 00 04 */	cmplwi r0, 4
/* 80101E44 000FD364  41 80 00 18 */	blt .L_80101E5C
/* 80101E48 000FD368  3C 60 00 09 */	lis r3, 0x00090003@ha
/* 80101E4C 000FD36C  38 9F 00 10 */	addi r4, r31, 0x10
/* 80101E50 000FD370  38 63 00 03 */	addi r3, r3, 0x00090003@l
/* 80101E54 000FD374  38 A0 00 02 */	li r5, 2
/* 80101E58 000FD378  4B FD B2 AD */	bl LogMsg_1
.L_80101E5C:
/* 80101E5C 000FD37C  93 DE 00 10 */	stw r30, 0x10(r30)
/* 80101E60 000FD380  7F C3 F3 78 */	mr r3, r30
/* 80101E64 000FD384  38 80 00 0B */	li r4, 0xb
/* 80101E68 000FD388  38 A0 00 02 */	li r5, 2
/* 80101E6C 000FD38C  4B FD B8 4D */	bl btu_start_timer
.L_80101E70:
/* 80101E70 000FD390  7F A3 EB 78 */	mr r3, r29
/* 80101E74 000FD394  38 80 00 13 */	li r4, 0x13
/* 80101E78 000FD398  4B FF AF 75 */	bl port_rfc_closed
/* 80101E7C 000FD39C  80 01 00 24 */	lwz r0, 0x24(r1)
/* 80101E80 000FD3A0  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 80101E84 000FD3A4  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 80101E88 000FD3A8  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 80101E8C 000FD3AC  7C 08 03 A6 */	mtlr r0
/* 80101E90 000FD3B0  38 21 00 20 */	addi r1, r1, 0x20
/* 80101E94 000FD3B4  4E 80 00 20 */	blr

glabel rfc_inc_credit
/* 80101E98 000FD3B8  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 80101E9C 000FD3BC  7C 08 02 A6 */	mflr r0
/* 80101EA0 000FD3C0  90 01 00 14 */	stw r0, 0x14(r1)
/* 80101EA4 000FD3C4  93 E1 00 0C */	stw r31, 0xc(r1)
/* 80101EA8 000FD3C8  7C 7F 1B 78 */	mr r31, r3
/* 80101EAC 000FD3CC  80 A3 00 6C */	lwz r5, 0x6c(r3)
/* 80101EB0 000FD3D0  88 05 00 72 */	lbz r0, 0x72(r5)
/* 80101EB4 000FD3D4  28 00 00 02 */	cmplwi r0, 2
/* 80101EB8 000FD3D8  40 82 00 58 */	bne .L_80101F10
/* 80101EBC 000FD3DC  A0 03 00 98 */	lhz r0, 0x98(r3)
/* 80101EC0 000FD3E0  3C A0 80 22 */	lis r5, lbl_80223E08@ha
/* 80101EC4 000FD3E4  38 A5 3E 08 */	addi r5, r5, lbl_80223E08@l
/* 80101EC8 000FD3E8  7C C0 22 14 */	add r6, r0, r4
/* 80101ECC 000FD3EC  B0 C3 00 98 */	sth r6, 0x98(r3)
/* 80101ED0 000FD3F0  88 05 04 14 */	lbz r0, 0x414(r5)
/* 80101ED4 000FD3F4  28 00 00 04 */	cmplwi r0, 4
/* 80101ED8 000FD3F8  41 80 00 1C */	blt .L_80101EF4
/* 80101EDC 000FD3FC  3C 60 00 09 */	lis r3, 0x00090003@ha
/* 80101EE0 000FD400  3C 80 80 1A */	lis r4, lbl_801A0040@ha
/* 80101EE4 000FD404  38 63 00 03 */	addi r3, r3, 0x00090003@l
/* 80101EE8 000FD408  54 C5 04 3E */	clrlwi r5, r6, 0x10
/* 80101EEC 000FD40C  38 84 00 40 */	addi r4, r4, lbl_801A0040@l
/* 80101EF0 000FD410  4B FD B2 15 */	bl LogMsg_1
.L_80101EF4:
/* 80101EF4 000FD414  88 1F 00 24 */	lbz r0, 0x24(r31)
/* 80101EF8 000FD418  28 00 00 01 */	cmplwi r0, 1
/* 80101EFC 000FD41C  40 82 00 14 */	bne .L_80101F10
/* 80101F00 000FD420  80 7F 00 6C */	lwz r3, 0x6c(r31)
/* 80101F04 000FD424  38 A0 00 01 */	li r5, 1
/* 80101F08 000FD428  88 9F 00 0D */	lbz r4, 0xd(r31)
/* 80101F0C 000FD42C  4B FF AC B9 */	bl PORT_FlowInd
.L_80101F10:
/* 80101F10 000FD430  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80101F14 000FD434  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 80101F18 000FD438  7C 08 03 A6 */	mtlr r0
/* 80101F1C 000FD43C  38 21 00 10 */	addi r1, r1, 0x10
/* 80101F20 000FD440  4E 80 00 20 */	blr

glabel rfc_dec_credit
/* 80101F24 000FD444  80 83 00 6C */	lwz r4, 0x6c(r3)
/* 80101F28 000FD448  88 04 00 72 */	lbz r0, 0x72(r4)
/* 80101F2C 000FD44C  28 00 00 02 */	cmplwi r0, 2
/* 80101F30 000FD450  4C 82 00 20 */	bnelr
/* 80101F34 000FD454  A0 83 00 98 */	lhz r4, 0x98(r3)
/* 80101F38 000FD458  2C 04 00 00 */	cmpwi r4, 0
/* 80101F3C 000FD45C  41 82 00 0C */	beq .L_80101F48
/* 80101F40 000FD460  38 04 FF FF */	addi r0, r4, -1
/* 80101F44 000FD464  B0 03 00 98 */	sth r0, 0x98(r3)
.L_80101F48:
/* 80101F48 000FD468  A0 03 00 98 */	lhz r0, 0x98(r3)
/* 80101F4C 000FD46C  2C 00 00 00 */	cmpwi r0, 0
/* 80101F50 000FD470  4C 82 00 20 */	bnelr
/* 80101F54 000FD474  38 00 00 01 */	li r0, 1
/* 80101F58 000FD478  98 03 00 24 */	stb r0, 0x24(r3)
/* 80101F5C 000FD47C  4E 80 00 20 */	blr

glabel rfc_check_send_cmd
/* 80101F60 000FD480  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 80101F64 000FD484  7C 08 02 A6 */	mflr r0
/* 80101F68 000FD488  2C 04 00 00 */	cmpwi r4, 0
/* 80101F6C 000FD48C  90 01 00 14 */	stw r0, 0x14(r1)
/* 80101F70 000FD490  93 E1 00 0C */	stw r31, 0xc(r1)
/* 80101F74 000FD494  7C 7F 1B 78 */	mr r31, r3
/* 80101F78 000FD498  41 82 00 2C */	beq .L_80101FA4
/* 80101F7C 000FD49C  38 63 00 18 */	addi r3, r3, 0x18
/* 80101F80 000FD4A0  4B FD 83 B1 */	bl GKI_enqueue
/* 80101F84 000FD4A4  48 00 00 20 */	b .L_80101FA4
.L_80101F88:
/* 80101F88 000FD4A8  38 7F 00 18 */	addi r3, r31, 0x18
/* 80101F8C 000FD4AC  4B FD 86 21 */	bl GKI_dequeue
/* 80101F90 000FD4B0  2C 03 00 00 */	cmpwi r3, 0
/* 80101F94 000FD4B4  7C 64 1B 78 */	mr r4, r3
/* 80101F98 000FD4B8  41 82 00 18 */	beq .L_80101FB0
/* 80101F9C 000FD4BC  A0 7F 00 68 */	lhz r3, 0x68(r31)
/* 80101FA0 000FD4C0  4B FF 43 2D */	bl L2CA_DataWrite
.L_80101FA4:
/* 80101FA4 000FD4C4  88 1F 00 73 */	lbz r0, 0x73(r31)
/* 80101FA8 000FD4C8  2C 00 00 00 */	cmpwi r0, 0
/* 80101FAC 000FD4CC  41 82 FF DC */	beq .L_80101F88
.L_80101FB0:
/* 80101FB0 000FD4D0  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80101FB4 000FD4D4  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 80101FB8 000FD4D8  7C 08 03 A6 */	mtlr r0
/* 80101FBC 000FD4DC  38 21 00 10 */	addi r1, r1, 0x10
/* 80101FC0 000FD4E0  4E 80 00 20 */	blr
