.include "macros.inc"

.section .text, "ax"

glabel sdp_server_handle_client_req
/* 801058DC 00100DFC  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 801058E0 00100E00  7C 08 02 A6 */	mflr r0
/* 801058E4 00100E04  90 01 00 24 */	stw r0, 0x24(r1)
/* 801058E8 00100E08  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 801058EC 00100E0C  93 C1 00 18 */	stw r30, 0x18(r1)
/* 801058F0 00100E10  93 A1 00 14 */	stw r29, 0x14(r1)
/* 801058F4 00100E14  93 81 00 10 */	stw r28, 0x10(r1)
/* 801058F8 00100E18  7C 7C 1B 78 */	mr r28, r3
/* 801058FC 00100E1C  38 63 00 08 */	addi r3, r3, 8
/* 80105900 00100E20  A0 A4 00 04 */	lhz r5, 4(r4)
/* 80105904 00100E24  A0 04 00 02 */	lhz r0, 2(r4)
/* 80105908 00100E28  7C A4 2A 14 */	add r5, r4, r5
/* 8010590C 00100E2C  38 80 00 05 */	li r4, 5
/* 80105910 00100E30  3B E5 00 08 */	addi r31, r5, 8
/* 80105914 00100E34  38 A0 00 1E */	li r5, 0x1e
/* 80105918 00100E38  7F DF 02 14 */	add r30, r31, r0
/* 8010591C 00100E3C  4B FD 7D 9D */	bl btu_start_timer
/* 80105920 00100E40  88 7F 00 03 */	lbz r3, 3(r31)
/* 80105924 00100E44  88 1F 00 04 */	lbz r0, 4(r31)
/* 80105928 00100E48  54 63 40 2E */	slwi r3, r3, 8
/* 8010592C 00100E4C  88 DF 00 01 */	lbz r6, 1(r31)
/* 80105930 00100E50  7C 03 02 14 */	add r0, r3, r0
/* 80105934 00100E54  8B BF 00 00 */	lbz r29, 0(r31)
/* 80105938 00100E58  88 9F 00 02 */	lbz r4, 2(r31)
/* 8010593C 00100E5C  54 05 04 3E */	clrlwi r5, r0, 0x10
/* 80105940 00100E60  3B FF 00 01 */	addi r31, r31, 1
/* 80105944 00100E64  54 C6 40 2E */	slwi r6, r6, 8
/* 80105948 00100E68  7C 7F 2A 14 */	add r3, r31, r5
/* 8010594C 00100E6C  38 03 00 04 */	addi r0, r3, 4
/* 80105950 00100E70  7C 66 22 14 */	add r3, r6, r4
/* 80105954 00100E74  7C 00 F0 40 */	cmplw r0, r30
/* 80105958 00100E78  54 64 04 3E */	clrlwi r4, r3, 0x10
/* 8010595C 00100E7C  40 81 00 18 */	ble .L_80105974
/* 80105960 00100E80  7F 83 E3 78 */	mr r3, r28
/* 80105964 00100E84  38 A0 00 04 */	li r5, 4
/* 80105968 00100E88  38 C0 00 00 */	li r6, 0
/* 8010596C 00100E8C  48 00 10 E1 */	bl sdpu_build_n_send_error
/* 80105970 00100E90  48 00 00 A0 */	b .L_80105A10
.L_80105974:
/* 80105974 00100E94  2C 1D 00 04 */	cmpwi r29, 4
/* 80105978 00100E98  41 82 00 34 */	beq .L_801059AC
/* 8010597C 00100E9C  40 80 00 10 */	bge .L_8010598C
/* 80105980 00100EA0  2C 1D 00 02 */	cmpwi r29, 2
/* 80105984 00100EA4  41 82 00 14 */	beq .L_80105998
/* 80105988 00100EA8  48 00 00 4C */	b .L_801059D4
.L_8010598C:
/* 8010598C 00100EAC  2C 1D 00 06 */	cmpwi r29, 6
/* 80105990 00100EB0  41 82 00 30 */	beq .L_801059C0
/* 80105994 00100EB4  48 00 00 40 */	b .L_801059D4
.L_80105998:
/* 80105998 00100EB8  7F 83 E3 78 */	mr r3, r28
/* 8010599C 00100EBC  7F C7 F3 78 */	mr r7, r30
/* 801059A0 00100EC0  38 DF 00 04 */	addi r6, r31, 4
/* 801059A4 00100EC4  48 00 00 8D */	bl process_service_search
/* 801059A8 00100EC8  48 00 00 68 */	b .L_80105A10
.L_801059AC:
/* 801059AC 00100ECC  7F 83 E3 78 */	mr r3, r28
/* 801059B0 00100ED0  7F C7 F3 78 */	mr r7, r30
/* 801059B4 00100ED4  38 DF 00 04 */	addi r6, r31, 4
/* 801059B8 00100ED8  48 00 04 89 */	bl process_service_attr_req
/* 801059BC 00100EDC  48 00 00 54 */	b .L_80105A10
.L_801059C0:
/* 801059C0 00100EE0  7F 83 E3 78 */	mr r3, r28
/* 801059C4 00100EE4  7F C7 F3 78 */	mr r7, r30
/* 801059C8 00100EE8  38 DF 00 04 */	addi r6, r31, 4
/* 801059CC 00100EEC  48 00 08 05 */	bl process_service_search_attr_req
/* 801059D0 00100EF0  48 00 00 40 */	b .L_80105A10
.L_801059D4:
/* 801059D4 00100EF4  7F 83 E3 78 */	mr r3, r28
/* 801059D8 00100EF8  38 A0 00 03 */	li r5, 3
/* 801059DC 00100EFC  38 C0 00 00 */	li r6, 0
/* 801059E0 00100F00  48 00 10 6D */	bl sdpu_build_n_send_error
/* 801059E4 00100F04  3C 60 80 22 */	lis r3, lbl_80224220@ha
/* 801059E8 00100F08  38 63 42 20 */	addi r3, r3, lbl_80224220@l
/* 801059EC 00100F0C  88 03 46 30 */	lbz r0, 0x4630(r3)
/* 801059F0 00100F10  28 00 00 02 */	cmplwi r0, 2
/* 801059F4 00100F14  41 80 00 1C */	blt .L_80105A10
/* 801059F8 00100F18  3C 60 00 0A */	lis r3, 0x000A0001@ha
/* 801059FC 00100F1C  3C 80 80 1A */	lis r4, lbl_801A0600@ha
/* 80105A00 00100F20  7F A5 EB 78 */	mr r5, r29
/* 80105A04 00100F24  38 63 00 01 */	addi r3, r3, 0x000A0001@l
/* 80105A08 00100F28  38 84 06 00 */	addi r4, r4, lbl_801A0600@l
/* 80105A0C 00100F2C  4B FD 76 F9 */	bl LogMsg_1
.L_80105A10:
/* 80105A10 00100F30  80 01 00 24 */	lwz r0, 0x24(r1)
/* 80105A14 00100F34  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 80105A18 00100F38  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 80105A1C 00100F3C  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 80105A20 00100F40  83 81 00 10 */	lwz r28, 0x10(r1)
/* 80105A24 00100F44  7C 08 03 A6 */	mtlr r0
/* 80105A28 00100F48  38 21 00 20 */	addi r1, r1, 0x20
/* 80105A2C 00100F4C  4E 80 00 20 */	blr

glabel process_service_search
/* 80105A30 00100F50  94 21 FE 30 */	stwu r1, -0x1d0(r1)
/* 80105A34 00100F54  7C 08 02 A6 */	mflr r0
/* 80105A38 00100F58  90 01 01 D4 */	stw r0, 0x1d4(r1)
/* 80105A3C 00100F5C  39 61 01 D0 */	addi r11, r1, 0x1d0
/* 80105A40 00100F60  48 05 6E D1 */	bl _savegpr_14
/* 80105A44 00100F64  38 00 00 00 */	li r0, 0
/* 80105A48 00100F68  7C 7E 1B 78 */	mr r30, r3
/* 80105A4C 00100F6C  98 01 01 7C */	stb r0, 0x17c(r1)
/* 80105A50 00100F70  7C 91 23 78 */	mr r17, r4
/* 80105A54 00100F74  7C A4 2B 78 */	mr r4, r5
/* 80105A58 00100F78  7C C3 33 78 */	mr r3, r6
/* 80105A5C 00100F7C  38 A1 00 58 */	addi r5, r1, 0x58
/* 80105A60 00100F80  3A 60 00 00 */	li r19, 0
/* 80105A64 00100F84  48 00 11 25 */	bl sdpu_extract_uid_seq
/* 80105A68 00100F88  2C 03 00 00 */	cmpwi r3, 0
/* 80105A6C 00100F8C  7C 6F 1B 78 */	mr r15, r3
/* 80105A70 00100F90  41 82 00 10 */	beq .L_80105A80
/* 80105A74 00100F94  A0 01 00 58 */	lhz r0, 0x58(r1)
/* 80105A78 00100F98  2C 00 00 00 */	cmpwi r0, 0
/* 80105A7C 00100F9C  40 82 00 1C */	bne .L_80105A98
.L_80105A80:
/* 80105A80 00100FA0  7F C3 F3 78 */	mr r3, r30
/* 80105A84 00100FA4  7E 24 8B 78 */	mr r4, r17
/* 80105A88 00100FA8  38 A0 00 03 */	li r5, 3
/* 80105A8C 00100FAC  38 C0 00 00 */	li r6, 0
/* 80105A90 00100FB0  48 00 0F BD */	bl sdpu_build_n_send_error
/* 80105A94 00100FB4  48 00 03 94 */	b .L_80105E28
.L_80105A98:
/* 80105A98 00100FB8  88 83 00 00 */	lbz r4, 0(r3)
/* 80105A9C 00100FBC  88 03 00 01 */	lbz r0, 1(r3)
/* 80105AA0 00100FC0  54 83 40 2E */	slwi r3, r4, 8
/* 80105AA4 00100FC4  7C 03 02 14 */	add r0, r3, r0
/* 80105AA8 00100FC8  54 12 04 3E */	clrlwi r18, r0, 0x10
/* 80105AAC 00100FCC  28 12 00 14 */	cmplwi r18, 0x14
/* 80105AB0 00100FD0  40 81 00 08 */	ble .L_80105AB8
/* 80105AB4 00100FD4  3A 40 00 14 */	li r18, 0x14
.L_80105AB8:
/* 80105AB8 00100FD8  39 C1 00 08 */	addi r14, r1, 8
/* 80105ABC 00100FDC  3A 00 00 00 */	li r16, 0
/* 80105AC0 00100FE0  48 00 00 2C */	b .L_80105AEC
.L_80105AC4:
/* 80105AC4 00100FE4  7E 63 9B 78 */	mr r3, r19
/* 80105AC8 00100FE8  38 81 00 58 */	addi r4, r1, 0x58
/* 80105ACC 00100FEC  4B FF D3 61 */	bl sdp_db_service_search
/* 80105AD0 00100FF0  2C 03 00 00 */	cmpwi r3, 0
/* 80105AD4 00100FF4  7C 73 1B 78 */	mr r19, r3
/* 80105AD8 00100FF8  41 82 00 20 */	beq .L_80105AF8
/* 80105ADC 00100FFC  80 63 00 00 */	lwz r3, 0(r3)
/* 80105AE0 00101000  56 00 13 BA */	rlwinm r0, r16, 2, 0xe, 0x1d
/* 80105AE4 00101004  3A 10 00 01 */	addi r16, r16, 1
/* 80105AE8 00101008  7C 6E 01 2E */	stwx r3, r14, r0
.L_80105AEC:
/* 80105AEC 0010100C  56 00 04 3E */	clrlwi r0, r16, 0x10
/* 80105AF0 00101010  7C 00 90 40 */	cmplw r0, r18
/* 80105AF4 00101014  41 80 FF D0 */	blt .L_80105AC4
.L_80105AF8:
/* 80105AF8 00101018  88 0F 00 02 */	lbz r0, 2(r15)
/* 80105AFC 0010101C  2C 00 00 00 */	cmpwi r0, 0
/* 80105B00 00101020  41 82 00 6C */	beq .L_80105B6C
/* 80105B04 00101024  28 00 00 02 */	cmplwi r0, 2
/* 80105B08 00101028  38 6F 00 03 */	addi r3, r15, 3
/* 80105B0C 0010102C  41 82 00 1C */	beq .L_80105B28
/* 80105B10 00101030  7F C3 F3 78 */	mr r3, r30
/* 80105B14 00101034  7E 24 8B 78 */	mr r4, r17
/* 80105B18 00101038  38 A0 00 05 */	li r5, 5
/* 80105B1C 0010103C  38 C0 00 00 */	li r6, 0
/* 80105B20 00101040  48 00 0F 2D */	bl sdpu_build_n_send_error
/* 80105B24 00101044  48 00 03 04 */	b .L_80105E28
.L_80105B28:
/* 80105B28 00101048  88 03 00 00 */	lbz r0, 0(r3)
/* 80105B2C 0010104C  88 63 00 01 */	lbz r3, 1(r3)
/* 80105B30 00101050  54 04 40 2E */	slwi r4, r0, 8
/* 80105B34 00101054  A0 1E 04 76 */	lhz r0, 0x476(r30)
/* 80105B38 00101058  7C 64 1A 14 */	add r3, r4, r3
/* 80105B3C 0010105C  54 7F 04 3E */	clrlwi r31, r3, 0x10
/* 80105B40 00101060  7C 1F 00 40 */	cmplw r31, r0
/* 80105B44 00101064  41 82 00 1C */	beq .L_80105B60
/* 80105B48 00101068  7F C3 F3 78 */	mr r3, r30
/* 80105B4C 0010106C  7E 24 8B 78 */	mr r4, r17
/* 80105B50 00101070  38 A0 00 05 */	li r5, 5
/* 80105B54 00101074  38 C0 00 00 */	li r6, 0
/* 80105B58 00101078  48 00 0E F5 */	bl sdpu_build_n_send_error
/* 80105B5C 0010107C  48 00 02 CC */	b .L_80105E28
.L_80105B60:
/* 80105B60 00101080  7C 1F 80 50 */	subf r0, r31, r16
/* 80105B64 00101084  54 04 04 3E */	clrlwi r4, r0, 0x10
/* 80105B68 00101088  48 00 00 0C */	b .L_80105B74
.L_80105B6C:
/* 80105B6C 0010108C  7E 04 83 78 */	mr r4, r16
/* 80105B70 00101090  3B E0 00 00 */	li r31, 0
.L_80105B74:
/* 80105B74 00101094  A0 7E 00 20 */	lhz r3, 0x20(r30)
/* 80105B78 00101098  54 80 04 3E */	clrlwi r0, r4, 0x10
/* 80105B7C 0010109C  38 63 FF F4 */	addi r3, r3, -12
/* 80105B80 001010A0  7C 63 16 70 */	srawi r3, r3, 2
/* 80105B84 001010A4  7C 63 01 94 */	addze r3, r3
/* 80105B88 001010A8  54 6F 04 3E */	clrlwi r15, r3, 0x10
/* 80105B8C 001010AC  7C 00 78 40 */	cmplw r0, r15
/* 80105B90 001010B0  41 81 00 0C */	bgt .L_80105B9C
/* 80105B94 001010B4  7C 8F 23 78 */	mr r15, r4
/* 80105B98 001010B8  48 00 00 18 */	b .L_80105BB0
.L_80105B9C:
/* 80105B9C 001010BC  A0 7E 04 76 */	lhz r3, 0x476(r30)
/* 80105BA0 001010C0  38 00 00 01 */	li r0, 1
/* 80105BA4 001010C4  98 01 01 7C */	stb r0, 0x17c(r1)
/* 80105BA8 001010C8  7C 03 7A 14 */	add r0, r3, r15
/* 80105BAC 001010CC  B0 1E 04 76 */	sth r0, 0x476(r30)
.L_80105BB0:
/* 80105BB0 001010D0  38 60 00 02 */	li r3, 2
/* 80105BB4 001010D4  4B FD 42 75 */	bl GKI_getpoolbuf
/* 80105BB8 001010D8  2C 03 00 00 */	cmpwi r3, 0
/* 80105BBC 001010DC  40 82 00 2C */	bne .L_80105BE8
/* 80105BC0 001010E0  3C 60 80 22 */	lis r3, lbl_80224220@ha
/* 80105BC4 001010E4  38 63 42 20 */	addi r3, r3, lbl_80224220@l
/* 80105BC8 001010E8  88 03 46 30 */	lbz r0, 0x4630(r3)
/* 80105BCC 001010EC  28 00 00 01 */	cmplwi r0, 1
/* 80105BD0 001010F0  41 80 02 58 */	blt .L_80105E28
/* 80105BD4 001010F4  3C 80 80 1A */	lis r4, lbl_801A0624@ha
/* 80105BD8 001010F8  3C 60 00 0A */	lis r3, 0xa
/* 80105BDC 001010FC  38 84 06 24 */	addi r4, r4, lbl_801A0624@l
/* 80105BE0 00101100  4B FD 75 0D */	bl LogMsg_0
/* 80105BE4 00101104  48 00 02 44 */	b .L_80105E28
.L_80105BE8:
/* 80105BE8 00101108  38 00 00 09 */	li r0, 9
/* 80105BEC 0010110C  39 C3 00 11 */	addi r14, r3, 0x11
/* 80105BF0 00101110  B0 03 00 04 */	sth r0, 4(r3)
/* 80105BF4 00101114  38 80 00 03 */	li r4, 3
/* 80105BF8 00101118  55 E0 04 3E */	clrlwi r0, r15, 0x10
/* 80105BFC 0010111C  39 6E 00 03 */	addi r11, r14, 3
/* 80105C00 00101120  98 83 00 11 */	stb r4, 0x11(r3)
/* 80105C04 00101124  7D 5F 02 14 */	add r10, r31, r0
/* 80105C08 00101128  7E 25 46 70 */	srawi r5, r17, 8
/* 80105C0C 0010112C  56 04 C6 3E */	rlwinm r4, r16, 0x18, 0x18, 0x1f
/* 80105C10 00101130  98 A3 00 12 */	stb r5, 0x12(r3)
/* 80105C14 00101134  55 E0 C6 3E */	rlwinm r0, r15, 0x18, 0x18, 0x1f
/* 80105C18 00101138  7C 1F 50 00 */	cmpw r31, r10
/* 80105C1C 0010113C  9A 23 00 13 */	stb r17, 0x13(r3)
/* 80105C20 00101140  98 83 00 16 */	stb r4, 0x16(r3)
/* 80105C24 00101144  9A 03 00 17 */	stb r16, 0x17(r3)
/* 80105C28 00101148  98 03 00 18 */	stb r0, 0x18(r3)
/* 80105C2C 0010114C  91 61 01 80 */	stw r11, 0x180(r1)
/* 80105C30 00101150  39 6B 00 06 */	addi r11, r11, 6
/* 80105C34 00101154  99 E3 00 19 */	stb r15, 0x19(r3)
/* 80105C38 00101158  40 80 01 84 */	bge .L_80105DBC
/* 80105C3C 0010115C  55 45 04 3E */	clrlwi r5, r10, 0x10
/* 80105C40 00101160  38 0A FF F8 */	addi r0, r10, -8
/* 80105C44 00101164  7C 9F 28 50 */	subf r4, r31, r5
/* 80105C48 00101168  54 84 04 3E */	clrlwi r4, r4, 0x10
/* 80105C4C 0010116C  28 04 00 08 */	cmplwi r4, 8
/* 80105C50 00101170  40 81 01 2C */	ble .L_80105D7C
/* 80105C54 00101174  7C 1F 28 40 */	cmplw r31, r5
/* 80105C58 00101178  41 81 01 24 */	bgt .L_80105D7C
/* 80105C5C 0010117C  48 00 01 14 */	b .L_80105D70
.L_80105C60:
/* 80105C60 00101180  57 E4 13 BA */	rlwinm r4, r31, 2, 0xe, 0x1d
/* 80105C64 00101184  3A 21 00 08 */	addi r17, r1, 8
/* 80105C68 00101188  7D 11 20 6E */	lwzux r8, r17, r4
/* 80105C6C 0010118C  3B FF 00 08 */	addi r31, r31, 8
/* 80105C70 00101190  55 05 46 3E */	srwi r5, r8, 0x18
/* 80105C74 00101194  83 11 00 04 */	lwz r24, 4(r17)
/* 80105C78 00101198  98 AB 00 00 */	stb r5, 0(r11)
/* 80105C7C 0010119C  55 06 86 3E */	rlwinm r6, r8, 0x10, 0x18, 0x1f
/* 80105C80 001011A0  80 91 00 08 */	lwz r4, 8(r17)
/* 80105C84 001011A4  55 07 C6 3E */	rlwinm r7, r8, 0x18, 0x18, 0x1f
/* 80105C88 001011A8  98 CB 00 01 */	stb r6, 1(r11)
/* 80105C8C 001011AC  57 09 46 3E */	srwi r9, r24, 0x18
/* 80105C90 001011B0  80 D1 00 10 */	lwz r6, 0x10(r17)
/* 80105C94 001011B4  57 12 86 3E */	rlwinm r18, r24, 0x10, 0x18, 0x1f
/* 80105C98 001011B8  98 EB 00 02 */	stb r7, 2(r11)
/* 80105C9C 001011BC  57 15 C6 3E */	rlwinm r21, r24, 0x18, 0x18, 0x1f
/* 80105CA0 001011C0  80 F1 00 14 */	lwz r7, 0x14(r17)
/* 80105CA4 001011C4  54 9B 46 3E */	srwi r27, r4, 0x18
/* 80105CA8 001011C8  99 0B 00 03 */	stb r8, 3(r11)
/* 80105CAC 001011CC  54 8C 86 3E */	rlwinm r12, r4, 0x10, 0x18, 0x1f
/* 80105CB0 001011D0  81 11 00 18 */	lwz r8, 0x18(r17)
/* 80105CB4 001011D4  54 8F C6 3E */	rlwinm r15, r4, 0x18, 0x18, 0x1f
/* 80105CB8 001011D8  99 2B 00 04 */	stb r9, 4(r11)
/* 80105CBC 001011DC  54 D3 46 3E */	srwi r19, r6, 0x18
/* 80105CC0 001011E0  81 31 00 1C */	lwz r9, 0x1c(r17)
/* 80105CC4 001011E4  54 D4 86 3E */	rlwinm r20, r6, 0x10, 0x18, 0x1f
/* 80105CC8 001011E8  9A 4B 00 05 */	stb r18, 5(r11)
/* 80105CCC 001011EC  54 F6 46 3E */	srwi r22, r7, 0x18
/* 80105CD0 001011F0  80 B1 00 0C */	lwz r5, 0xc(r17)
/* 80105CD4 001011F4  54 F7 86 3E */	rlwinm r23, r7, 0x10, 0x18, 0x1f
/* 80105CD8 001011F8  9A AB 00 06 */	stb r21, 6(r11)
/* 80105CDC 001011FC  54 D5 C6 3E */	rlwinm r21, r6, 0x18, 0x18, 0x1f
/* 80105CE0 00101200  54 B0 46 3E */	srwi r16, r5, 0x18
/* 80105CE4 00101204  54 B1 86 3E */	rlwinm r17, r5, 0x10, 0x18, 0x1f
/* 80105CE8 00101208  9B 0B 00 07 */	stb r24, 7(r11)
/* 80105CEC 0010120C  54 B2 C6 3E */	rlwinm r18, r5, 0x18, 0x18, 0x1f
/* 80105CF0 00101210  54 F8 C6 3E */	rlwinm r24, r7, 0x18, 0x18, 0x1f
/* 80105CF4 00101214  55 19 46 3E */	srwi r25, r8, 0x18
/* 80105CF8 00101218  9B 6B 00 08 */	stb r27, 8(r11)
/* 80105CFC 0010121C  55 1A 86 3E */	rlwinm r26, r8, 0x10, 0x18, 0x1f
/* 80105D00 00101220  55 1B C6 3E */	rlwinm r27, r8, 0x18, 0x18, 0x1f
/* 80105D04 00101224  55 3C 46 3E */	srwi r28, r9, 0x18
/* 80105D08 00101228  99 8B 00 09 */	stb r12, 9(r11)
/* 80105D0C 0010122C  55 3D 86 3E */	rlwinm r29, r9, 0x10, 0x18, 0x1f
/* 80105D10 00101230  55 2C C6 3E */	rlwinm r12, r9, 0x18, 0x18, 0x1f
/* 80105D14 00101234  99 EB 00 0A */	stb r15, 0xa(r11)
/* 80105D18 00101238  98 8B 00 0B */	stb r4, 0xb(r11)
/* 80105D1C 0010123C  9A 0B 00 0C */	stb r16, 0xc(r11)
/* 80105D20 00101240  9A 2B 00 0D */	stb r17, 0xd(r11)
/* 80105D24 00101244  9A 4B 00 0E */	stb r18, 0xe(r11)
/* 80105D28 00101248  98 AB 00 0F */	stb r5, 0xf(r11)
/* 80105D2C 0010124C  9A 6B 00 10 */	stb r19, 0x10(r11)
/* 80105D30 00101250  9A 8B 00 11 */	stb r20, 0x11(r11)
/* 80105D34 00101254  9A AB 00 12 */	stb r21, 0x12(r11)
/* 80105D38 00101258  98 CB 00 13 */	stb r6, 0x13(r11)
/* 80105D3C 0010125C  9A CB 00 14 */	stb r22, 0x14(r11)
/* 80105D40 00101260  9A EB 00 15 */	stb r23, 0x15(r11)
/* 80105D44 00101264  9B 0B 00 16 */	stb r24, 0x16(r11)
/* 80105D48 00101268  98 EB 00 17 */	stb r7, 0x17(r11)
/* 80105D4C 0010126C  9B 2B 00 18 */	stb r25, 0x18(r11)
/* 80105D50 00101270  9B 4B 00 19 */	stb r26, 0x19(r11)
/* 80105D54 00101274  9B 6B 00 1A */	stb r27, 0x1a(r11)
/* 80105D58 00101278  99 0B 00 1B */	stb r8, 0x1b(r11)
/* 80105D5C 0010127C  9B 8B 00 1C */	stb r28, 0x1c(r11)
/* 80105D60 00101280  9B AB 00 1D */	stb r29, 0x1d(r11)
/* 80105D64 00101284  99 8B 00 1E */	stb r12, 0x1e(r11)
/* 80105D68 00101288  99 2B 00 1F */	stb r9, 0x1f(r11)
/* 80105D6C 0010128C  39 6B 00 20 */	addi r11, r11, 0x20
.L_80105D70:
/* 80105D70 00101290  57 E4 04 3E */	clrlwi r4, r31, 0x10
/* 80105D74 00101294  7C 04 00 00 */	cmpw r4, r0
/* 80105D78 00101298  41 80 FE E8 */	blt .L_80105C60
.L_80105D7C:
/* 80105D7C 0010129C  38 A1 00 08 */	addi r5, r1, 8
/* 80105D80 001012A0  48 00 00 30 */	b .L_80105DB0
.L_80105D84:
/* 80105D84 001012A4  57 E0 13 BA */	rlwinm r0, r31, 2, 0xe, 0x1d
/* 80105D88 001012A8  3B FF 00 01 */	addi r31, r31, 1
/* 80105D8C 001012AC  7C C5 00 2E */	lwzx r6, r5, r0
/* 80105D90 001012B0  54 C0 46 3E */	srwi r0, r6, 0x18
/* 80105D94 001012B4  54 C4 86 3E */	rlwinm r4, r6, 0x10, 0x18, 0x1f
/* 80105D98 001012B8  98 0B 00 00 */	stb r0, 0(r11)
/* 80105D9C 001012BC  54 C0 C6 3E */	rlwinm r0, r6, 0x18, 0x18, 0x1f
/* 80105DA0 001012C0  98 8B 00 01 */	stb r4, 1(r11)
/* 80105DA4 001012C4  98 0B 00 02 */	stb r0, 2(r11)
/* 80105DA8 001012C8  98 CB 00 03 */	stb r6, 3(r11)
/* 80105DAC 001012CC  39 6B 00 04 */	addi r11, r11, 4
.L_80105DB0:
/* 80105DB0 001012D0  57 E0 04 3E */	clrlwi r0, r31, 0x10
/* 80105DB4 001012D4  7C 00 50 00 */	cmpw r0, r10
/* 80105DB8 001012D8  41 80 FF CC */	blt .L_80105D84
.L_80105DBC:
/* 80105DBC 001012DC  88 01 01 7C */	lbz r0, 0x17c(r1)
/* 80105DC0 001012E0  2C 00 00 00 */	cmpwi r0, 0
/* 80105DC4 001012E4  41 82 00 28 */	beq .L_80105DEC
/* 80105DC8 001012E8  38 00 00 02 */	li r0, 2
/* 80105DCC 001012EC  98 0B 00 00 */	stb r0, 0(r11)
/* 80105DD0 001012F0  A0 1E 04 76 */	lhz r0, 0x476(r30)
/* 80105DD4 001012F4  7C 00 46 70 */	srawi r0, r0, 8
/* 80105DD8 001012F8  98 0B 00 01 */	stb r0, 1(r11)
/* 80105DDC 001012FC  A0 1E 04 76 */	lhz r0, 0x476(r30)
/* 80105DE0 00101300  98 0B 00 02 */	stb r0, 2(r11)
/* 80105DE4 00101304  39 6B 00 03 */	addi r11, r11, 3
/* 80105DE8 00101308  48 00 00 10 */	b .L_80105DF8
.L_80105DEC:
/* 80105DEC 0010130C  38 00 00 00 */	li r0, 0
/* 80105DF0 00101310  98 0B 00 00 */	stb r0, 0(r11)
/* 80105DF4 00101314  39 6B 00 01 */	addi r11, r11, 1
.L_80105DF8:
/* 80105DF8 00101318  80 01 01 80 */	lwz r0, 0x180(r1)
/* 80105DFC 0010131C  80 A1 01 80 */	lwz r5, 0x180(r1)
/* 80105E00 00101320  7C 80 58 50 */	subf r4, r0, r11
/* 80105E04 00101324  7C 0E 58 50 */	subf r0, r14, r11
/* 80105E08 00101328  38 E4 FF FE */	addi r7, r4, -2
/* 80105E0C 0010132C  54 E6 C6 3E */	rlwinm r6, r7, 0x18, 0x18, 0x1f
/* 80105E10 00101330  7C 64 1B 78 */	mr r4, r3
/* 80105E14 00101334  98 C5 00 00 */	stb r6, 0(r5)
/* 80105E18 00101338  98 E5 00 01 */	stb r7, 1(r5)
/* 80105E1C 0010133C  B0 03 00 02 */	sth r0, 2(r3)
/* 80105E20 00101340  A0 7E 00 22 */	lhz r3, 0x22(r30)
/* 80105E24 00101344  4B FF 04 A9 */	bl L2CA_DataWrite
.L_80105E28:
/* 80105E28 00101348  39 61 01 D0 */	addi r11, r1, 0x1d0
/* 80105E2C 0010134C  48 05 6B 31 */	bl _restgpr_14
/* 80105E30 00101350  80 01 01 D4 */	lwz r0, 0x1d4(r1)
/* 80105E34 00101354  7C 08 03 A6 */	mtlr r0
/* 80105E38 00101358  38 21 01 D0 */	addi r1, r1, 0x1d0
/* 80105E3C 0010135C  4E 80 00 20 */	blr

glabel process_service_attr_req
/* 80105E40 00101360  94 21 FF 90 */	stwu r1, -0x70(r1)
/* 80105E44 00101364  7C 08 02 A6 */	mflr r0
/* 80105E48 00101368  90 01 00 74 */	stw r0, 0x74(r1)
/* 80105E4C 0010136C  39 61 00 70 */	addi r11, r1, 0x70
/* 80105E50 00101370  48 05 6A E9 */	bl _savegpr_24
/* 80105E54 00101374  89 26 00 00 */	lbz r9, 0(r6)
/* 80105E58 00101378  38 06 00 04 */	addi r0, r6, 4
/* 80105E5C 0010137C  89 06 00 01 */	lbz r8, 1(r6)
/* 80105E60 00101380  7C 00 38 40 */	cmplw r0, r7
/* 80105E64 00101384  88 06 00 02 */	lbz r0, 2(r6)
/* 80105E68 00101388  55 2A C0 0E */	slwi r10, r9, 0x18
/* 80105E6C 0010138C  55 08 80 1E */	slwi r8, r8, 0x10
/* 80105E70 00101390  89 26 00 03 */	lbz r9, 3(r6)
/* 80105E74 00101394  54 00 40 2E */	slwi r0, r0, 8
/* 80105E78 00101398  7C 79 1B 78 */	mr r25, r3
/* 80105E7C 0010139C  7D 0A 42 14 */	add r8, r10, r8
/* 80105E80 001013A0  7C 9A 23 78 */	mr r26, r4
/* 80105E84 001013A4  7C 09 02 14 */	add r0, r9, r0
/* 80105E88 001013A8  7C F8 3B 78 */	mr r24, r7
/* 80105E8C 001013AC  7F 68 02 14 */	add r27, r8, r0
/* 80105E90 001013B0  40 81 00 14 */	ble .L_80105EA4
/* 80105E94 001013B4  38 A0 00 02 */	li r5, 2
/* 80105E98 001013B8  38 C0 00 00 */	li r6, 0
/* 80105E9C 001013BC  48 00 0B B1 */	bl sdpu_build_n_send_error
/* 80105EA0 001013C0  48 00 03 18 */	b .L_801061B8
.L_80105EA4:
/* 80105EA4 001013C4  88 86 00 04 */	lbz r4, 4(r6)
/* 80105EA8 001013C8  88 06 00 05 */	lbz r0, 5(r6)
/* 80105EAC 001013CC  54 84 40 2E */	slwi r4, r4, 8
/* 80105EB0 001013D0  A0 63 00 20 */	lhz r3, 0x20(r3)
/* 80105EB4 001013D4  7C 04 02 14 */	add r0, r4, r0
/* 80105EB8 001013D8  54 1E 04 3E */	clrlwi r30, r0, 0x10
/* 80105EBC 001013DC  38 03 FF F6 */	addi r0, r3, -10
/* 80105EC0 001013E0  7C 1E 00 00 */	cmpw r30, r0
/* 80105EC4 001013E4  40 81 00 08 */	ble .L_80105ECC
/* 80105EC8 001013E8  54 1E 04 3E */	clrlwi r30, r0, 0x10
.L_80105ECC:
/* 80105ECC 001013EC  7C A4 2B 78 */	mr r4, r5
/* 80105ED0 001013F0  38 66 00 06 */	addi r3, r6, 6
/* 80105ED4 001013F4  38 A1 00 08 */	addi r5, r1, 8
/* 80105ED8 001013F8  48 00 10 01 */	bl sdpu_extract_attr_seq
/* 80105EDC 001013FC  2C 03 00 00 */	cmpwi r3, 0
/* 80105EE0 00101400  7C 7C 1B 78 */	mr r28, r3
/* 80105EE4 00101404  41 82 00 18 */	beq .L_80105EFC
/* 80105EE8 00101408  A0 01 00 08 */	lhz r0, 8(r1)
/* 80105EEC 0010140C  2C 00 00 00 */	cmpwi r0, 0
/* 80105EF0 00101410  41 82 00 0C */	beq .L_80105EFC
/* 80105EF4 00101414  7C 03 C0 40 */	cmplw r3, r24
/* 80105EF8 00101418  40 81 00 1C */	ble .L_80105F14
.L_80105EFC:
/* 80105EFC 0010141C  7F 23 CB 78 */	mr r3, r25
/* 80105F00 00101420  7F 44 D3 78 */	mr r4, r26
/* 80105F04 00101424  38 A0 00 03 */	li r5, 3
/* 80105F08 00101428  38 C0 00 00 */	li r6, 0
/* 80105F0C 0010142C  48 00 0B 41 */	bl sdpu_build_n_send_error
/* 80105F10 00101430  48 00 02 A8 */	b .L_801061B8
.L_80105F14:
/* 80105F14 00101434  7F 63 DB 78 */	mr r3, r27
/* 80105F18 00101438  4B FF D1 29 */	bl sdp_db_find_record
/* 80105F1C 0010143C  2C 03 00 00 */	cmpwi r3, 0
/* 80105F20 00101440  7C 7B 1B 78 */	mr r27, r3
/* 80105F24 00101444  40 82 00 1C */	bne .L_80105F40
/* 80105F28 00101448  7F 23 CB 78 */	mr r3, r25
/* 80105F2C 0010144C  7F 44 D3 78 */	mr r4, r26
/* 80105F30 00101450  38 A0 00 02 */	li r5, 2
/* 80105F34 00101454  38 C0 00 00 */	li r6, 0
/* 80105F38 00101458  48 00 0B 15 */	bl sdpu_build_n_send_error
/* 80105F3C 0010145C  48 00 02 7C */	b .L_801061B8
.L_80105F40:
/* 80105F40 00101460  88 1C 00 00 */	lbz r0, 0(r28)
/* 80105F44 00101464  2C 00 00 00 */	cmpwi r0, 0
/* 80105F48 00101468  41 82 00 5C */	beq .L_80105FA4
/* 80105F4C 0010146C  28 00 00 02 */	cmplwi r0, 2
/* 80105F50 00101470  41 82 00 1C */	beq .L_80105F6C
/* 80105F54 00101474  7F 23 CB 78 */	mr r3, r25
/* 80105F58 00101478  7F 44 D3 78 */	mr r4, r26
/* 80105F5C 0010147C  38 A0 00 05 */	li r5, 5
/* 80105F60 00101480  38 C0 00 00 */	li r6, 0
/* 80105F64 00101484  48 00 0A E9 */	bl sdpu_build_n_send_error
/* 80105F68 00101488  48 00 02 50 */	b .L_801061B8
.L_80105F6C:
/* 80105F6C 0010148C  88 1C 00 01 */	lbz r0, 1(r28)
/* 80105F70 00101490  88 7C 00 02 */	lbz r3, 2(r28)
/* 80105F74 00101494  54 04 40 2E */	slwi r4, r0, 8
/* 80105F78 00101498  A0 19 04 76 */	lhz r0, 0x476(r25)
/* 80105F7C 0010149C  7C 64 1A 14 */	add r3, r4, r3
/* 80105F80 001014A0  54 63 04 3E */	clrlwi r3, r3, 0x10
/* 80105F84 001014A4  7C 03 00 40 */	cmplw r3, r0
/* 80105F88 001014A8  41 82 01 14 */	beq .L_8010609C
/* 80105F8C 001014AC  7F 23 CB 78 */	mr r3, r25
/* 80105F90 001014B0  7F 44 D3 78 */	mr r4, r26
/* 80105F94 001014B4  38 A0 00 05 */	li r5, 5
/* 80105F98 001014B8  38 C0 00 00 */	li r6, 0
/* 80105F9C 001014BC  48 00 0A B1 */	bl sdpu_build_n_send_error
/* 80105FA0 001014C0  48 00 02 18 */	b .L_801061B8
.L_80105FA4:
/* 80105FA4 001014C4  38 00 00 00 */	li r0, 0
/* 80105FA8 001014C8  3B B9 00 29 */	addi r29, r25, 0x29
/* 80105FAC 001014CC  B0 19 04 76 */	sth r0, 0x476(r25)
/* 80105FB0 001014D0  3B 80 00 00 */	li r28, 0
/* 80105FB4 001014D4  48 00 00 84 */	b .L_80106038
.L_80105FB8:
/* 80105FB8 001014D8  57 80 13 BA */	rlwinm r0, r28, 2, 0xe, 0x1d
/* 80105FBC 001014DC  3B E1 00 08 */	addi r31, r1, 8
/* 80105FC0 001014E0  7F FF 02 14 */	add r31, r31, r0
/* 80105FC4 001014E4  7F 63 DB 78 */	mr r3, r27
/* 80105FC8 001014E8  A0 9F 00 02 */	lhz r4, 2(r31)
/* 80105FCC 001014EC  A0 BF 00 04 */	lhz r5, 4(r31)
/* 80105FD0 001014F0  4B FF D0 CD */	bl sdp_db_find_attr_in_rec
/* 80105FD4 001014F4  2C 03 00 00 */	cmpwi r3, 0
/* 80105FD8 001014F8  7C 78 1B 78 */	mr r24, r3
/* 80105FDC 001014FC  41 82 00 58 */	beq .L_80106034
/* 80105FE0 00101500  38 19 00 26 */	addi r0, r25, 0x26
/* 80105FE4 00101504  80 83 00 00 */	lwz r4, 0(r3)
/* 80105FE8 00101508  7C 00 E8 50 */	subf r0, r0, r29
/* 80105FEC 0010150C  54 00 04 3E */	clrlwi r0, r0, 0x10
/* 80105FF0 00101510  20 00 03 E8 */	subfic r0, r0, 0x3e8
/* 80105FF4 00101514  54 03 04 3E */	clrlwi r3, r0, 0x10
/* 80105FF8 00101518  38 03 FF FA */	addi r0, r3, -6
/* 80105FFC 0010151C  7C 04 00 40 */	cmplw r4, r0
/* 80106000 00101520  41 81 00 48 */	bgt .L_80106048
/* 80106004 00101524  7F A3 EB 78 */	mr r3, r29
/* 80106008 00101528  7F 04 C3 78 */	mr r4, r24
/* 8010600C 0010152C  48 00 08 ED */	bl sdpu_build_attrib_entry
/* 80106010 00101530  A0 9F 00 02 */	lhz r4, 2(r31)
/* 80106014 00101534  7C 7D 1B 78 */	mr r29, r3
/* 80106018 00101538  A0 1F 00 04 */	lhz r0, 4(r31)
/* 8010601C 0010153C  7C 04 00 40 */	cmplw r4, r0
/* 80106020 00101540  41 82 00 14 */	beq .L_80106034
/* 80106024 00101544  A0 78 00 08 */	lhz r3, 8(r24)
/* 80106028 00101548  3B 9C FF FF */	addi r28, r28, -1
/* 8010602C 0010154C  38 03 00 01 */	addi r0, r3, 1
/* 80106030 00101550  B0 1F 00 02 */	sth r0, 2(r31)
.L_80106034:
/* 80106034 00101554  3B 9C 00 01 */	addi r28, r28, 1
.L_80106038:
/* 80106038 00101558  A0 01 00 08 */	lhz r0, 8(r1)
/* 8010603C 0010155C  57 83 04 3E */	clrlwi r3, r28, 0x10
/* 80106040 00101560  7C 03 00 40 */	cmplw r3, r0
/* 80106044 00101564  41 80 FF 74 */	blt .L_80105FB8
.L_80106048:
/* 80106048 00101568  38 19 00 26 */	addi r0, r25, 0x26
/* 8010604C 0010156C  7C 00 E8 50 */	subf r0, r0, r29
/* 80106050 00101570  54 04 04 3E */	clrlwi r4, r0, 0x10
/* 80106054 00101574  B0 19 00 24 */	sth r0, 0x24(r25)
/* 80106058 00101578  28 04 00 FF */	cmplwi r4, 0xff
/* 8010605C 0010157C  40 81 00 20 */	ble .L_8010607C
/* 80106060 00101580  38 64 FF FD */	addi r3, r4, -3
/* 80106064 00101584  38 80 00 36 */	li r4, 0x36
/* 80106068 00101588  7C 60 46 70 */	srawi r0, r3, 8
/* 8010606C 0010158C  98 99 00 26 */	stb r4, 0x26(r25)
/* 80106070 00101590  98 19 00 27 */	stb r0, 0x27(r25)
/* 80106074 00101594  98 79 00 28 */	stb r3, 0x28(r25)
/* 80106078 00101598  48 00 00 24 */	b .L_8010609C
.L_8010607C:
/* 8010607C 0010159C  38 64 FF FD */	addi r3, r4, -3
/* 80106080 001015A0  38 04 FF FF */	addi r0, r4, -1
/* 80106084 001015A4  38 A0 00 01 */	li r5, 1
/* 80106088 001015A8  38 80 00 35 */	li r4, 0x35
/* 8010608C 001015AC  B0 B9 04 76 */	sth r5, 0x476(r25)
/* 80106090 001015B0  98 99 00 27 */	stb r4, 0x27(r25)
/* 80106094 001015B4  98 79 00 28 */	stb r3, 0x28(r25)
/* 80106098 001015B8  B0 19 00 24 */	sth r0, 0x24(r25)
.L_8010609C:
/* 8010609C 001015BC  38 60 00 02 */	li r3, 2
/* 801060A0 001015C0  4B FD 3D 89 */	bl GKI_getpoolbuf
/* 801060A4 001015C4  2C 03 00 00 */	cmpwi r3, 0
/* 801060A8 001015C8  7C 7B 1B 78 */	mr r27, r3
/* 801060AC 001015CC  40 82 00 2C */	bne .L_801060D8
/* 801060B0 001015D0  3C 60 80 22 */	lis r3, lbl_80224220@ha
/* 801060B4 001015D4  38 63 42 20 */	addi r3, r3, lbl_80224220@l
/* 801060B8 001015D8  88 03 46 30 */	lbz r0, 0x4630(r3)
/* 801060BC 001015DC  28 00 00 01 */	cmplwi r0, 1
/* 801060C0 001015E0  41 80 00 F8 */	blt .L_801061B8
/* 801060C4 001015E4  3C 80 80 1A */	lis r4, lbl_801A0624@ha
/* 801060C8 001015E8  3C 60 00 0A */	lis r3, 0xa
/* 801060CC 001015EC  38 84 06 24 */	addi r4, r4, lbl_801A0624@l
/* 801060D0 001015F0  4B FD 70 1D */	bl LogMsg_0
/* 801060D4 001015F4  48 00 00 E4 */	b .L_801061B8
.L_801060D8:
/* 801060D8 001015F8  38 00 00 09 */	li r0, 9
/* 801060DC 001015FC  3B A3 00 11 */	addi r29, r3, 0x11
/* 801060E0 00101600  B0 03 00 04 */	sth r0, 4(r3)
/* 801060E4 00101604  38 60 00 05 */	li r3, 5
/* 801060E8 00101608  3B FD 00 03 */	addi r31, r29, 3
/* 801060EC 0010160C  57 40 C6 3E */	rlwinm r0, r26, 0x18, 0x18, 0x1f
/* 801060F0 00101610  98 7D 00 00 */	stb r3, 0(r29)
/* 801060F4 00101614  7F FC FB 78 */	mr r28, r31
/* 801060F8 00101618  98 1D 00 01 */	stb r0, 1(r29)
/* 801060FC 0010161C  9B 5D 00 02 */	stb r26, 2(r29)
/* 80106100 00101620  A0 19 00 24 */	lhz r0, 0x24(r25)
/* 80106104 00101624  7C 00 F0 40 */	cmplw r0, r30
/* 80106108 00101628  41 81 00 08 */	bgt .L_80106110
/* 8010610C 0010162C  7C 1E 03 78 */	mr r30, r0
.L_80106110:
/* 80106110 00101630  57 C0 C6 3E */	rlwinm r0, r30, 0x18, 0x18, 0x1f
/* 80106114 00101634  57 C5 04 3E */	clrlwi r5, r30, 0x10
/* 80106118 00101638  98 1F 00 02 */	stb r0, 2(r31)
/* 8010611C 0010163C  9B DF 00 03 */	stb r30, 3(r31)
/* 80106120 00101640  3B FF 00 04 */	addi r31, r31, 4
/* 80106124 00101644  7F E3 FB 78 */	mr r3, r31
/* 80106128 00101648  A0 19 04 76 */	lhz r0, 0x476(r25)
/* 8010612C 0010164C  7C 99 02 14 */	add r4, r25, r0
/* 80106130 00101650  38 84 00 26 */	addi r4, r4, 0x26
/* 80106134 00101654  4B EF E2 05 */	bl memcpy
/* 80106138 00101658  A0 19 00 24 */	lhz r0, 0x24(r25)
/* 8010613C 0010165C  57 C3 04 3E */	clrlwi r3, r30, 0x10
/* 80106140 00101660  7F FF 1A 14 */	add r31, r31, r3
/* 80106144 00101664  A0 99 04 76 */	lhz r4, 0x476(r25)
/* 80106148 00101668  7C 7E 00 50 */	subf r3, r30, r0
/* 8010614C 0010166C  54 60 04 3F */	clrlwi. r0, r3, 0x10
/* 80106150 00101670  B0 79 00 24 */	sth r3, 0x24(r25)
/* 80106154 00101674  7C 04 F2 14 */	add r0, r4, r30
/* 80106158 00101678  B0 19 04 76 */	sth r0, 0x476(r25)
/* 8010615C 0010167C  41 82 00 28 */	beq .L_80106184
/* 80106160 00101680  38 00 00 02 */	li r0, 2
/* 80106164 00101684  98 1F 00 00 */	stb r0, 0(r31)
/* 80106168 00101688  A0 19 04 76 */	lhz r0, 0x476(r25)
/* 8010616C 0010168C  7C 00 46 70 */	srawi r0, r0, 8
/* 80106170 00101690  98 1F 00 01 */	stb r0, 1(r31)
/* 80106174 00101694  A0 19 04 76 */	lhz r0, 0x476(r25)
/* 80106178 00101698  98 1F 00 02 */	stb r0, 2(r31)
/* 8010617C 0010169C  3B FF 00 03 */	addi r31, r31, 3
/* 80106180 001016A0  48 00 00 10 */	b .L_80106190
.L_80106184:
/* 80106184 001016A4  38 00 00 00 */	li r0, 0
/* 80106188 001016A8  98 1F 00 00 */	stb r0, 0(r31)
/* 8010618C 001016AC  3B FF 00 01 */	addi r31, r31, 1
.L_80106190:
/* 80106190 001016B0  7C 7C F8 50 */	subf r3, r28, r31
/* 80106194 001016B4  7C 1D F8 50 */	subf r0, r29, r31
/* 80106198 001016B8  38 A3 FF FE */	addi r5, r3, -2
/* 8010619C 001016BC  7F 64 DB 78 */	mr r4, r27
/* 801061A0 001016C0  54 A3 C6 3E */	rlwinm r3, r5, 0x18, 0x18, 0x1f
/* 801061A4 001016C4  98 7C 00 00 */	stb r3, 0(r28)
/* 801061A8 001016C8  98 BC 00 01 */	stb r5, 1(r28)
/* 801061AC 001016CC  B0 1B 00 02 */	sth r0, 2(r27)
/* 801061B0 001016D0  A0 79 00 22 */	lhz r3, 0x22(r25)
/* 801061B4 001016D4  4B FF 01 19 */	bl L2CA_DataWrite
.L_801061B8:
/* 801061B8 001016D8  39 61 00 70 */	addi r11, r1, 0x70
/* 801061BC 001016DC  48 05 67 C9 */	bl _restgpr_24
/* 801061C0 001016E0  80 01 00 74 */	lwz r0, 0x74(r1)
/* 801061C4 001016E4  7C 08 03 A6 */	mtlr r0
/* 801061C8 001016E8  38 21 00 70 */	addi r1, r1, 0x70
/* 801061CC 001016EC  4E 80 00 20 */	blr

glabel process_service_search_attr_req
/* 801061D0 001016F0  94 21 FE 10 */	stwu r1, -0x1f0(r1)
/* 801061D4 001016F4  7C 08 02 A6 */	mflr r0
/* 801061D8 001016F8  90 01 01 F4 */	stw r0, 0x1f4(r1)
/* 801061DC 001016FC  39 61 01 F0 */	addi r11, r1, 0x1f0
/* 801061E0 00101700  48 05 67 49 */	bl _savegpr_20
/* 801061E4 00101704  7C B4 2B 78 */	mr r20, r5
/* 801061E8 00101708  7C 75 1B 78 */	mr r21, r3
/* 801061EC 0010170C  7C 96 23 78 */	mr r22, r4
/* 801061F0 00101710  7C C3 33 78 */	mr r3, r6
/* 801061F4 00101714  7E 84 A3 78 */	mr r4, r20
/* 801061F8 00101718  38 A1 00 90 */	addi r5, r1, 0x90
/* 801061FC 0010171C  3B 00 00 00 */	li r24, 0
/* 80106200 00101720  48 00 09 89 */	bl sdpu_extract_uid_seq
/* 80106204 00101724  2C 03 00 00 */	cmpwi r3, 0
/* 80106208 00101728  41 82 00 10 */	beq .L_80106218
/* 8010620C 0010172C  A0 01 00 90 */	lhz r0, 0x90(r1)
/* 80106210 00101730  2C 00 00 00 */	cmpwi r0, 0
/* 80106214 00101734  40 82 00 1C */	bne .L_80106230
.L_80106218:
/* 80106218 00101738  7E A3 AB 78 */	mr r3, r21
/* 8010621C 0010173C  7E C4 B3 78 */	mr r4, r22
/* 80106220 00101740  38 A0 00 03 */	li r5, 3
/* 80106224 00101744  38 C0 00 00 */	li r6, 0
/* 80106228 00101748  48 00 08 25 */	bl sdpu_build_n_send_error
/* 8010622C 0010174C  48 00 03 A8 */	b .L_801065D4
.L_80106230:
/* 80106230 00101750  88 83 00 00 */	lbz r4, 0(r3)
/* 80106234 00101754  88 03 00 01 */	lbz r0, 1(r3)
/* 80106238 00101758  54 85 40 2E */	slwi r5, r4, 8
/* 8010623C 0010175C  A0 95 00 20 */	lhz r4, 0x20(r21)
/* 80106240 00101760  7C 05 02 14 */	add r0, r5, r0
/* 80106244 00101764  54 1D 04 3E */	clrlwi r29, r0, 0x10
/* 80106248 00101768  38 04 FF F6 */	addi r0, r4, -10
/* 8010624C 0010176C  7C 1D 00 00 */	cmpw r29, r0
/* 80106250 00101770  40 81 00 08 */	ble .L_80106258
/* 80106254 00101774  54 1D 04 3E */	clrlwi r29, r0, 0x10
.L_80106258:
/* 80106258 00101778  7E 84 A3 78 */	mr r4, r20
/* 8010625C 0010177C  38 A1 00 4C */	addi r5, r1, 0x4c
/* 80106260 00101780  38 63 00 02 */	addi r3, r3, 2
/* 80106264 00101784  48 00 0C 75 */	bl sdpu_extract_attr_seq
/* 80106268 00101788  2C 03 00 00 */	cmpwi r3, 0
/* 8010626C 0010178C  41 82 00 10 */	beq .L_8010627C
/* 80106270 00101790  A0 01 00 4C */	lhz r0, 0x4c(r1)
/* 80106274 00101794  2C 00 00 00 */	cmpwi r0, 0
/* 80106278 00101798  40 82 00 1C */	bne .L_80106294
.L_8010627C:
/* 8010627C 0010179C  7E A3 AB 78 */	mr r3, r21
/* 80106280 001017A0  7E C4 B3 78 */	mr r4, r22
/* 80106284 001017A4  38 A0 00 03 */	li r5, 3
/* 80106288 001017A8  38 C0 00 00 */	li r6, 0
/* 8010628C 001017AC  48 00 07 C1 */	bl sdpu_build_n_send_error
/* 80106290 001017B0  48 00 03 44 */	b .L_801065D4
.L_80106294:
/* 80106294 001017B4  38 00 00 08 */	li r0, 8
/* 80106298 001017B8  38 C1 00 04 */	addi r6, r1, 4
/* 8010629C 001017BC  38 A1 00 48 */	addi r5, r1, 0x48
/* 801062A0 001017C0  7C 09 03 A6 */	mtctr r0
.L_801062A4:
/* 801062A4 001017C4  80 85 00 04 */	lwz r4, 4(r5)
/* 801062A8 001017C8  84 05 00 08 */	lwzu r0, 8(r5)
/* 801062AC 001017CC  90 86 00 04 */	stw r4, 4(r6)
/* 801062B0 001017D0  94 06 00 08 */	stwu r0, 8(r6)
/* 801062B4 001017D4  42 00 FF F0 */	bdnz .L_801062A4
/* 801062B8 001017D8  A0 05 00 04 */	lhz r0, 4(r5)
/* 801062BC 001017DC  B0 06 00 04 */	sth r0, 4(r6)
/* 801062C0 001017E0  88 03 00 00 */	lbz r0, 0(r3)
/* 801062C4 001017E4  2C 00 00 00 */	cmpwi r0, 0
/* 801062C8 001017E8  41 82 00 5C */	beq .L_80106324
/* 801062CC 001017EC  28 00 00 02 */	cmplwi r0, 2
/* 801062D0 001017F0  41 82 00 1C */	beq .L_801062EC
/* 801062D4 001017F4  7E A3 AB 78 */	mr r3, r21
/* 801062D8 001017F8  7E C4 B3 78 */	mr r4, r22
/* 801062DC 001017FC  38 A0 00 05 */	li r5, 5
/* 801062E0 00101800  38 C0 00 00 */	li r6, 0
/* 801062E4 00101804  48 00 07 69 */	bl sdpu_build_n_send_error
/* 801062E8 00101808  48 00 02 EC */	b .L_801065D4
.L_801062EC:
/* 801062EC 0010180C  88 03 00 01 */	lbz r0, 1(r3)
/* 801062F0 00101810  88 63 00 02 */	lbz r3, 2(r3)
/* 801062F4 00101814  54 04 40 2E */	slwi r4, r0, 8
/* 801062F8 00101818  A0 15 04 76 */	lhz r0, 0x476(r21)
/* 801062FC 0010181C  7C 64 1A 14 */	add r3, r4, r3
/* 80106300 00101820  54 63 04 3E */	clrlwi r3, r3, 0x10
/* 80106304 00101824  7C 03 00 40 */	cmplw r3, r0
/* 80106308 00101828  41 82 01 B0 */	beq .L_801064B8
/* 8010630C 0010182C  7E A3 AB 78 */	mr r3, r21
/* 80106310 00101830  7E C4 B3 78 */	mr r4, r22
/* 80106314 00101834  38 A0 00 05 */	li r5, 5
/* 80106318 00101838  38 C0 00 00 */	li r6, 0
/* 8010631C 0010183C  48 00 07 31 */	bl sdpu_build_n_send_error
/* 80106320 00101840  48 00 02 B4 */	b .L_801065D4
.L_80106324:
/* 80106324 00101844  38 00 00 00 */	li r0, 0
/* 80106328 00101848  3B 95 00 29 */	addi r28, r21, 0x29
/* 8010632C 0010184C  B0 15 04 76 */	sth r0, 0x476(r21)
/* 80106330 00101850  38 81 00 90 */	addi r4, r1, 0x90
/* 80106334 00101854  38 60 00 00 */	li r3, 0
/* 80106338 00101858  4B FF CA F5 */	bl sdp_db_service_search
/* 8010633C 0010185C  7C 7A 1B 78 */	mr r26, r3
/* 80106340 00101860  3B E0 00 08 */	li r31, 8
/* 80106344 00101864  3A 80 00 36 */	li r20, 0x36
/* 80106348 00101868  48 00 01 14 */	b .L_8010645C
.L_8010634C:
/* 8010634C 0010186C  38 A1 00 48 */	addi r5, r1, 0x48
/* 80106350 00101870  38 81 00 04 */	addi r4, r1, 4
/* 80106354 00101874  7F E9 03 A6 */	mtctr r31
.L_80106358:
/* 80106358 00101878  80 64 00 04 */	lwz r3, 4(r4)
/* 8010635C 0010187C  84 04 00 08 */	lwzu r0, 8(r4)
/* 80106360 00101880  90 65 00 04 */	stw r3, 4(r5)
/* 80106364 00101884  94 05 00 08 */	stwu r0, 8(r5)
/* 80106368 00101888  42 00 FF F0 */	bdnz .L_80106358
/* 8010636C 0010188C  A0 04 00 04 */	lhz r0, 4(r4)
/* 80106370 00101890  7F 97 E3 78 */	mr r23, r28
/* 80106374 00101894  3B 60 00 00 */	li r27, 0
/* 80106378 00101898  3B 9C 00 03 */	addi r28, r28, 3
/* 8010637C 0010189C  B0 05 00 04 */	sth r0, 4(r5)
/* 80106380 001018A0  48 00 00 8C */	b .L_8010640C
.L_80106384:
/* 80106384 001018A4  57 60 13 BA */	rlwinm r0, r27, 2, 0xe, 0x1d
/* 80106388 001018A8  3B C1 00 4C */	addi r30, r1, 0x4c
/* 8010638C 001018AC  7F DE 02 14 */	add r30, r30, r0
/* 80106390 001018B0  7F 43 D3 78 */	mr r3, r26
/* 80106394 001018B4  A0 9E 00 02 */	lhz r4, 2(r30)
/* 80106398 001018B8  A0 BE 00 04 */	lhz r5, 4(r30)
/* 8010639C 001018BC  4B FF CD 01 */	bl sdp_db_find_attr_in_rec
/* 801063A0 001018C0  2C 03 00 00 */	cmpwi r3, 0
/* 801063A4 001018C4  7C 79 1B 78 */	mr r25, r3
/* 801063A8 001018C8  41 82 00 60 */	beq .L_80106408
/* 801063AC 001018CC  38 15 00 26 */	addi r0, r21, 0x26
/* 801063B0 001018D0  80 83 00 00 */	lwz r4, 0(r3)
/* 801063B4 001018D4  7C 00 E0 50 */	subf r0, r0, r28
/* 801063B8 001018D8  54 00 04 3E */	clrlwi r0, r0, 0x10
/* 801063BC 001018DC  20 00 03 E8 */	subfic r0, r0, 0x3e8
/* 801063C0 001018E0  54 03 04 3E */	clrlwi r3, r0, 0x10
/* 801063C4 001018E4  38 03 FF FA */	addi r0, r3, -6
/* 801063C8 001018E8  7C 04 00 40 */	cmplw r4, r0
/* 801063CC 001018EC  40 81 00 0C */	ble .L_801063D8
/* 801063D0 001018F0  3B 00 00 01 */	li r24, 1
/* 801063D4 001018F4  48 00 00 48 */	b .L_8010641C
.L_801063D8:
/* 801063D8 001018F8  7F 83 E3 78 */	mr r3, r28
/* 801063DC 001018FC  7F 24 CB 78 */	mr r4, r25
/* 801063E0 00101900  48 00 05 19 */	bl sdpu_build_attrib_entry
/* 801063E4 00101904  A0 9E 00 02 */	lhz r4, 2(r30)
/* 801063E8 00101908  7C 7C 1B 78 */	mr r28, r3
/* 801063EC 0010190C  A0 1E 00 04 */	lhz r0, 4(r30)
/* 801063F0 00101910  7C 04 00 40 */	cmplw r4, r0
/* 801063F4 00101914  41 82 00 14 */	beq .L_80106408
/* 801063F8 00101918  A0 79 00 08 */	lhz r3, 8(r25)
/* 801063FC 0010191C  3B 7B FF FF */	addi r27, r27, -1
/* 80106400 00101920  38 03 00 01 */	addi r0, r3, 1
/* 80106404 00101924  B0 1E 00 02 */	sth r0, 2(r30)
.L_80106408:
/* 80106408 00101928  3B 7B 00 01 */	addi r27, r27, 1
.L_8010640C:
/* 8010640C 0010192C  A0 01 00 4C */	lhz r0, 0x4c(r1)
/* 80106410 00101930  57 63 04 3E */	clrlwi r3, r27, 0x10
/* 80106414 00101934  7C 03 00 40 */	cmplw r3, r0
/* 80106418 00101938  41 80 FF 6C */	blt .L_80106384
.L_8010641C:
/* 8010641C 0010193C  2C 18 00 00 */	cmpwi r24, 0
/* 80106420 00101940  40 82 00 44 */	bne .L_80106464
/* 80106424 00101944  7C 77 E0 50 */	subf r3, r23, r28
/* 80106428 00101948  38 03 FF FD */	addi r0, r3, -3
/* 8010642C 0010194C  54 03 04 3F */	clrlwi. r3, r0, 0x10
/* 80106430 00101950  41 82 00 18 */	beq .L_80106448
/* 80106434 00101954  9A 97 00 00 */	stb r20, 0(r23)
/* 80106438 00101958  54 60 C6 3E */	rlwinm r0, r3, 0x18, 0x18, 0x1f
/* 8010643C 0010195C  98 17 00 01 */	stb r0, 1(r23)
/* 80106440 00101960  98 77 00 02 */	stb r3, 2(r23)
/* 80106444 00101964  48 00 00 08 */	b .L_8010644C
.L_80106448:
/* 80106448 00101968  7E FC BB 78 */	mr r28, r23
.L_8010644C:
/* 8010644C 0010196C  7F 43 D3 78 */	mr r3, r26
/* 80106450 00101970  38 81 00 90 */	addi r4, r1, 0x90
/* 80106454 00101974  4B FF C9 D9 */	bl sdp_db_service_search
/* 80106458 00101978  7C 7A 1B 78 */	mr r26, r3
.L_8010645C:
/* 8010645C 0010197C  2C 1A 00 00 */	cmpwi r26, 0
/* 80106460 00101980  40 82 FE EC */	bne .L_8010634C
.L_80106464:
/* 80106464 00101984  38 15 00 26 */	addi r0, r21, 0x26
/* 80106468 00101988  7C 00 E0 50 */	subf r0, r0, r28
/* 8010646C 0010198C  54 04 04 3E */	clrlwi r4, r0, 0x10
/* 80106470 00101990  B0 15 00 24 */	sth r0, 0x24(r21)
/* 80106474 00101994  28 04 00 FF */	cmplwi r4, 0xff
/* 80106478 00101998  40 81 00 20 */	ble .L_80106498
/* 8010647C 0010199C  38 64 FF FD */	addi r3, r4, -3
/* 80106480 001019A0  38 80 00 36 */	li r4, 0x36
/* 80106484 001019A4  7C 60 46 70 */	srawi r0, r3, 8
/* 80106488 001019A8  98 95 00 26 */	stb r4, 0x26(r21)
/* 8010648C 001019AC  98 15 00 27 */	stb r0, 0x27(r21)
/* 80106490 001019B0  98 75 00 28 */	stb r3, 0x28(r21)
/* 80106494 001019B4  48 00 00 24 */	b .L_801064B8
.L_80106498:
/* 80106498 001019B8  38 64 FF FD */	addi r3, r4, -3
/* 8010649C 001019BC  38 04 FF FF */	addi r0, r4, -1
/* 801064A0 001019C0  38 A0 00 01 */	li r5, 1
/* 801064A4 001019C4  38 80 00 35 */	li r4, 0x35
/* 801064A8 001019C8  B0 B5 04 76 */	sth r5, 0x476(r21)
/* 801064AC 001019CC  98 95 00 27 */	stb r4, 0x27(r21)
/* 801064B0 001019D0  98 75 00 28 */	stb r3, 0x28(r21)
/* 801064B4 001019D4  B0 15 00 24 */	sth r0, 0x24(r21)
.L_801064B8:
/* 801064B8 001019D8  38 60 00 02 */	li r3, 2
/* 801064BC 001019DC  4B FD 39 6D */	bl GKI_getpoolbuf
/* 801064C0 001019E0  2C 03 00 00 */	cmpwi r3, 0
/* 801064C4 001019E4  7C 79 1B 78 */	mr r25, r3
/* 801064C8 001019E8  40 82 00 2C */	bne .L_801064F4
/* 801064CC 001019EC  3C 60 80 22 */	lis r3, lbl_80224220@ha
/* 801064D0 001019F0  38 63 42 20 */	addi r3, r3, lbl_80224220@l
/* 801064D4 001019F4  88 03 46 30 */	lbz r0, 0x4630(r3)
/* 801064D8 001019F8  28 00 00 01 */	cmplwi r0, 1
/* 801064DC 001019FC  41 80 00 F8 */	blt .L_801065D4
/* 801064E0 00101A00  3C 80 80 1A */	lis r4, lbl_801A0624@ha
/* 801064E4 00101A04  3C 60 00 0A */	lis r3, 0xa
/* 801064E8 00101A08  38 84 06 24 */	addi r4, r4, lbl_801A0624@l
/* 801064EC 00101A0C  4B FD 6C 01 */	bl LogMsg_0
/* 801064F0 00101A10  48 00 00 E4 */	b .L_801065D4
.L_801064F4:
/* 801064F4 00101A14  38 00 00 09 */	li r0, 9
/* 801064F8 00101A18  3B 83 00 11 */	addi r28, r3, 0x11
/* 801064FC 00101A1C  B0 03 00 04 */	sth r0, 4(r3)
/* 80106500 00101A20  38 60 00 07 */	li r3, 7
/* 80106504 00101A24  3B DC 00 03 */	addi r30, r28, 3
/* 80106508 00101A28  56 C0 C6 3E */	rlwinm r0, r22, 0x18, 0x18, 0x1f
/* 8010650C 00101A2C  98 7C 00 00 */	stb r3, 0(r28)
/* 80106510 00101A30  7F DF F3 78 */	mr r31, r30
/* 80106514 00101A34  98 1C 00 01 */	stb r0, 1(r28)
/* 80106518 00101A38  9A DC 00 02 */	stb r22, 2(r28)
/* 8010651C 00101A3C  A0 15 00 24 */	lhz r0, 0x24(r21)
/* 80106520 00101A40  7C 00 E8 40 */	cmplw r0, r29
/* 80106524 00101A44  41 81 00 08 */	bgt .L_8010652C
/* 80106528 00101A48  7C 1D 03 78 */	mr r29, r0
.L_8010652C:
/* 8010652C 00101A4C  57 A0 C6 3E */	rlwinm r0, r29, 0x18, 0x18, 0x1f
/* 80106530 00101A50  57 A5 04 3E */	clrlwi r5, r29, 0x10
/* 80106534 00101A54  98 1E 00 02 */	stb r0, 2(r30)
/* 80106538 00101A58  9B BE 00 03 */	stb r29, 3(r30)
/* 8010653C 00101A5C  3B DE 00 04 */	addi r30, r30, 4
/* 80106540 00101A60  7F C3 F3 78 */	mr r3, r30
/* 80106544 00101A64  A0 15 04 76 */	lhz r0, 0x476(r21)
/* 80106548 00101A68  7C 95 02 14 */	add r4, r21, r0
/* 8010654C 00101A6C  38 84 00 26 */	addi r4, r4, 0x26
/* 80106550 00101A70  4B EF DD E9 */	bl memcpy
/* 80106554 00101A74  A0 15 00 24 */	lhz r0, 0x24(r21)
/* 80106558 00101A78  57 A3 04 3E */	clrlwi r3, r29, 0x10
/* 8010655C 00101A7C  7F DE 1A 14 */	add r30, r30, r3
/* 80106560 00101A80  A0 95 04 76 */	lhz r4, 0x476(r21)
/* 80106564 00101A84  7C 7D 00 50 */	subf r3, r29, r0
/* 80106568 00101A88  54 60 04 3F */	clrlwi. r0, r3, 0x10
/* 8010656C 00101A8C  B0 75 00 24 */	sth r3, 0x24(r21)
/* 80106570 00101A90  7C 04 EA 14 */	add r0, r4, r29
/* 80106574 00101A94  B0 15 04 76 */	sth r0, 0x476(r21)
/* 80106578 00101A98  41 82 00 28 */	beq .L_801065A0
/* 8010657C 00101A9C  38 00 00 02 */	li r0, 2
/* 80106580 00101AA0  98 1E 00 00 */	stb r0, 0(r30)
/* 80106584 00101AA4  A0 15 04 76 */	lhz r0, 0x476(r21)
/* 80106588 00101AA8  7C 00 46 70 */	srawi r0, r0, 8
/* 8010658C 00101AAC  98 1E 00 01 */	stb r0, 1(r30)
/* 80106590 00101AB0  A0 15 04 76 */	lhz r0, 0x476(r21)
/* 80106594 00101AB4  98 1E 00 02 */	stb r0, 2(r30)
/* 80106598 00101AB8  3B DE 00 03 */	addi r30, r30, 3
/* 8010659C 00101ABC  48 00 00 10 */	b .L_801065AC
.L_801065A0:
/* 801065A0 00101AC0  38 00 00 00 */	li r0, 0
/* 801065A4 00101AC4  98 1E 00 00 */	stb r0, 0(r30)
/* 801065A8 00101AC8  3B DE 00 01 */	addi r30, r30, 1
.L_801065AC:
/* 801065AC 00101ACC  7C 7F F0 50 */	subf r3, r31, r30
/* 801065B0 00101AD0  7C 1C F0 50 */	subf r0, r28, r30
/* 801065B4 00101AD4  38 A3 FF FE */	addi r5, r3, -2
/* 801065B8 00101AD8  7F 24 CB 78 */	mr r4, r25
/* 801065BC 00101ADC  54 A3 C6 3E */	rlwinm r3, r5, 0x18, 0x18, 0x1f
/* 801065C0 00101AE0  98 7F 00 00 */	stb r3, 0(r31)
/* 801065C4 00101AE4  98 BF 00 01 */	stb r5, 1(r31)
/* 801065C8 00101AE8  B0 19 00 02 */	sth r0, 2(r25)
/* 801065CC 00101AEC  A0 75 00 22 */	lhz r3, 0x22(r21)
/* 801065D0 00101AF0  4B FE FC FD */	bl L2CA_DataWrite
.L_801065D4:
/* 801065D4 00101AF4  39 61 01 F0 */	addi r11, r1, 0x1f0
/* 801065D8 00101AF8  48 05 63 9D */	bl _restgpr_20
/* 801065DC 00101AFC  80 01 01 F4 */	lwz r0, 0x1f4(r1)
/* 801065E0 00101B00  7C 08 03 A6 */	mtlr r0
/* 801065E4 00101B04  38 21 01 F0 */	addi r1, r1, 0x1f0
/* 801065E8 00101B08  4E 80 00 20 */	blr
