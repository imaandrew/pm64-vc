.include "macros.inc"

.section .text, "ax"

glabel __DVDShowFatalMessage
/* 800AFA10 000AAF30  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 800AFA14 000AAF34  7C 08 02 A6 */	mflr r0
/* 800AFA18 000AAF38  90 01 00 24 */	stw r0, 0x24(r1)
/* 800AFA1C 000AAF3C  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 800AFA20 000AAF40  3B E0 00 00 */	li r31, 0
/* 800AFA24 000AAF44  88 A2 86 F8 */	lbz r5, lbl_80247EF8@sda21(r2)
/* 800AFA28 000AAF48  88 82 86 F9 */	lbz r4, lbl_80247EF9@sda21(r2)
/* 800AFA2C 000AAF4C  88 62 86 FA */	lbz r3, lbl_80247EFA@sda21(r2)
/* 800AFA30 000AAF50  88 02 86 FB */	lbz r0, lbl_80247EFB@sda21(r2)
/* 800AFA34 000AAF54  98 A1 00 10 */	stb r5, 0x10(r1)
/* 800AFA38 000AAF58  98 81 00 11 */	stb r4, 0x11(r1)
/* 800AFA3C 000AAF5C  98 61 00 12 */	stb r3, 0x12(r1)
/* 800AFA40 000AAF60  98 01 00 13 */	stb r0, 0x13(r1)
/* 800AFA44 000AAF64  48 00 E1 FD */	bl SCGetLanguage
/* 800AFA48 000AAF68  54 60 06 3F */	clrlwi. r0, r3, 0x18
/* 800AFA4C 000AAF6C  40 82 00 10 */	bne lbl_800AFA5C
/* 800AFA50 000AAF70  38 60 00 01 */	li r3, 1
/* 800AFA54 000AAF74  4B FE 48 0D */	bl OSSetFontEncode
/* 800AFA58 000AAF78  48 00 00 0C */	b lbl_800AFA64
lbl_800AFA5C:
/* 800AFA5C 000AAF7C  38 60 00 00 */	li r3, 0
/* 800AFA60 000AAF80  4B FE 48 01 */	bl OSSetFontEncode
lbl_800AFA64:
/* 800AFA64 000AAF84  48 00 E1 DD */	bl SCGetLanguage
/* 800AFA68 000AAF88  54 60 06 3E */	clrlwi r0, r3, 0x18
/* 800AFA6C 000AAF8C  28 00 00 06 */	cmplwi r0, 6
/* 800AFA70 000AAF90  40 81 00 14 */	ble lbl_800AFA84
/* 800AFA74 000AAF94  3C 60 80 17 */	lis r3, lbl_801757D8@ha
/* 800AFA78 000AAF98  38 63 57 D8 */	addi r3, r3, lbl_801757D8@l
/* 800AFA7C 000AAF9C  80 A3 00 04 */	lwz r5, 4(r3)
/* 800AFA80 000AAFA0  48 00 00 18 */	b lbl_800AFA98
lbl_800AFA84:
/* 800AFA84 000AAFA4  48 00 E1 BD */	bl SCGetLanguage
/* 800AFA88 000AAFA8  3C 80 80 17 */	lis r4, lbl_801757D8@ha
/* 800AFA8C 000AAFAC  54 60 15 BA */	rlwinm r0, r3, 2, 0x16, 0x1d
/* 800AFA90 000AAFB0  38 84 57 D8 */	addi r4, r4, lbl_801757D8@l
/* 800AFA94 000AAFB4  7C A4 00 2E */	lwzx r5, r4, r0
lbl_800AFA98:
/* 800AFA98 000AAFB8  80 01 00 10 */	lwz r0, 0x10(r1)
/* 800AFA9C 000AAFBC  38 61 00 0C */	addi r3, r1, 0xc
/* 800AFAA0 000AAFC0  93 E1 00 08 */	stw r31, 8(r1)
/* 800AFAA4 000AAFC4  38 81 00 08 */	addi r4, r1, 8
/* 800AFAA8 000AAFC8  90 01 00 0C */	stw r0, 0xc(r1)
/* 800AFAAC 000AAFCC  4B FE 3C 85 */	bl OSFatal
/* 800AFAB0 000AAFD0  80 01 00 24 */	lwz r0, 0x24(r1)
/* 800AFAB4 000AAFD4  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 800AFAB8 000AAFD8  7C 08 03 A6 */	mtlr r0
/* 800AFABC 000AAFDC  38 21 00 20 */	addi r1, r1, 0x20
/* 800AFAC0 000AAFE0  4E 80 00 20 */	blr 

glabel DVDSetAutoFatalMessaging
/* 800AFAC4 000AAFE4  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 800AFAC8 000AAFE8  7C 08 02 A6 */	mflr r0
/* 800AFACC 000AAFEC  90 01 00 14 */	stw r0, 0x14(r1)
/* 800AFAD0 000AAFF0  93 E1 00 0C */	stw r31, 0xc(r1)
/* 800AFAD4 000AAFF4  7C 7F 1B 78 */	mr r31, r3
/* 800AFAD8 000AAFF8  4B FE 57 DD */	bl OSDisableInterrupts
/* 800AFADC 000AAFFC  80 AD 8F A0 */	lwz r5, lbl_80247420@sda21(r13)
/* 800AFAE0 000AB000  2C 1F 00 00 */	cmpwi r31, 0
/* 800AFAE4 000AB004  38 80 00 00 */	li r4, 0
/* 800AFAE8 000AB008  7C 05 00 D0 */	neg r0, r5
/* 800AFAEC 000AB00C  7C 00 2B 78 */	or r0, r0, r5
/* 800AFAF0 000AB010  54 1F 0F FE */	srwi r31, r0, 0x1f
/* 800AFAF4 000AB014  41 82 00 0C */	beq lbl_800AFB00
/* 800AFAF8 000AB018  3C 80 80 0B */	lis r4, __DVDShowFatalMessage@ha
/* 800AFAFC 000AB01C  38 84 FA 10 */	addi r4, r4, __DVDShowFatalMessage@l
lbl_800AFB00:
/* 800AFB00 000AB020  90 8D 8F A0 */	stw r4, lbl_80247420@sda21(r13)
/* 800AFB04 000AB024  4B FE 57 D9 */	bl OSRestoreInterrupts
/* 800AFB08 000AB028  7F E3 FB 78 */	mr r3, r31
/* 800AFB0C 000AB02C  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 800AFB10 000AB030  80 01 00 14 */	lwz r0, 0x14(r1)
/* 800AFB14 000AB034  7C 08 03 A6 */	mtlr r0
/* 800AFB18 000AB038  38 21 00 10 */	addi r1, r1, 0x10
/* 800AFB1C 000AB03C  4E 80 00 20 */	blr 

glabel __DVDGetAutoFatalMessaging
/* 800AFB20 000AB040  80 6D 8F A0 */	lwz r3, lbl_80247420@sda21(r13)
/* 800AFB24 000AB044  7C 03 00 D0 */	neg r0, r3
/* 800AFB28 000AB048  7C 00 1B 78 */	or r0, r0, r3
/* 800AFB2C 000AB04C  54 03 0F FE */	srwi r3, r0, 0x1f
/* 800AFB30 000AB050  4E 80 00 20 */	blr 

glabel __DVDPrintFatalMessage
/* 800AFB34 000AB054  81 8D 8F A0 */	lwz r12, lbl_80247420@sda21(r13)
/* 800AFB38 000AB058  2C 0C 00 00 */	cmpwi r12, 0
/* 800AFB3C 000AB05C  4D 82 00 20 */	beqlr 
/* 800AFB40 000AB060  7D 89 03 A6 */	mtctr r12
/* 800AFB44 000AB064  4E 80 04 20 */	bctr 
/* 800AFB48 000AB068  4E 80 00 20 */	blr 
