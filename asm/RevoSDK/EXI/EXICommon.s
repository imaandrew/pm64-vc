.include "macros.inc"

.section .text, "ax"

glabel EXIWriteReg
/* 8009CB7C 0009809C  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 8009CB80 000980A0  7C 08 02 A6 */	mflr r0
/* 8009CB84 000980A4  2C 07 00 02 */	cmpwi r7, 2
/* 8009CB88 000980A8  90 01 00 24 */	stw r0, 0x24(r1)
/* 8009CB8C 000980AC  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 8009CB90 000980B0  7C 7F 1B 78 */	mr r31, r3
/* 8009CB94 000980B4  93 C1 00 18 */	stw r30, 0x18(r1)
/* 8009CB98 000980B8  93 A1 00 14 */	stw r29, 0x14(r1)
/* 8009CB9C 000980BC  7C 9D 23 78 */	mr r29, r4
/* 8009CBA0 000980C0  90 A1 00 08 */	stw r5, 8(r1)
/* 8009CBA4 000980C4  41 82 00 24 */	beq .L_8009CBC8
/* 8009CBA8 000980C8  40 80 00 34 */	bge .L_8009CBDC
/* 8009CBAC 000980CC  2C 07 00 01 */	cmpwi r7, 1
/* 8009CBB0 000980D0  40 80 00 08 */	bge .L_8009CBB8
/* 8009CBB4 000980D4  48 00 00 28 */	b .L_8009CBDC
.L_8009CBB8:
/* 8009CBB8 000980D8  88 06 00 00 */	lbz r0, 0(r6)
/* 8009CBBC 000980DC  54 00 C0 0E */	slwi r0, r0, 0x18
/* 8009CBC0 000980E0  90 01 00 0C */	stw r0, 0xc(r1)
/* 8009CBC4 000980E4  48 00 00 34 */	b .L_8009CBF8
.L_8009CBC8:
/* 8009CBC8 000980E8  A0 66 00 00 */	lhz r3, 0(r6)
/* 8009CBCC 000980EC  54 60 42 1E */	rlwinm r0, r3, 8, 8, 0xf
/* 8009CBD0 000980F0  50 60 C0 0E */	rlwimi r0, r3, 0x18, 0, 7
/* 8009CBD4 000980F4  90 01 00 0C */	stw r0, 0xc(r1)
/* 8009CBD8 000980F8  48 00 00 20 */	b .L_8009CBF8
.L_8009CBDC:
/* 8009CBDC 000980FC  80 86 00 00 */	lwz r4, 0(r6)
/* 8009CBE0 00098100  54 83 42 1E */	rlwinm r3, r4, 8, 8, 0xf
/* 8009CBE4 00098104  54 80 C4 2E */	rlwinm r0, r4, 0x18, 0x10, 0x17
/* 8009CBE8 00098108  50 83 C0 0E */	rlwimi r3, r4, 0x18, 0, 7
/* 8009CBEC 0009810C  50 80 46 3E */	rlwimi r0, r4, 8, 0x18, 0x1f
/* 8009CBF0 00098110  7C 60 03 78 */	or r0, r3, r0
/* 8009CBF4 00098114  90 01 00 0C */	stw r0, 0xc(r1)
.L_8009CBF8:
/* 8009CBF8 00098118  7F E3 FB 78 */	mr r3, r31
/* 8009CBFC 0009811C  7F A4 EB 78 */	mr r4, r29
/* 8009CC00 00098120  38 A0 00 00 */	li r5, 0
/* 8009CC04 00098124  4B FF F6 9D */	bl EXILock
/* 8009CC08 00098128  7C 60 00 34 */	cntlzw r0, r3
/* 8009CC0C 0009812C  54 1E D9 7F */	rlwinm. r30, r0, 0x1b, 5, 0x1f
/* 8009CC10 00098130  41 82 00 0C */	beq .L_8009CC1C
/* 8009CC14 00098134  38 60 00 00 */	li r3, 0
/* 8009CC18 00098138  48 00 00 D4 */	b .L_8009CCEC
.L_8009CC1C:
/* 8009CC1C 0009813C  7F E3 FB 78 */	mr r3, r31
/* 8009CC20 00098140  7F A4 EB 78 */	mr r4, r29
/* 8009CC24 00098144  38 A0 00 04 */	li r5, 4
/* 8009CC28 00098148  4B FF EE E5 */	bl EXISelect
/* 8009CC2C 0009814C  7C 60 00 34 */	cntlzw r0, r3
/* 8009CC30 00098150  54 00 D9 7E */	srwi r0, r0, 5
/* 8009CC34 00098154  7F DE 03 79 */	or. r30, r30, r0
/* 8009CC38 00098158  41 82 00 14 */	beq .L_8009CC4C
/* 8009CC3C 0009815C  7F E3 FB 78 */	mr r3, r31
/* 8009CC40 00098160  4B FF F7 5D */	bl EXIUnlock
/* 8009CC44 00098164  38 60 00 00 */	li r3, 0
/* 8009CC48 00098168  48 00 00 A4 */	b .L_8009CCEC
.L_8009CC4C:
/* 8009CC4C 0009816C  7F E3 FB 78 */	mr r3, r31
/* 8009CC50 00098170  38 81 00 08 */	addi r4, r1, 8
/* 8009CC54 00098174  38 A0 00 04 */	li r5, 4
/* 8009CC58 00098178  38 C0 00 01 */	li r6, 1
/* 8009CC5C 0009817C  38 E0 00 00 */	li r7, 0
/* 8009CC60 00098180  4B FF E4 45 */	bl EXIImm
/* 8009CC64 00098184  7C 60 00 34 */	cntlzw r0, r3
/* 8009CC68 00098188  7F E3 FB 78 */	mr r3, r31
/* 8009CC6C 0009818C  54 00 D9 7E */	srwi r0, r0, 5
/* 8009CC70 00098190  7F DE 03 78 */	or r30, r30, r0
/* 8009CC74 00098194  4B FF E8 49 */	bl EXISync
/* 8009CC78 00098198  7C 60 00 34 */	cntlzw r0, r3
/* 8009CC7C 0009819C  7F E3 FB 78 */	mr r3, r31
/* 8009CC80 000981A0  54 00 D9 7E */	srwi r0, r0, 5
/* 8009CC84 000981A4  38 81 00 0C */	addi r4, r1, 0xc
/* 8009CC88 000981A8  7F DE 03 78 */	or r30, r30, r0
/* 8009CC8C 000981AC  38 A0 00 04 */	li r5, 4
/* 8009CC90 000981B0  38 C0 00 01 */	li r6, 1
/* 8009CC94 000981B4  38 E0 00 00 */	li r7, 0
/* 8009CC98 000981B8  4B FF E4 0D */	bl EXIImm
/* 8009CC9C 000981BC  7C 60 00 34 */	cntlzw r0, r3
/* 8009CCA0 000981C0  7F E3 FB 78 */	mr r3, r31
/* 8009CCA4 000981C4  54 00 D9 7E */	srwi r0, r0, 5
/* 8009CCA8 000981C8  7F DE 03 78 */	or r30, r30, r0
/* 8009CCAC 000981CC  4B FF E8 11 */	bl EXISync
/* 8009CCB0 000981D0  7C 60 00 34 */	cntlzw r0, r3
/* 8009CCB4 000981D4  7F E3 FB 78 */	mr r3, r31
/* 8009CCB8 000981D8  54 00 D9 7E */	srwi r0, r0, 5
/* 8009CCBC 000981DC  7F DE 03 78 */	or r30, r30, r0
/* 8009CCC0 000981E0  4B FF EF 7D */	bl EXIDeselect
/* 8009CCC4 000981E4  7C 60 00 34 */	cntlzw r0, r3
/* 8009CCC8 000981E8  7F E3 FB 78 */	mr r3, r31
/* 8009CCCC 000981EC  54 00 D9 7E */	srwi r0, r0, 5
/* 8009CCD0 000981F0  7F DE 03 78 */	or r30, r30, r0
/* 8009CCD4 000981F4  4B FF F6 C9 */	bl EXIUnlock
/* 8009CCD8 000981F8  7C 60 00 34 */	cntlzw r0, r3
/* 8009CCDC 000981FC  54 00 D9 7E */	srwi r0, r0, 5
/* 8009CCE0 00098200  7F DE 03 78 */	or r30, r30, r0
/* 8009CCE4 00098204  7F C0 00 34 */	cntlzw r0, r30
/* 8009CCE8 00098208  54 03 D9 7E */	srwi r3, r0, 5
.L_8009CCEC:
/* 8009CCEC 0009820C  80 01 00 24 */	lwz r0, 0x24(r1)
/* 8009CCF0 00098210  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 8009CCF4 00098214  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 8009CCF8 00098218  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 8009CCFC 0009821C  7C 08 03 A6 */	mtlr r0
/* 8009CD00 00098220  38 21 00 20 */	addi r1, r1, 0x20
/* 8009CD04 00098224  4E 80 00 20 */	blr

