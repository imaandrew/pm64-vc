.include "macros.inc"

.section .text, "ax"

glabel MEMInitList
/* 800B7F30 000B3450  38 00 00 00 */	li r0, 0
/* 800B7F34 000B3454  B0 83 00 0A */	sth r4, 0xa(r3)
/* 800B7F38 000B3458  90 03 00 00 */	stw r0, 0(r3)
/* 800B7F3C 000B345C  90 03 00 04 */	stw r0, 4(r3)
/* 800B7F40 000B3460  B0 03 00 08 */	sth r0, 8(r3)
/* 800B7F44 000B3464  4E 80 00 20 */	blr

glabel MEMAppendListObject
/* 800B7F48 000B3468  80 03 00 00 */	lwz r0, 0(r3)
/* 800B7F4C 000B346C  2C 00 00 00 */	cmpwi r0, 0
/* 800B7F50 000B3470  40 82 00 30 */	bne .L_800B7F80
/* 800B7F54 000B3474  A0 A3 00 0A */	lhz r5, 0xa(r3)
/* 800B7F58 000B3478  38 00 00 00 */	li r0, 0
/* 800B7F5C 000B347C  7C A4 2A 14 */	add r5, r4, r5
/* 800B7F60 000B3480  90 05 00 04 */	stw r0, 4(r5)
/* 800B7F64 000B3484  90 05 00 00 */	stw r0, 0(r5)
/* 800B7F68 000B3488  A0 A3 00 08 */	lhz r5, 8(r3)
/* 800B7F6C 000B348C  90 83 00 00 */	stw r4, 0(r3)
/* 800B7F70 000B3490  38 05 00 01 */	addi r0, r5, 1
/* 800B7F74 000B3494  90 83 00 04 */	stw r4, 4(r3)
/* 800B7F78 000B3498  B0 03 00 08 */	sth r0, 8(r3)
/* 800B7F7C 000B349C  4E 80 00 20 */	blr
.L_800B7F80:
/* 800B7F80 000B34A0  A0 C3 00 0A */	lhz r6, 0xa(r3)
/* 800B7F84 000B34A4  38 00 00 00 */	li r0, 0
/* 800B7F88 000B34A8  80 A3 00 04 */	lwz r5, 4(r3)
/* 800B7F8C 000B34AC  7C A6 21 6E */	stwux r5, r6, r4
/* 800B7F90 000B34B0  90 06 00 04 */	stw r0, 4(r6)
/* 800B7F94 000B34B4  80 A3 00 04 */	lwz r5, 4(r3)
/* 800B7F98 000B34B8  A0 03 00 0A */	lhz r0, 0xa(r3)
/* 800B7F9C 000B34BC  7C A5 02 14 */	add r5, r5, r0
/* 800B7FA0 000B34C0  90 85 00 04 */	stw r4, 4(r5)
/* 800B7FA4 000B34C4  A0 A3 00 08 */	lhz r5, 8(r3)
/* 800B7FA8 000B34C8  90 83 00 04 */	stw r4, 4(r3)
/* 800B7FAC 000B34CC  38 05 00 01 */	addi r0, r5, 1
/* 800B7FB0 000B34D0  B0 03 00 08 */	sth r0, 8(r3)
/* 800B7FB4 000B34D4  4E 80 00 20 */	blr

glabel MEMRemoveListObject
/* 800B7FB8 000B34D8  A0 A3 00 0A */	lhz r5, 0xa(r3)
/* 800B7FBC 000B34DC  7C C4 2A 14 */	add r6, r4, r5
/* 800B7FC0 000B34E0  7C 84 28 2E */	lwzx r4, r4, r5
/* 800B7FC4 000B34E4  2C 04 00 00 */	cmpwi r4, 0
/* 800B7FC8 000B34E8  40 82 00 10 */	bne .L_800B7FD8
/* 800B7FCC 000B34EC  80 06 00 04 */	lwz r0, 4(r6)
/* 800B7FD0 000B34F0  90 03 00 00 */	stw r0, 0(r3)
/* 800B7FD4 000B34F4  48 00 00 10 */	b .L_800B7FE4
.L_800B7FD8:
/* 800B7FD8 000B34F8  80 06 00 04 */	lwz r0, 4(r6)
/* 800B7FDC 000B34FC  7C 84 2A 14 */	add r4, r4, r5
/* 800B7FE0 000B3500  90 04 00 04 */	stw r0, 4(r4)
.L_800B7FE4:
/* 800B7FE4 000B3504  80 A6 00 04 */	lwz r5, 4(r6)
/* 800B7FE8 000B3508  2C 05 00 00 */	cmpwi r5, 0
/* 800B7FEC 000B350C  40 82 00 10 */	bne .L_800B7FFC
/* 800B7FF0 000B3510  80 06 00 00 */	lwz r0, 0(r6)
/* 800B7FF4 000B3514  90 03 00 04 */	stw r0, 4(r3)
/* 800B7FF8 000B3518  48 00 00 10 */	b .L_800B8008
.L_800B7FFC:
/* 800B7FFC 000B351C  80 86 00 00 */	lwz r4, 0(r6)
/* 800B8000 000B3520  A0 03 00 0A */	lhz r0, 0xa(r3)
/* 800B8004 000B3524  7C 85 01 2E */	stwx r4, r5, r0
.L_800B8008:
/* 800B8008 000B3528  38 00 00 00 */	li r0, 0
/* 800B800C 000B352C  90 06 00 00 */	stw r0, 0(r6)
/* 800B8010 000B3530  90 06 00 04 */	stw r0, 4(r6)
/* 800B8014 000B3534  A0 83 00 08 */	lhz r4, 8(r3)
/* 800B8018 000B3538  38 04 FF FF */	addi r0, r4, -1
/* 800B801C 000B353C  B0 03 00 08 */	sth r0, 8(r3)
/* 800B8020 000B3540  4E 80 00 20 */	blr

glabel MEMGetNextListObject
/* 800B8024 000B3544  2C 04 00 00 */	cmpwi r4, 0
/* 800B8028 000B3548  40 82 00 0C */	bne .L_800B8034
/* 800B802C 000B354C  80 63 00 00 */	lwz r3, 0(r3)
/* 800B8030 000B3550  4E 80 00 20 */	blr
.L_800B8034:
/* 800B8034 000B3554  A0 03 00 0A */	lhz r0, 0xa(r3)
/* 800B8038 000B3558  7C 64 02 14 */	add r3, r4, r0
/* 800B803C 000B355C  80 63 00 04 */	lwz r3, 4(r3)
/* 800B8040 000B3560  4E 80 00 20 */	blr

glabel func_800B8044
/* 800B8044 000B3564  80 A3 00 00 */	lwz r5, 0(r3)
/* 800B8048 000B3568  54 A4 42 1E */	rlwinm r4, r5, 8, 8, 0xf
/* 800B804C 000B356C  54 A0 C4 2E */	rlwinm r0, r5, 0x18, 0x10, 0x17
/* 800B8050 000B3570  50 A4 C0 0E */	rlwimi r4, r5, 0x18, 0, 7
/* 800B8054 000B3574  50 A0 46 3E */	rlwimi r0, r5, 8, 0x18, 0x1f
/* 800B8058 000B3578  7C 80 03 78 */	or r0, r4, r0
/* 800B805C 000B357C  54 00 C2 3F */	rlwinm. r0, r0, 0x18, 8, 0x1f
/* 800B8060 000B3580  40 82 00 1C */	bne .L_800B807C
/* 800B8064 000B3584  80 83 00 04 */	lwz r4, 4(r3)
/* 800B8068 000B3588  54 83 42 1E */	rlwinm r3, r4, 8, 8, 0xf
/* 800B806C 000B358C  54 80 C4 2E */	rlwinm r0, r4, 0x18, 0x10, 0x17
/* 800B8070 000B3590  50 83 C0 0E */	rlwimi r3, r4, 0x18, 0, 7
/* 800B8074 000B3594  50 80 46 3E */	rlwimi r0, r4, 8, 0x18, 0x1f
/* 800B8078 000B3598  7C 60 03 78 */	or r0, r3, r0
.L_800B807C:
/* 800B807C 000B359C  7C 03 03 78 */	mr r3, r0
/* 800B8080 000B35A0  4E 80 00 20 */	blr

glabel func_800B8084
/* 800B8084 000B35A4  80 A3 00 00 */	lwz r5, 0(r3)
/* 800B8088 000B35A8  38 E3 00 04 */	addi r7, r3, 4
/* 800B808C 000B35AC  54 A3 42 1E */	rlwinm r3, r5, 8, 8, 0xf
/* 800B8090 000B35B0  54 A0 C4 2E */	rlwinm r0, r5, 0x18, 0x10, 0x17
/* 800B8094 000B35B4  50 A3 C0 0E */	rlwimi r3, r5, 0x18, 0, 7
/* 800B8098 000B35B8  50 A0 46 3E */	rlwimi r0, r5, 8, 0x18, 0x1f
/* 800B809C 000B35BC  7C 60 03 78 */	or r0, r3, r0
/* 800B80A0 000B35C0  54 08 C2 3F */	rlwinm. r8, r0, 0x18, 8, 0x1f
/* 800B80A4 000B35C4  40 82 00 20 */	bne .L_800B80C4
/* 800B80A8 000B35C8  80 A7 00 00 */	lwz r5, 0(r7)
/* 800B80AC 000B35CC  38 E7 00 04 */	addi r7, r7, 4
/* 800B80B0 000B35D0  54 A3 42 1E */	rlwinm r3, r5, 8, 8, 0xf
/* 800B80B4 000B35D4  54 A0 C4 2E */	rlwinm r0, r5, 0x18, 0x10, 0x17
/* 800B80B8 000B35D8  50 A3 C0 0E */	rlwimi r3, r5, 0x18, 0, 7
/* 800B80BC 000B35DC  50 A0 46 3E */	rlwimi r0, r5, 8, 0x18, 0x1f
/* 800B80C0 000B35E0  7C 68 03 78 */	or r8, r3, r0
.L_800B80C4:
/* 800B80C4 000B35E4  38 00 00 04 */	li r0, 4
/* 800B80C8 000B35E8  48 00 00 E4 */	b .L_800B81AC
.L_800B80CC:
/* 800B80CC 000B35EC  89 47 00 00 */	lbz r10, 0(r7)
/* 800B80D0 000B35F0  39 20 00 00 */	li r9, 0
/* 800B80D4 000B35F4  7C 09 03 A6 */	mtctr r0
/* 800B80D8 000B35F8  38 E7 00 01 */	addi r7, r7, 1
.L_800B80DC:
/* 800B80DC 000B35FC  55 43 06 31 */	rlwinm. r3, r10, 0, 0x18, 0x18
/* 800B80E0 000B3600  40 82 00 1C */	bne .L_800B80FC
/* 800B80E4 000B3604  88 67 00 00 */	lbz r3, 0(r7)
/* 800B80E8 000B3608  39 08 FF FF */	addi r8, r8, -1
/* 800B80EC 000B360C  38 E7 00 01 */	addi r7, r7, 1
/* 800B80F0 000B3610  98 64 00 00 */	stb r3, 0(r4)
/* 800B80F4 000B3614  38 84 00 01 */	addi r4, r4, 1
/* 800B80F8 000B3618  48 00 00 3C */	b .L_800B8134
.L_800B80FC:
/* 800B80FC 000B361C  88 C7 00 00 */	lbz r6, 0(r7)
/* 800B8100 000B3620  88 67 00 01 */	lbz r3, 1(r7)
/* 800B8104 000B3624  38 E7 00 02 */	addi r7, r7, 2
/* 800B8108 000B3628  7C C5 26 70 */	srawi r5, r6, 4
/* 800B810C 000B362C  50 C3 45 2E */	rlwimi r3, r6, 8, 0x14, 0x17
/* 800B8110 000B3630  38 C5 00 03 */	addi r6, r5, 3
/* 800B8114 000B3634  38 A3 00 01 */	addi r5, r3, 1
/* 800B8118 000B3638  7D 06 40 50 */	subf r8, r6, r8
.L_800B811C:
/* 800B811C 000B363C  7C 65 20 50 */	subf r3, r5, r4
/* 800B8120 000B3640  34 C6 FF FF */	addic. r6, r6, -1
/* 800B8124 000B3644  88 63 00 00 */	lbz r3, 0(r3)
/* 800B8128 000B3648  98 64 00 00 */	stb r3, 0(r4)
/* 800B812C 000B364C  38 84 00 01 */	addi r4, r4, 1
/* 800B8130 000B3650  41 81 FF EC */	bgt .L_800B811C
.L_800B8134:
/* 800B8134 000B3654  2C 08 00 00 */	cmpwi r8, 0
/* 800B8138 000B3658  41 82 00 74 */	beq .L_800B81AC
/* 800B813C 000B365C  55 4A 08 3C */	slwi r10, r10, 1
/* 800B8140 000B3660  55 43 06 31 */	rlwinm. r3, r10, 0, 0x18, 0x18
/* 800B8144 000B3664  40 82 00 1C */	bne .L_800B8160
/* 800B8148 000B3668  88 67 00 00 */	lbz r3, 0(r7)
/* 800B814C 000B366C  39 08 FF FF */	addi r8, r8, -1
/* 800B8150 000B3670  38 E7 00 01 */	addi r7, r7, 1
/* 800B8154 000B3674  98 64 00 00 */	stb r3, 0(r4)
/* 800B8158 000B3678  38 84 00 01 */	addi r4, r4, 1
/* 800B815C 000B367C  48 00 00 3C */	b .L_800B8198
.L_800B8160:
/* 800B8160 000B3680  88 C7 00 00 */	lbz r6, 0(r7)
/* 800B8164 000B3684  88 67 00 01 */	lbz r3, 1(r7)
/* 800B8168 000B3688  38 E7 00 02 */	addi r7, r7, 2
/* 800B816C 000B368C  7C C5 26 70 */	srawi r5, r6, 4
/* 800B8170 000B3690  50 C3 45 2E */	rlwimi r3, r6, 8, 0x14, 0x17
/* 800B8174 000B3694  38 C5 00 03 */	addi r6, r5, 3
/* 800B8178 000B3698  38 A3 00 01 */	addi r5, r3, 1
/* 800B817C 000B369C  7D 06 40 50 */	subf r8, r6, r8
.L_800B8180:
/* 800B8180 000B36A0  7C 65 20 50 */	subf r3, r5, r4
/* 800B8184 000B36A4  34 C6 FF FF */	addic. r6, r6, -1
/* 800B8188 000B36A8  88 63 00 00 */	lbz r3, 0(r3)
/* 800B818C 000B36AC  98 64 00 00 */	stb r3, 0(r4)
/* 800B8190 000B36B0  38 84 00 01 */	addi r4, r4, 1
/* 800B8194 000B36B4  41 81 FF EC */	bgt .L_800B8180
.L_800B8198:
/* 800B8198 000B36B8  2C 08 00 00 */	cmpwi r8, 0
/* 800B819C 000B36BC  41 82 00 10 */	beq .L_800B81AC
/* 800B81A0 000B36C0  55 4A 08 3C */	slwi r10, r10, 1
/* 800B81A4 000B36C4  39 29 00 01 */	addi r9, r9, 1
/* 800B81A8 000B36C8  42 00 FF 34 */	bdnz .L_800B80DC
.L_800B81AC:
/* 800B81AC 000B36CC  2C 08 00 00 */	cmpwi r8, 0
/* 800B81B0 000B36D0  40 82 FF 1C */	bne .L_800B80CC
/* 800B81B4 000B36D4  4E 80 00 20 */	blr

glabel func_800B81B8
/* 800B81B8 000B36D8  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 800B81BC 000B36DC  7C 08 02 A6 */	mflr r0
/* 800B81C0 000B36E0  90 01 00 24 */	stw r0, 0x24(r1)
/* 800B81C4 000B36E4  39 61 00 20 */	addi r11, r1, 0x20
/* 800B81C8 000B36E8  48 0A 47 7D */	bl _savegpr_27
/* 800B81CC 000B36EC  80 C3 00 00 */	lwz r6, 0(r3)
/* 800B81D0 000B36F0  54 C5 42 1E */	rlwinm r5, r6, 8, 8, 0xf
/* 800B81D4 000B36F4  54 C0 C4 2E */	rlwinm r0, r6, 0x18, 0x10, 0x17
/* 800B81D8 000B36F8  50 C5 C0 0E */	rlwimi r5, r6, 0x18, 0, 7
/* 800B81DC 000B36FC  50 C0 46 3E */	rlwimi r0, r6, 8, 0x18, 0x1f
/* 800B81E0 000B3700  7C A0 03 78 */	or r0, r5, r0
/* 800B81E4 000B3704  54 05 C2 3F */	rlwinm. r5, r0, 0x18, 8, 0x1f
/* 800B81E8 000B3708  41 82 00 0C */	beq .L_800B81F4
/* 800B81EC 000B370C  39 63 00 04 */	addi r11, r3, 4
/* 800B81F0 000B3710  48 00 00 08 */	b .L_800B81F8
.L_800B81F4:
/* 800B81F4 000B3714  39 63 00 08 */	addi r11, r3, 8
.L_800B81F8:
/* 800B81F8 000B3718  88 C3 00 00 */	lbz r6, 0(r3)
/* 800B81FC 000B371C  2C 05 00 00 */	cmpwi r5, 0
/* 800B8200 000B3720  38 0B 00 01 */	addi r0, r11, 1
/* 800B8204 000B3724  38 E0 00 00 */	li r7, 0
/* 800B8208 000B3728  54 C8 07 7E */	clrlwi r8, r6, 0x1d
/* 800B820C 000B372C  54 C6 07 3E */	clrlwi r6, r6, 0x1c
/* 800B8210 000B3730  39 28 00 04 */	addi r9, r8, 4
/* 800B8214 000B3734  39 00 00 00 */	li r8, 0
/* 800B8218 000B3738  40 82 00 1C */	bne .L_800B8234
/* 800B821C 000B373C  81 43 00 04 */	lwz r10, 4(r3)
/* 800B8220 000B3740  55 45 42 1E */	rlwinm r5, r10, 8, 8, 0xf
/* 800B8224 000B3744  55 43 C4 2E */	rlwinm r3, r10, 0x18, 0x10, 0x17
/* 800B8228 000B3748  51 45 C0 0E */	rlwimi r5, r10, 0x18, 0, 7
/* 800B822C 000B374C  51 43 46 3E */	rlwimi r3, r10, 8, 0x18, 0x1f
/* 800B8230 000B3750  7C A5 1B 78 */	or r5, r5, r3
.L_800B8234:
/* 800B8234 000B3754  88 6B 00 00 */	lbz r3, 0(r11)
/* 800B8238 000B3758  7C 1E 03 78 */	mr r30, r0
/* 800B823C 000B375C  21 86 00 20 */	subfic r12, r6, 0x20
/* 800B8240 000B3760  38 63 00 01 */	addi r3, r3, 1
/* 800B8244 000B3764  54 63 08 3C */	slwi r3, r3, 1
/* 800B8248 000B3768  7F EB 1A 14 */	add r31, r11, r3
/* 800B824C 000B376C  48 00 00 AC */	b .L_800B82F8
.L_800B8250:
/* 800B8250 000B3770  81 7F 00 00 */	lwz r11, 0(r31)
/* 800B8254 000B3774  3B A0 00 20 */	li r29, 0x20
/* 800B8258 000B3778  3B FF 00 04 */	addi r31, r31, 4
/* 800B825C 000B377C  55 6A 42 1E */	rlwinm r10, r11, 8, 8, 0xf
/* 800B8260 000B3780  55 63 C4 2E */	rlwinm r3, r11, 0x18, 0x10, 0x17
/* 800B8264 000B3784  51 6A C0 0E */	rlwimi r10, r11, 0x18, 0, 7
/* 800B8268 000B3788  51 63 46 3E */	rlwimi r3, r11, 8, 0x18, 0x1f
/* 800B826C 000B378C  7D 5C 1B 78 */	or r28, r10, r3
/* 800B8270 000B3790  48 00 00 80 */	b .L_800B82F0
.L_800B8274:
/* 800B8274 000B3794  88 7E 00 00 */	lbz r3, 0(r30)
/* 800B8278 000B3798  57 9B 0F FE */	srwi r27, r28, 0x1f
/* 800B827C 000B379C  57 CB 00 3C */	rlwinm r11, r30, 0, 0, 0x1e
/* 800B8280 000B37A0  7C 7E D8 30 */	slw r30, r3, r27
/* 800B8284 000B37A4  54 6A 06 BE */	clrlwi r10, r3, 0x1a
/* 800B8288 000B37A8  57 C3 06 31 */	rlwinm. r3, r30, 0, 0x18, 0x18
/* 800B828C 000B37AC  39 4A 00 01 */	addi r10, r10, 1
/* 800B8290 000B37B0  7C 7B 5A 14 */	add r3, r27, r11
/* 800B8294 000B37B4  55 4A 08 3C */	slwi r10, r10, 1
/* 800B8298 000B37B8  7F CA 1A 14 */	add r30, r10, r3
/* 800B829C 000B37BC  41 82 00 48 */	beq .L_800B82E4
/* 800B82A0 000B37C0  88 7E 00 00 */	lbz r3, 0(r30)
/* 800B82A4 000B37C4  39 08 00 01 */	addi r8, r8, 1
/* 800B82A8 000B37C8  7C 08 48 40 */	cmplw r8, r9
/* 800B82AC 000B37CC  7C E7 34 30 */	srw r7, r7, r6
/* 800B82B0 000B37D0  7C 63 60 30 */	slw r3, r3, r12
/* 800B82B4 000B37D4  7C 1E 03 78 */	mr r30, r0
/* 800B82B8 000B37D8  7C E7 1B 78 */	or r7, r7, r3
/* 800B82BC 000B37DC  40 82 00 28 */	bne .L_800B82E4
/* 800B82C0 000B37E0  54 EA 42 1E */	rlwinm r10, r7, 8, 8, 0xf
/* 800B82C4 000B37E4  54 E3 C4 2E */	rlwinm r3, r7, 0x18, 0x10, 0x17
/* 800B82C8 000B37E8  50 EA C0 0E */	rlwimi r10, r7, 0x18, 0, 7
/* 800B82CC 000B37EC  39 00 00 00 */	li r8, 0
/* 800B82D0 000B37F0  50 E3 46 3E */	rlwimi r3, r7, 8, 0x18, 0x1f
/* 800B82D4 000B37F4  38 A5 FF FC */	addi r5, r5, -4
/* 800B82D8 000B37F8  7D 43 1B 78 */	or r3, r10, r3
/* 800B82DC 000B37FC  90 64 00 00 */	stw r3, 0(r4)
/* 800B82E0 000B3800  38 84 00 04 */	addi r4, r4, 4
.L_800B82E4:
/* 800B82E4 000B3804  2C 05 00 00 */	cmpwi r5, 0
/* 800B82E8 000B3808  40 81 00 10 */	ble .L_800B82F8
/* 800B82EC 000B380C  57 9C 08 3C */	slwi r28, r28, 1
.L_800B82F0:
/* 800B82F0 000B3810  37 BD FF FF */	addic. r29, r29, -1
/* 800B82F4 000B3814  40 80 FF 80 */	bge .L_800B8274
.L_800B82F8:
/* 800B82F8 000B3818  2C 05 00 00 */	cmpwi r5, 0
/* 800B82FC 000B381C  41 81 FF 54 */	bgt .L_800B8250
/* 800B8300 000B3820  39 61 00 20 */	addi r11, r1, 0x20
/* 800B8304 000B3824  48 0A 46 8D */	bl _restgpr_27
/* 800B8308 000B3828  80 01 00 24 */	lwz r0, 0x24(r1)
/* 800B830C 000B382C  7C 08 03 A6 */	mtlr r0
/* 800B8310 000B3830  38 21 00 20 */	addi r1, r1, 0x20
/* 800B8314 000B3834  4E 80 00 20 */	blr
