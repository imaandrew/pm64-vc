.include "macros.inc"

.section .text, "ax"

glabel OSDisableInterrupts
/* 800952B4 000907D4  7C 60 00 A6 */	mfmsr r3
/* 800952B8 000907D8  54 64 04 5E */	rlwinm r4, r3, 0, 0x11, 0xf
/* 800952BC 000907DC  7C 80 01 24 */	mtmsr r4

glabel __RAS_OSDisableInterrupts_end
/* 800952C0 000907E0  54 63 8F FE */	rlwinm r3, r3, 0x11, 0x1f, 0x1f
/* 800952C4 000907E4  4E 80 00 20 */	blr 

glabel OSEnableInterrupts
/* 800952C8 000907E8  7C 60 00 A6 */	mfmsr r3
/* 800952CC 000907EC  60 64 80 00 */	ori r4, r3, 0x8000
/* 800952D0 000907F0  7C 80 01 24 */	mtmsr r4
/* 800952D4 000907F4  54 63 8F FE */	rlwinm r3, r3, 0x11, 0x1f, 0x1f
/* 800952D8 000907F8  4E 80 00 20 */	blr 

glabel OSRestoreInterrupts
/* 800952DC 000907FC  2C 03 00 00 */	cmpwi r3, 0
/* 800952E0 00090800  7C 80 00 A6 */	mfmsr r4
/* 800952E4 00090804  41 82 00 0C */	beq .L_800952F0
/* 800952E8 00090808  60 85 80 00 */	ori r5, r4, 0x8000
/* 800952EC 0009080C  48 00 00 08 */	b .L_800952F4
.L_800952F0:
/* 800952F0 00090810  54 85 04 5E */	rlwinm r5, r4, 0, 0x11, 0xf
.L_800952F4:
/* 800952F4 00090814  7C A0 01 24 */	mtmsr r5
/* 800952F8 00090818  54 83 8F FE */	rlwinm r3, r4, 0x11, 0x1f, 0x1f
/* 800952FC 0009081C  4E 80 00 20 */	blr 

glabel __OSSetInterruptHandler
/* 80095300 00090820  80 AD 8C F0 */	lwz r5, lbl_80247170@sda21(r13)
/* 80095304 00090824  54 60 10 3A */	slwi r0, r3, 2
/* 80095308 00090828  7C 65 00 2E */	lwzx r3, r5, r0
/* 8009530C 0009082C  7C 85 01 2E */	stwx r4, r5, r0
/* 80095310 00090830  4E 80 00 20 */	blr 

glabel __OSGetInterruptHandler
/* 80095314 00090834  80 8D 8C F0 */	lwz r4, lbl_80247170@sda21(r13)
/* 80095318 00090838  54 60 10 3A */	slwi r0, r3, 2
/* 8009531C 0009083C  7C 64 00 2E */	lwzx r3, r4, r0
/* 80095320 00090840  4E 80 00 20 */	blr 

glabel __OSInterruptInit
/* 80095324 00090844  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80095328 00090848  7C 08 02 A6 */	mflr r0
/* 8009532C 0009084C  38 80 00 00 */	li r4, 0
/* 80095330 00090850  38 A0 00 80 */	li r5, 0x80
/* 80095334 00090854  90 01 00 24 */	stw r0, 0x24(r1)
/* 80095338 00090858  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 8009533C 0009085C  3F E0 80 00 */	lis r31, 0x80003040@ha
/* 80095340 00090860  38 7F 30 40 */	addi r3, r31, 0x80003040@l
/* 80095344 00090864  93 C1 00 18 */	stw r30, 0x18(r1)
/* 80095348 00090868  93 A1 00 14 */	stw r29, 0x14(r1)
/* 8009534C 0009086C  90 6D 8C F0 */	stw r3, lbl_80247170@sda21(r13)
/* 80095350 00090870  4B F6 F0 ED */	bl memset
/* 80095354 00090874  38 C0 00 00 */	li r6, 0
/* 80095358 00090878  38 A0 00 F0 */	li r5, 0xf0
/* 8009535C 0009087C  90 DF 00 C4 */	stw r6, 0xc4(r31)
/* 80095360 00090880  3C 80 CC 00 */	lis r4, 0xCC003004@ha
/* 80095364 00090884  3C 00 40 00 */	lis r0, 0x4000
/* 80095368 00090888  3C 60 CD 00 */	lis r3, 0xCD000034@ha
/* 8009536C 0009088C  90 DF 00 C8 */	stw r6, 0xc8(r31)
/* 80095370 00090890  3B C0 FF F0 */	li r30, -16
/* 80095374 00090894  90 A4 30 04 */	stw r5, 0xCC003004@l(r4)
/* 80095378 00090898  90 03 00 34 */	stw r0, 0xCD000034@l(r3)
/* 8009537C 0009089C  4B FF FF 39 */	bl OSDisableInterrupts
/* 80095380 000908A0  80 1F 00 C4 */	lwz r0, 0xc4(r31)
/* 80095384 000908A4  7C 7D 1B 78 */	mr r29, r3
/* 80095388 000908A8  80 9F 00 C8 */	lwz r4, 0xc8(r31)
/* 8009538C 000908AC  7F DE 03 78 */	or r30, r30, r0
/* 80095390 000908B0  7C 00 20 F8 */	nor r0, r0, r4
/* 80095394 000908B4  93 DF 00 C4 */	stw r30, 0xc4(r31)
/* 80095398 000908B8  54 03 00 36 */	rlwinm r3, r0, 0, 0, 0x1b
/* 8009539C 000908BC  7F DE 23 78 */	or r30, r30, r4
/* 800953A0 000908C0  48 00 00 0C */	b .L_800953AC
.L_800953A4:
/* 800953A4 000908C4  7F C4 F3 78 */	mr r4, r30
/* 800953A8 000908C8  48 00 00 41 */	bl SetInterruptMask
.L_800953AC:
/* 800953AC 000908CC  2C 03 00 00 */	cmpwi r3, 0
/* 800953B0 000908D0  40 82 FF F4 */	bne .L_800953A4
/* 800953B4 000908D4  7F A3 EB 78 */	mr r3, r29
/* 800953B8 000908D8  4B FF FF 25 */	bl OSRestoreInterrupts
/* 800953BC 000908DC  3C 80 80 09 */	lis r4, ExternalInterruptHandler@ha
/* 800953C0 000908E0  38 60 00 04 */	li r3, 4
/* 800953C4 000908E4  38 84 59 E8 */	addi r4, r4, ExternalInterruptHandler@l
/* 800953C8 000908E8  4B FF A8 5D */	bl __OSSetExceptionHandler
/* 800953CC 000908EC  80 01 00 24 */	lwz r0, 0x24(r1)
/* 800953D0 000908F0  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 800953D4 000908F4  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 800953D8 000908F8  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 800953DC 000908FC  7C 08 03 A6 */	mtlr r0
/* 800953E0 00090900  38 21 00 20 */	addi r1, r1, 0x20
/* 800953E4 00090904  4E 80 00 20 */	blr 

glabel SetInterruptMask
/* 800953E8 00090908  7C 60 00 34 */	cntlzw r0, r3
/* 800953EC 0009090C  2C 00 00 0C */	cmpwi r0, 0xc
/* 800953F0 00090910  40 80 00 24 */	bge .L_80095414
/* 800953F4 00090914  2C 00 00 08 */	cmpwi r0, 8
/* 800953F8 00090918  41 82 00 CC */	beq .L_800954C4
/* 800953FC 0009091C  40 80 00 F4 */	bge .L_800954F0
/* 80095400 00090920  2C 00 00 05 */	cmpwi r0, 5
/* 80095404 00090924  40 80 00 80 */	bge .L_80095484
/* 80095408 00090928  2C 00 00 00 */	cmpwi r0, 0
/* 8009540C 0009092C  40 80 00 28 */	bge .L_80095434
/* 80095410 00090930  4E 80 00 20 */	blr 
.L_80095414:
/* 80095414 00090934  2C 00 00 11 */	cmpwi r0, 0x11
/* 80095418 00090938  40 80 00 10 */	bge .L_80095428
/* 8009541C 0009093C  2C 00 00 0F */	cmpwi r0, 0xf
/* 80095420 00090940  40 80 01 58 */	bge .L_80095578
/* 80095424 00090944  48 00 01 10 */	b .L_80095534
.L_80095428:
/* 80095428 00090948  2C 00 00 1C */	cmpwi r0, 0x1c
/* 8009542C 0009094C  4C 80 00 20 */	bgelr 
/* 80095430 00090950  48 00 01 7C */	b .L_800955AC
.L_80095434:
/* 80095434 00090954  54 80 00 01 */	rlwinm. r0, r4, 0, 0, 0
/* 80095438 00090958  38 A0 00 00 */	li r5, 0
/* 8009543C 0009095C  40 82 00 08 */	bne .L_80095444
/* 80095440 00090960  60 A5 00 01 */	ori r5, r5, 1
.L_80095444:
/* 80095444 00090964  54 80 00 43 */	rlwinm. r0, r4, 0, 1, 1
/* 80095448 00090968  40 82 00 08 */	bne .L_80095450
/* 8009544C 0009096C  60 A5 00 02 */	ori r5, r5, 2
.L_80095450:
/* 80095450 00090970  54 80 00 85 */	rlwinm. r0, r4, 0, 2, 2
/* 80095454 00090974  40 82 00 08 */	bne .L_8009545C
/* 80095458 00090978  60 A5 00 04 */	ori r5, r5, 4
.L_8009545C:
/* 8009545C 0009097C  54 80 00 C7 */	rlwinm. r0, r4, 0, 3, 3
/* 80095460 00090980  40 82 00 08 */	bne .L_80095468
/* 80095464 00090984  60 A5 00 08 */	ori r5, r5, 8
.L_80095468:
/* 80095468 00090988  54 80 01 09 */	rlwinm. r0, r4, 0, 4, 4
/* 8009546C 0009098C  40 82 00 08 */	bne .L_80095474
/* 80095470 00090990  60 A5 00 10 */	ori r5, r5, 0x10
.L_80095474:
/* 80095474 00090994  3C 80 CC 00 */	lis r4, 0xCC00401C@ha
/* 80095478 00090998  54 63 01 7E */	clrlwi r3, r3, 5
/* 8009547C 0009099C  B0 A4 40 1C */	sth r5, 0xCC00401C@l(r4)
/* 80095480 000909A0  4E 80 00 20 */	blr 
.L_80095484:
/* 80095484 000909A4  3C A0 CC 00 */	lis r5, 0xCC00500A@ha
/* 80095488 000909A8  54 80 01 4B */	rlwinm. r0, r4, 0, 5, 5
/* 8009548C 000909AC  A0 A5 50 0A */	lhz r5, 0xCC00500A@l(r5)
/* 80095490 000909B0  54 A5 07 6C */	rlwinm r5, r5, 0, 0x1d, 0x16
/* 80095494 000909B4  40 82 00 08 */	bne .L_8009549C
/* 80095498 000909B8  60 A5 00 10 */	ori r5, r5, 0x10
.L_8009549C:
/* 8009549C 000909BC  54 80 01 8D */	rlwinm. r0, r4, 0, 6, 6
/* 800954A0 000909C0  40 82 00 08 */	bne .L_800954A8
/* 800954A4 000909C4  60 A5 00 40 */	ori r5, r5, 0x40
.L_800954A8:
/* 800954A8 000909C8  54 80 01 CF */	rlwinm. r0, r4, 0, 7, 7
/* 800954AC 000909CC  40 82 00 08 */	bne .L_800954B4
/* 800954B0 000909D0  60 A5 01 00 */	ori r5, r5, 0x100
.L_800954B4:
/* 800954B4 000909D4  3C 80 CC 00 */	lis r4, 0xCC00500A@ha
/* 800954B8 000909D8  54 63 02 08 */	rlwinm r3, r3, 0, 8, 4
/* 800954BC 000909DC  B0 A4 50 0A */	sth r5, 0xCC00500A@l(r4)
/* 800954C0 000909E0  4E 80 00 20 */	blr 
.L_800954C4:
/* 800954C4 000909E4  54 80 02 11 */	rlwinm. r0, r4, 0, 8, 8
/* 800954C8 000909E8  3C 80 CD 00 */	lis r4, 0xCD006C00@ha
/* 800954CC 000909EC  80 A4 6C 00 */	lwz r5, 0xCD006C00@l(r4)
/* 800954D0 000909F0  38 00 FF D3 */	li r0, -45
/* 800954D4 000909F4  7C A5 00 38 */	and r5, r5, r0
/* 800954D8 000909F8  40 82 00 08 */	bne .L_800954E0
/* 800954DC 000909FC  60 A5 00 04 */	ori r5, r5, 4
.L_800954E0:
/* 800954E0 00090A00  3C 80 CD 00 */	lis r4, 0xCD006C00@ha
/* 800954E4 00090A04  54 63 02 4E */	rlwinm r3, r3, 0, 9, 7
/* 800954E8 00090A08  90 A4 6C 00 */	stw r5, 0xCD006C00@l(r4)
/* 800954EC 00090A0C  4E 80 00 20 */	blr 
.L_800954F0:
/* 800954F0 00090A10  54 80 02 53 */	rlwinm. r0, r4, 0, 9, 9
/* 800954F4 00090A14  3C A0 CD 00 */	lis r5, 0xCD006800@ha
/* 800954F8 00090A18  80 A5 68 00 */	lwz r5, 0xCD006800@l(r5)
/* 800954FC 00090A1C  38 00 D3 F0 */	li r0, -11280
/* 80095500 00090A20  7C A5 00 38 */	and r5, r5, r0
/* 80095504 00090A24  40 82 00 08 */	bne .L_8009550C
/* 80095508 00090A28  60 A5 00 01 */	ori r5, r5, 1
.L_8009550C:
/* 8009550C 00090A2C  54 80 02 95 */	rlwinm. r0, r4, 0, 0xa, 0xa
/* 80095510 00090A30  40 82 00 08 */	bne .L_80095518
/* 80095514 00090A34  60 A5 00 04 */	ori r5, r5, 4
.L_80095518:
/* 80095518 00090A38  54 80 02 D7 */	rlwinm. r0, r4, 0, 0xb, 0xb
/* 8009551C 00090A3C  40 82 00 08 */	bne .L_80095524
/* 80095520 00090A40  60 A5 04 00 */	ori r5, r5, 0x400
.L_80095524:
/* 80095524 00090A44  3C 80 CD 00 */	lis r4, 0xCD006800@ha
/* 80095528 00090A48  54 63 03 10 */	rlwinm r3, r3, 0, 0xc, 8
/* 8009552C 00090A4C  90 A4 68 00 */	stw r5, 0xCD006800@l(r4)
/* 80095530 00090A50  4E 80 00 20 */	blr 
.L_80095534:
/* 80095534 00090A54  54 80 03 19 */	rlwinm. r0, r4, 0, 0xc, 0xc
/* 80095538 00090A58  3C A0 CD 00 */	lis r5, 0xCD006814@ha
/* 8009553C 00090A5C  80 A5 68 14 */	lwz r5, 0xCD006814@l(r5)
/* 80095540 00090A60  38 00 F3 F0 */	li r0, -3088
/* 80095544 00090A64  7C A5 00 38 */	and r5, r5, r0
/* 80095548 00090A68  40 82 00 08 */	bne .L_80095550
/* 8009554C 00090A6C  60 A5 00 01 */	ori r5, r5, 1
.L_80095550:
/* 80095550 00090A70  54 80 03 5B */	rlwinm. r0, r4, 0, 0xd, 0xd
/* 80095554 00090A74  40 82 00 08 */	bne .L_8009555C
/* 80095558 00090A78  60 A5 00 04 */	ori r5, r5, 4
.L_8009555C:
/* 8009555C 00090A7C  54 80 03 9D */	rlwinm. r0, r4, 0, 0xe, 0xe
/* 80095560 00090A80  40 82 00 08 */	bne .L_80095568
/* 80095564 00090A84  60 A5 04 00 */	ori r5, r5, 0x400
.L_80095568:
/* 80095568 00090A88  3C 80 CD 00 */	lis r4, 0xCD006814@ha
/* 8009556C 00090A8C  54 63 03 D6 */	rlwinm r3, r3, 0, 0xf, 0xb
/* 80095570 00090A90  90 A4 68 14 */	stw r5, 0xCD006814@l(r4)
/* 80095574 00090A94  4E 80 00 20 */	blr 
.L_80095578:
/* 80095578 00090A98  3C A0 CD 00 */	lis r5, 0xCD006828@ha
/* 8009557C 00090A9C  54 80 03 DF */	rlwinm. r0, r4, 0, 0xf, 0xf
/* 80095580 00090AA0  80 A5 68 28 */	lwz r5, 0xCD006828@l(r5)
/* 80095584 00090AA4  54 A5 00 36 */	rlwinm r5, r5, 0, 0, 0x1b
/* 80095588 00090AA8  40 82 00 08 */	bne .L_80095590
/* 8009558C 00090AAC  60 A5 00 01 */	ori r5, r5, 1
.L_80095590:
/* 80095590 00090AB0  54 80 04 21 */	rlwinm. r0, r4, 0, 0x10, 0x10
/* 80095594 00090AB4  40 82 00 08 */	bne .L_8009559C
/* 80095598 00090AB8  60 A5 00 04 */	ori r5, r5, 4
.L_8009559C:
/* 8009559C 00090ABC  3C 80 CD 00 */	lis r4, 0xCD006828@ha
/* 800955A0 00090AC0  54 63 04 5C */	rlwinm r3, r3, 0, 0x11, 0xe
/* 800955A4 00090AC4  90 A4 68 28 */	stw r5, 0xCD006828@l(r4)
/* 800955A8 00090AC8  4E 80 00 20 */	blr 
.L_800955AC:
/* 800955AC 00090ACC  54 80 04 63 */	rlwinm. r0, r4, 0, 0x11, 0x11
/* 800955B0 00090AD0  38 A0 00 F0 */	li r5, 0xf0
/* 800955B4 00090AD4  40 82 00 08 */	bne .L_800955BC
/* 800955B8 00090AD8  60 A5 08 00 */	ori r5, r5, 0x800
.L_800955BC:
/* 800955BC 00090ADC  54 80 05 29 */	rlwinm. r0, r4, 0, 0x14, 0x14
/* 800955C0 00090AE0  40 82 00 08 */	bne .L_800955C8
/* 800955C4 00090AE4  60 A5 00 08 */	ori r5, r5, 8
.L_800955C8:
/* 800955C8 00090AE8  54 80 05 6B */	rlwinm. r0, r4, 0, 0x15, 0x15
/* 800955CC 00090AEC  40 82 00 08 */	bne .L_800955D4
/* 800955D0 00090AF0  60 A5 00 04 */	ori r5, r5, 4
.L_800955D4:
/* 800955D4 00090AF4  54 80 05 AD */	rlwinm. r0, r4, 0, 0x16, 0x16
/* 800955D8 00090AF8  40 82 00 08 */	bne .L_800955E0
/* 800955DC 00090AFC  60 A5 00 02 */	ori r5, r5, 2
.L_800955E0:
/* 800955E0 00090B00  54 80 05 EF */	rlwinm. r0, r4, 0, 0x17, 0x17
/* 800955E4 00090B04  40 82 00 08 */	bne .L_800955EC
/* 800955E8 00090B08  60 A5 00 01 */	ori r5, r5, 1
.L_800955EC:
/* 800955EC 00090B0C  54 80 06 31 */	rlwinm. r0, r4, 0, 0x18, 0x18
/* 800955F0 00090B10  40 82 00 08 */	bne .L_800955F8
/* 800955F4 00090B14  60 A5 01 00 */	ori r5, r5, 0x100
.L_800955F8:
/* 800955F8 00090B18  54 80 06 73 */	rlwinm. r0, r4, 0, 0x19, 0x19
/* 800955FC 00090B1C  40 82 00 08 */	bne .L_80095604
/* 80095600 00090B20  60 A5 10 00 */	ori r5, r5, 0x1000
.L_80095604:
/* 80095604 00090B24  54 80 04 A5 */	rlwinm. r0, r4, 0, 0x12, 0x12
/* 80095608 00090B28  40 82 00 08 */	bne .L_80095610
/* 8009560C 00090B2C  60 A5 02 00 */	ori r5, r5, 0x200
.L_80095610:
/* 80095610 00090B30  54 80 04 E7 */	rlwinm. r0, r4, 0, 0x13, 0x13
/* 80095614 00090B34  40 82 00 08 */	bne .L_8009561C
/* 80095618 00090B38  60 A5 04 00 */	ori r5, r5, 0x400
.L_8009561C:
/* 8009561C 00090B3C  54 80 06 B5 */	rlwinm. r0, r4, 0, 0x1a, 0x1a
/* 80095620 00090B40  40 82 00 08 */	bne .L_80095628
/* 80095624 00090B44  60 A5 20 00 */	ori r5, r5, 0x2000
.L_80095628:
/* 80095628 00090B48  54 80 06 F7 */	rlwinm. r0, r4, 0, 0x1b, 0x1b
/* 8009562C 00090B4C  40 82 00 08 */	bne .L_80095634
/* 80095630 00090B50  60 A5 40 00 */	ori r5, r5, 0x4000
.L_80095634:
/* 80095634 00090B54  3C 80 CC 00 */	lis r4, 0xCC003004@ha
/* 80095638 00090B58  54 63 07 20 */	rlwinm r3, r3, 0, 0x1c, 0x10
/* 8009563C 00090B5C  90 A4 30 04 */	stw r5, 0xCC003004@l(r4)
/* 80095640 00090B60  4E 80 00 20 */	blr 

glabel __OSMaskInterrupts
/* 80095644 00090B64  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80095648 00090B68  7C 08 02 A6 */	mflr r0
/* 8009564C 00090B6C  90 01 00 24 */	stw r0, 0x24(r1)
/* 80095650 00090B70  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 80095654 00090B74  7C 7F 1B 78 */	mr r31, r3
/* 80095658 00090B78  93 C1 00 18 */	stw r30, 0x18(r1)
/* 8009565C 00090B7C  93 A1 00 14 */	stw r29, 0x14(r1)
/* 80095660 00090B80  4B FF FC 55 */	bl OSDisableInterrupts
/* 80095664 00090B84  3C 80 80 00 */	lis r4, 0x800000C4@ha
/* 80095668 00090B88  7C 7E 1B 78 */	mr r30, r3
/* 8009566C 00090B8C  83 A4 00 C4 */	lwz r29, 0x800000C4@l(r4)
/* 80095670 00090B90  80 A4 00 C8 */	lwz r5, 0xc8(r4)
/* 80095674 00090B94  7F A0 2B 78 */	or r0, r29, r5
/* 80095678 00090B98  7F E3 00 78 */	andc r3, r31, r0
/* 8009567C 00090B9C  7F FF EB 78 */	or r31, r31, r29
/* 80095680 00090BA0  93 E4 00 C4 */	stw r31, 0xc4(r4)
/* 80095684 00090BA4  7F FF 2B 78 */	or r31, r31, r5
/* 80095688 00090BA8  48 00 00 0C */	b .L_80095694
.L_8009568C:
/* 8009568C 00090BAC  7F E4 FB 78 */	mr r4, r31
/* 80095690 00090BB0  4B FF FD 59 */	bl SetInterruptMask
.L_80095694:
/* 80095694 00090BB4  2C 03 00 00 */	cmpwi r3, 0
/* 80095698 00090BB8  40 82 FF F4 */	bne .L_8009568C
/* 8009569C 00090BBC  7F C3 F3 78 */	mr r3, r30
/* 800956A0 00090BC0  4B FF FC 3D */	bl OSRestoreInterrupts
/* 800956A4 00090BC4  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 800956A8 00090BC8  7F A3 EB 78 */	mr r3, r29
/* 800956AC 00090BCC  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 800956B0 00090BD0  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 800956B4 00090BD4  80 01 00 24 */	lwz r0, 0x24(r1)
/* 800956B8 00090BD8  7C 08 03 A6 */	mtlr r0
/* 800956BC 00090BDC  38 21 00 20 */	addi r1, r1, 0x20
/* 800956C0 00090BE0  4E 80 00 20 */	blr 

glabel __OSUnmaskInterrupts
/* 800956C4 00090BE4  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 800956C8 00090BE8  7C 08 02 A6 */	mflr r0
/* 800956CC 00090BEC  90 01 00 24 */	stw r0, 0x24(r1)
/* 800956D0 00090BF0  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 800956D4 00090BF4  7C 7F 1B 78 */	mr r31, r3
/* 800956D8 00090BF8  93 C1 00 18 */	stw r30, 0x18(r1)
/* 800956DC 00090BFC  93 A1 00 14 */	stw r29, 0x14(r1)
/* 800956E0 00090C00  4B FF FB D5 */	bl OSDisableInterrupts
/* 800956E4 00090C04  3C 80 80 00 */	lis r4, 0x800000C4@ha
/* 800956E8 00090C08  7C 7E 1B 78 */	mr r30, r3
/* 800956EC 00090C0C  83 A4 00 C4 */	lwz r29, 0x800000C4@l(r4)
/* 800956F0 00090C10  80 A4 00 C8 */	lwz r5, 0xc8(r4)
/* 800956F4 00090C14  7F A0 2B 78 */	or r0, r29, r5
/* 800956F8 00090C18  7F E3 00 38 */	and r3, r31, r0
/* 800956FC 00090C1C  7F BF F8 78 */	andc r31, r29, r31
/* 80095700 00090C20  93 E4 00 C4 */	stw r31, 0xc4(r4)
/* 80095704 00090C24  7F FF 2B 78 */	or r31, r31, r5
/* 80095708 00090C28  48 00 00 0C */	b .L_80095714
.L_8009570C:
/* 8009570C 00090C2C  7F E4 FB 78 */	mr r4, r31
/* 80095710 00090C30  4B FF FC D9 */	bl SetInterruptMask
.L_80095714:
/* 80095714 00090C34  2C 03 00 00 */	cmpwi r3, 0
/* 80095718 00090C38  40 82 FF F4 */	bne .L_8009570C
/* 8009571C 00090C3C  7F C3 F3 78 */	mr r3, r30
/* 80095720 00090C40  4B FF FB BD */	bl OSRestoreInterrupts
/* 80095724 00090C44  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 80095728 00090C48  7F A3 EB 78 */	mr r3, r29
/* 8009572C 00090C4C  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 80095730 00090C50  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 80095734 00090C54  80 01 00 24 */	lwz r0, 0x24(r1)
/* 80095738 00090C58  7C 08 03 A6 */	mtlr r0
/* 8009573C 00090C5C  38 21 00 20 */	addi r1, r1, 0x20
/* 80095740 00090C60  4E 80 00 20 */	blr 

glabel __OSDispatchInterrupt
/* 80095744 00090C64  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80095748 00090C68  7C 08 02 A6 */	mflr r0
/* 8009574C 00090C6C  3C 60 CC 00 */	lis r3, 0xCC003000@ha
/* 80095750 00090C70  90 01 00 24 */	stw r0, 0x24(r1)
/* 80095754 00090C74  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 80095758 00090C78  93 C1 00 18 */	stw r30, 0x18(r1)
/* 8009575C 00090C7C  7C 9E 23 78 */	mr r30, r4
/* 80095760 00090C80  93 A1 00 14 */	stw r29, 0x14(r1)
/* 80095764 00090C84  83 E3 30 00 */	lwz r31, 0xCC003000@l(r3)
/* 80095768 00090C88  80 03 30 04 */	lwz r0, 0x3004(r3)
/* 8009576C 00090C8C  57 FF 04 1D */	rlwinm. r31, r31, 0, 0x10, 0xe
/* 80095770 00090C90  41 82 00 0C */	beq .L_8009577C
/* 80095774 00090C94  7F E0 00 39 */	and. r0, r31, r0
/* 80095778 00090C98  40 82 00 0C */	bne .L_80095784
.L_8009577C:
/* 8009577C 00090C9C  7F C3 F3 78 */	mr r3, r30
/* 80095780 00090CA0  4B FF BB E1 */	bl OSLoadContext
.L_80095784:
/* 80095784 00090CA4  57 E0 06 31 */	rlwinm. r0, r31, 0, 0x18, 0x18
/* 80095788 00090CA8  38 00 00 00 */	li r0, 0
/* 8009578C 00090CAC  41 82 00 48 */	beq .L_800957D4
/* 80095790 00090CB0  3C 60 CC 00 */	lis r3, 0xCC00401E@ha
/* 80095794 00090CB4  A0 83 40 1E */	lhz r4, 0xCC00401E@l(r3)
/* 80095798 00090CB8  54 83 07 FF */	clrlwi. r3, r4, 0x1f
/* 8009579C 00090CBC  41 82 00 08 */	beq .L_800957A4
/* 800957A0 00090CC0  64 00 80 00 */	oris r0, r0, 0x8000
.L_800957A4:
/* 800957A4 00090CC4  54 83 07 BD */	rlwinm. r3, r4, 0, 0x1e, 0x1e
/* 800957A8 00090CC8  41 82 00 08 */	beq .L_800957B0
/* 800957AC 00090CCC  64 00 40 00 */	oris r0, r0, 0x4000
.L_800957B0:
/* 800957B0 00090CD0  54 83 07 7B */	rlwinm. r3, r4, 0, 0x1d, 0x1d
/* 800957B4 00090CD4  41 82 00 08 */	beq .L_800957BC
/* 800957B8 00090CD8  64 00 20 00 */	oris r0, r0, 0x2000
.L_800957BC:
/* 800957BC 00090CDC  54 83 07 39 */	rlwinm. r3, r4, 0, 0x1c, 0x1c
/* 800957C0 00090CE0  41 82 00 08 */	beq .L_800957C8
/* 800957C4 00090CE4  64 00 10 00 */	oris r0, r0, 0x1000
.L_800957C8:
/* 800957C8 00090CE8  54 83 06 F7 */	rlwinm. r3, r4, 0, 0x1b, 0x1b
/* 800957CC 00090CEC  41 82 00 08 */	beq .L_800957D4
/* 800957D0 00090CF0  64 00 08 00 */	oris r0, r0, 0x800
.L_800957D4:
/* 800957D4 00090CF4  57 E3 06 73 */	rlwinm. r3, r31, 0, 0x19, 0x19
/* 800957D8 00090CF8  41 82 00 30 */	beq .L_80095808
/* 800957DC 00090CFC  3C 60 CC 00 */	lis r3, 0xCC00500A@ha
/* 800957E0 00090D00  A0 83 50 0A */	lhz r4, 0xCC00500A@l(r3)
/* 800957E4 00090D04  54 83 07 39 */	rlwinm. r3, r4, 0, 0x1c, 0x1c
/* 800957E8 00090D08  41 82 00 08 */	beq .L_800957F0
/* 800957EC 00090D0C  64 00 04 00 */	oris r0, r0, 0x400
.L_800957F0:
/* 800957F0 00090D10  54 83 06 B5 */	rlwinm. r3, r4, 0, 0x1a, 0x1a
/* 800957F4 00090D14  41 82 00 08 */	beq .L_800957FC
/* 800957F8 00090D18  64 00 02 00 */	oris r0, r0, 0x200
.L_800957FC:
/* 800957FC 00090D1C  54 83 06 31 */	rlwinm. r3, r4, 0, 0x18, 0x18
/* 80095800 00090D20  41 82 00 08 */	beq .L_80095808
/* 80095804 00090D24  64 00 01 00 */	oris r0, r0, 0x100
.L_80095808:
/* 80095808 00090D28  57 E3 06 B5 */	rlwinm. r3, r31, 0, 0x1a, 0x1a
/* 8009580C 00090D2C  41 82 00 18 */	beq .L_80095824
/* 80095810 00090D30  3C 60 CD 00 */	lis r3, 0xCD006C00@ha
/* 80095814 00090D34  80 63 6C 00 */	lwz r3, 0xCD006C00@l(r3)
/* 80095818 00090D38  54 63 07 39 */	rlwinm. r3, r3, 0, 0x1c, 0x1c
/* 8009581C 00090D3C  41 82 00 08 */	beq .L_80095824
/* 80095820 00090D40  64 00 00 80 */	oris r0, r0, 0x80
.L_80095824:
/* 80095824 00090D44  57 E3 06 F7 */	rlwinm. r3, r31, 0, 0x1b, 0x1b
/* 80095828 00090D48  41 82 00 7C */	beq .L_800958A4
/* 8009582C 00090D4C  3C 60 CD 00 */	lis r3, 0xCD006800@ha
/* 80095830 00090D50  80 83 68 00 */	lwz r4, 0xCD006800@l(r3)
/* 80095834 00090D54  54 83 07 BD */	rlwinm. r3, r4, 0, 0x1e, 0x1e
/* 80095838 00090D58  41 82 00 08 */	beq .L_80095840
/* 8009583C 00090D5C  64 00 00 40 */	oris r0, r0, 0x40
.L_80095840:
/* 80095840 00090D60  54 83 07 39 */	rlwinm. r3, r4, 0, 0x1c, 0x1c
/* 80095844 00090D64  41 82 00 08 */	beq .L_8009584C
/* 80095848 00090D68  64 00 00 20 */	oris r0, r0, 0x20
.L_8009584C:
/* 8009584C 00090D6C  54 83 05 29 */	rlwinm. r3, r4, 0, 0x14, 0x14
/* 80095850 00090D70  41 82 00 08 */	beq .L_80095858
/* 80095854 00090D74  64 00 00 10 */	oris r0, r0, 0x10
.L_80095858:
/* 80095858 00090D78  3C 60 CD 00 */	lis r3, 0xCD006814@ha
/* 8009585C 00090D7C  80 83 68 14 */	lwz r4, 0xCD006814@l(r3)
/* 80095860 00090D80  54 83 07 BD */	rlwinm. r3, r4, 0, 0x1e, 0x1e
/* 80095864 00090D84  41 82 00 08 */	beq .L_8009586C
/* 80095868 00090D88  64 00 00 08 */	oris r0, r0, 8
.L_8009586C:
/* 8009586C 00090D8C  54 83 07 39 */	rlwinm. r3, r4, 0, 0x1c, 0x1c
/* 80095870 00090D90  41 82 00 08 */	beq .L_80095878
/* 80095874 00090D94  64 00 00 04 */	oris r0, r0, 4
.L_80095878:
/* 80095878 00090D98  54 83 05 29 */	rlwinm. r3, r4, 0, 0x14, 0x14
/* 8009587C 00090D9C  41 82 00 08 */	beq .L_80095884
/* 80095880 00090DA0  64 00 00 02 */	oris r0, r0, 2
.L_80095884:
/* 80095884 00090DA4  3C 60 CD 00 */	lis r3, 0xCD006828@ha
/* 80095888 00090DA8  80 83 68 28 */	lwz r4, 0xCD006828@l(r3)
/* 8009588C 00090DAC  54 83 07 BD */	rlwinm. r3, r4, 0, 0x1e, 0x1e
/* 80095890 00090DB0  41 82 00 08 */	beq .L_80095898
/* 80095894 00090DB4  64 00 00 01 */	oris r0, r0, 1
.L_80095898:
/* 80095898 00090DB8  54 83 07 39 */	rlwinm. r3, r4, 0, 0x1c, 0x1c
/* 8009589C 00090DBC  41 82 00 08 */	beq .L_800958A4
/* 800958A0 00090DC0  60 00 80 00 */	ori r0, r0, 0x8000
.L_800958A4:
/* 800958A4 00090DC4  57 E3 04 A5 */	rlwinm. r3, r31, 0, 0x12, 0x12
/* 800958A8 00090DC8  41 82 00 08 */	beq .L_800958B0
/* 800958AC 00090DCC  60 00 00 20 */	ori r0, r0, 0x20
.L_800958B0:
/* 800958B0 00090DD0  57 E3 04 E7 */	rlwinm. r3, r31, 0, 0x13, 0x13
/* 800958B4 00090DD4  41 82 00 08 */	beq .L_800958BC
/* 800958B8 00090DD8  60 00 00 40 */	ori r0, r0, 0x40
.L_800958BC:
/* 800958BC 00090DDC  57 E3 05 6B */	rlwinm. r3, r31, 0, 0x15, 0x15
/* 800958C0 00090DE0  41 82 00 08 */	beq .L_800958C8
/* 800958C4 00090DE4  60 00 10 00 */	ori r0, r0, 0x1000
.L_800958C8:
/* 800958C8 00090DE8  57 E3 05 AD */	rlwinm. r3, r31, 0, 0x16, 0x16
/* 800958CC 00090DEC  41 82 00 08 */	beq .L_800958D4
/* 800958D0 00090DF0  60 00 20 00 */	ori r0, r0, 0x2000
.L_800958D4:
/* 800958D4 00090DF4  57 E3 05 EF */	rlwinm. r3, r31, 0, 0x17, 0x17
/* 800958D8 00090DF8  41 82 00 08 */	beq .L_800958E0
/* 800958DC 00090DFC  60 00 00 80 */	ori r0, r0, 0x80
.L_800958E0:
/* 800958E0 00090E00  57 E3 07 39 */	rlwinm. r3, r31, 0, 0x1c, 0x1c
/* 800958E4 00090E04  41 82 00 08 */	beq .L_800958EC
/* 800958E8 00090E08  60 00 08 00 */	ori r0, r0, 0x800
.L_800958EC:
/* 800958EC 00090E0C  57 E3 07 7B */	rlwinm. r3, r31, 0, 0x1d, 0x1d
/* 800958F0 00090E10  41 82 00 08 */	beq .L_800958F8
/* 800958F4 00090E14  60 00 04 00 */	ori r0, r0, 0x400
.L_800958F8:
/* 800958F8 00090E18  57 E3 07 BD */	rlwinm. r3, r31, 0, 0x1e, 0x1e
/* 800958FC 00090E1C  41 82 00 08 */	beq .L_80095904
/* 80095900 00090E20  60 00 02 00 */	ori r0, r0, 0x200
.L_80095904:
/* 80095904 00090E24  57 E3 05 29 */	rlwinm. r3, r31, 0, 0x14, 0x14
/* 80095908 00090E28  41 82 00 08 */	beq .L_80095910
/* 8009590C 00090E2C  60 00 40 00 */	ori r0, r0, 0x4000
.L_80095910:
/* 80095910 00090E30  57 E3 07 FF */	clrlwi. r3, r31, 0x1f
/* 80095914 00090E34  41 82 00 08 */	beq .L_8009591C
/* 80095918 00090E38  60 00 01 00 */	ori r0, r0, 0x100
.L_8009591C:
/* 8009591C 00090E3C  57 E3 04 63 */	rlwinm. r3, r31, 0, 0x11, 0x11
/* 80095920 00090E40  41 82 00 08 */	beq .L_80095928
/* 80095924 00090E44  60 00 00 10 */	ori r0, r0, 0x10
.L_80095928:
/* 80095928 00090E48  3C 60 80 00 */	lis r3, 0x800000C4@ha
/* 8009592C 00090E4C  80 83 00 C4 */	lwz r4, 0x800000C4@l(r3)
/* 80095930 00090E50  80 63 00 C8 */	lwz r3, 0xc8(r3)
/* 80095934 00090E54  7C 83 1B 78 */	or r3, r4, r3
/* 80095938 00090E58  7C 03 18 79 */	andc. r3, r0, r3
/* 8009593C 00090E5C  41 82 00 88 */	beq .L_800959C4
/* 80095940 00090E60  3C 80 80 18 */	lis r4, lbl_80184080@ha
/* 80095944 00090E64  38 84 40 80 */	addi r4, r4, lbl_80184080@l
.L_80095948:
/* 80095948 00090E68  80 04 00 00 */	lwz r0, 0(r4)
/* 8009594C 00090E6C  7C 60 00 39 */	and. r0, r3, r0
/* 80095950 00090E70  41 82 00 10 */	beq .L_80095960
/* 80095954 00090E74  7C 00 00 34 */	cntlzw r0, r0
/* 80095958 00090E78  7C 1D 07 34 */	extsh r29, r0
/* 8009595C 00090E7C  48 00 00 0C */	b .L_80095968
.L_80095960:
/* 80095960 00090E80  38 84 00 04 */	addi r4, r4, 4
/* 80095964 00090E84  4B FF FF E4 */	b .L_80095948
.L_80095968:
/* 80095968 00090E88  80 6D 8C F0 */	lwz r3, lbl_80247170@sda21(r13)
/* 8009596C 00090E8C  57 A0 10 3A */	slwi r0, r29, 2
/* 80095970 00090E90  7F E3 00 2E */	lwzx r31, r3, r0
/* 80095974 00090E94  2C 1F 00 00 */	cmpwi r31, 0
/* 80095978 00090E98  41 82 00 4C */	beq .L_800959C4
/* 8009597C 00090E9C  2C 1D 00 04 */	cmpwi r29, 4
/* 80095980 00090EA0  40 81 00 1C */	ble .L_8009599C
/* 80095984 00090EA4  B3 AD 8C E4 */	sth r29, lbl_80247164@sda21(r13)
/* 80095988 00090EA8  48 00 34 41 */	bl OSGetTime
/* 8009598C 00090EAC  90 8D 8C EC */	stw r4, lbl_8024716C@sda21(r13)
/* 80095990 00090EB0  90 6D 8C E8 */	stw r3, lbl_80247168@sda21(r13)
/* 80095994 00090EB4  80 1E 01 98 */	lwz r0, 0x198(r30)
/* 80095998 00090EB8  90 0D 8C E0 */	stw r0, lbl_80247160@sda21(r13)
.L_8009599C:
/* 8009599C 00090EBC  48 00 22 1D */	bl OSDisableScheduler
/* 800959A0 00090EC0  7F EC FB 78 */	mr r12, r31
/* 800959A4 00090EC4  7F A3 EB 78 */	mr r3, r29
/* 800959A8 00090EC8  7F C4 F3 78 */	mr r4, r30
/* 800959AC 00090ECC  7D 89 03 A6 */	mtctr r12
/* 800959B0 00090ED0  4E 80 04 21 */	bctrl 
/* 800959B4 00090ED4  48 00 22 41 */	bl OSEnableScheduler
/* 800959B8 00090ED8  48 00 27 49 */	bl __OSReschedule
/* 800959BC 00090EDC  7F C3 F3 78 */	mr r3, r30
/* 800959C0 00090EE0  4B FF B9 A1 */	bl OSLoadContext
.L_800959C4:
/* 800959C4 00090EE4  7F C3 F3 78 */	mr r3, r30
/* 800959C8 00090EE8  4B FF B9 99 */	bl OSLoadContext
/* 800959CC 00090EEC  80 01 00 24 */	lwz r0, 0x24(r1)
/* 800959D0 00090EF0  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 800959D4 00090EF4  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 800959D8 00090EF8  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 800959DC 00090EFC  7C 08 03 A6 */	mtlr r0
/* 800959E0 00090F00  38 21 00 20 */	addi r1, r1, 0x20
/* 800959E4 00090F04  4E 80 00 20 */	blr 

glabel ExternalInterruptHandler
/* 800959E8 00090F08  90 04 00 00 */	stw r0, 0(r4)
/* 800959EC 00090F0C  90 24 00 04 */	stw r1, 4(r4)
/* 800959F0 00090F10  90 44 00 08 */	stw r2, 8(r4)
/* 800959F4 00090F14  BC C4 00 18 */	stmw r6, 0x18(r4)
/* 800959F8 00090F18  7C 11 E2 A6 */	mfspr r0, 0x391
/* 800959FC 00090F1C  90 04 01 A8 */	stw r0, 0x1a8(r4)
/* 80095A00 00090F20  7C 12 E2 A6 */	mfspr r0, 0x392
/* 80095A04 00090F24  90 04 01 AC */	stw r0, 0x1ac(r4)
/* 80095A08 00090F28  7C 13 E2 A6 */	mfspr r0, 0x393
/* 80095A0C 00090F2C  90 04 01 B0 */	stw r0, 0x1b0(r4)
/* 80095A10 00090F30  7C 14 E2 A6 */	mfspr r0, 0x394
/* 80095A14 00090F34  90 04 01 B4 */	stw r0, 0x1b4(r4)
/* 80095A18 00090F38  7C 15 E2 A6 */	mfspr r0, 0x395
/* 80095A1C 00090F3C  90 04 01 B8 */	stw r0, 0x1b8(r4)
/* 80095A20 00090F40  7C 16 E2 A6 */	mfspr r0, 0x396
/* 80095A24 00090F44  90 04 01 BC */	stw r0, 0x1bc(r4)
/* 80095A28 00090F48  7C 17 E2 A6 */	mfspr r0, 0x397
/* 80095A2C 00090F4C  90 04 01 C0 */	stw r0, 0x1c0(r4)
/* 80095A30 00090F50  94 21 FF F8 */	stwu r1, -8(r1)
/* 80095A34 00090F54  4B FF FD 10 */	b __OSDispatchInterrupt

.section .sbss, "wa" # 0x80246B60 - 0x80247800

glabel lbl_80247160
	.skip 0x4

glabel lbl_80247164
	.skip 0x4

glabel lbl_80247168
	.skip 0x4

glabel lbl_8024716C
	.skip 0x4

glabel lbl_80247170
	.skip 0x8
