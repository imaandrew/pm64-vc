.include "macros.inc"

.section .text, "ax"

glabel ClampStick
/* 800C20A8 000BD5C8  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 800C20AC 000BD5CC  93 E1 00 0C */	stw r31, 0xc(r1)
/* 800C20B0 000BD5D0  88 03 00 00 */	lbz r0, 0(r3)
/* 800C20B4 000BD5D4  89 04 00 00 */	lbz r8, 0(r4)
/* 800C20B8 000BD5D8  7C 00 07 75 */	extsb. r0, r0
/* 800C20BC 000BD5DC  7D 08 07 74 */	extsb r8, r8
/* 800C20C0 000BD5E0  41 80 00 0C */	blt .L_800C20CC
/* 800C20C4 000BD5E4  39 20 00 01 */	li r9, 1
/* 800C20C8 000BD5E8  48 00 00 0C */	b .L_800C20D4
.L_800C20CC:
/* 800C20CC 000BD5EC  39 20 FF FF */	li r9, -1
/* 800C20D0 000BD5F0  7C 00 00 D0 */	neg r0, r0
.L_800C20D4:
/* 800C20D4 000BD5F4  2C 08 00 00 */	cmpwi r8, 0
/* 800C20D8 000BD5F8  41 80 00 0C */	blt .L_800C20E4
/* 800C20DC 000BD5FC  39 40 00 01 */	li r10, 1
/* 800C20E0 000BD600  48 00 00 0C */	b .L_800C20EC
.L_800C20E4:
/* 800C20E4 000BD604  39 40 FF FF */	li r10, -1
/* 800C20E8 000BD608  7D 08 00 D0 */	neg r8, r8
.L_800C20EC:
/* 800C20EC 000BD60C  7C FF 07 74 */	extsb r31, r7
/* 800C20F0 000BD610  6C 0B 80 00 */	xoris r11, r0, 0x8000
/* 800C20F4 000BD614  7C E0 F8 50 */	subf r7, r0, r31
/* 800C20F8 000BD618  6D 0C 80 00 */	xoris r12, r8, 0x8000
/* 800C20FC 000BD61C  7C E7 58 14 */	addc r7, r7, r11
/* 800C2100 000BD620  7C 1F 00 50 */	subf r0, r31, r0
/* 800C2104 000BD624  7C E7 39 10 */	subfe r7, r7, r7
/* 800C2108 000BD628  7D 68 F8 50 */	subf r11, r8, r31
/* 800C210C 000BD62C  7C 00 38 79 */	andc. r0, r0, r7
/* 800C2110 000BD630  7C FF 40 50 */	subf r7, r31, r8
/* 800C2114 000BD634  7D 0B 60 14 */	addc r8, r11, r12
/* 800C2118 000BD638  7D 08 41 10 */	subfe r8, r8, r8
/* 800C211C 000BD63C  7C E8 40 78 */	andc r8, r7, r8
/* 800C2120 000BD640  40 82 00 1C */	bne .L_800C213C
/* 800C2124 000BD644  2C 08 00 00 */	cmpwi r8, 0
/* 800C2128 000BD648  40 82 00 14 */	bne .L_800C213C
/* 800C212C 000BD64C  38 00 00 00 */	li r0, 0
/* 800C2130 000BD650  98 04 00 00 */	stb r0, 0(r4)
/* 800C2134 000BD654  98 03 00 00 */	stb r0, 0(r3)
/* 800C2138 000BD658  48 00 00 94 */	b .L_800C21CC
.L_800C213C:
/* 800C213C 000BD65C  7C C7 07 74 */	extsb r7, r6
/* 800C2140 000BD660  7D 67 01 D6 */	mullw r11, r7, r0
/* 800C2144 000BD664  7D 87 41 D6 */	mullw r12, r7, r8
/* 800C2148 000BD668  7C 0C 58 00 */	cmpw r12, r11
/* 800C214C 000BD66C  41 81 00 3C */	bgt .L_800C2188
/* 800C2150 000BD670  7C A6 07 74 */	extsb r6, r5
/* 800C2154 000BD674  7C A7 30 50 */	subf r5, r7, r6
/* 800C2158 000BD678  7C A8 29 D6 */	mullw r5, r8, r5
/* 800C215C 000BD67C  7C C7 31 D6 */	mullw r6, r7, r6
/* 800C2160 000BD680  7C EB 2A 14 */	add r7, r11, r5
/* 800C2164 000BD684  7C 06 38 00 */	cmpw r6, r7
/* 800C2168 000BD688  40 80 00 54 */	bge .L_800C21BC
/* 800C216C 000BD68C  7C A0 31 D6 */	mullw r5, r0, r6
/* 800C2170 000BD690  7C 08 31 D6 */	mullw r0, r8, r6
/* 800C2174 000BD694  7C C5 3B D6 */	divw r6, r5, r7
/* 800C2178 000BD698  7C A0 3B D6 */	divw r5, r0, r7
/* 800C217C 000BD69C  7C C0 07 74 */	extsb r0, r6
/* 800C2180 000BD6A0  7C A8 07 74 */	extsb r8, r5
/* 800C2184 000BD6A4  48 00 00 38 */	b .L_800C21BC
.L_800C2188:
/* 800C2188 000BD6A8  7C A6 07 74 */	extsb r6, r5
/* 800C218C 000BD6AC  7C A7 30 50 */	subf r5, r7, r6
/* 800C2190 000BD6B0  7C A0 29 D6 */	mullw r5, r0, r5
/* 800C2194 000BD6B4  7C C7 31 D6 */	mullw r6, r7, r6
/* 800C2198 000BD6B8  7C EC 2A 14 */	add r7, r12, r5
/* 800C219C 000BD6BC  7C 06 38 00 */	cmpw r6, r7
/* 800C21A0 000BD6C0  40 80 00 1C */	bge .L_800C21BC
/* 800C21A4 000BD6C4  7C A0 31 D6 */	mullw r5, r0, r6
/* 800C21A8 000BD6C8  7C 08 31 D6 */	mullw r0, r8, r6
/* 800C21AC 000BD6CC  7C C5 3B D6 */	divw r6, r5, r7
/* 800C21B0 000BD6D0  7C A0 3B D6 */	divw r5, r0, r7
/* 800C21B4 000BD6D4  7C C0 07 74 */	extsb r0, r6
/* 800C21B8 000BD6D8  7C A8 07 74 */	extsb r8, r5
.L_800C21BC:
/* 800C21BC 000BD6DC  7C A9 01 D6 */	mullw r5, r9, r0
/* 800C21C0 000BD6E0  7C 0A 41 D6 */	mullw r0, r10, r8
/* 800C21C4 000BD6E4  98 A3 00 00 */	stb r5, 0(r3)
/* 800C21C8 000BD6E8  98 04 00 00 */	stb r0, 0(r4)
.L_800C21CC:
/* 800C21CC 000BD6EC  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 800C21D0 000BD6F0  38 21 00 10 */	addi r1, r1, 0x10
/* 800C21D4 000BD6F4  4E 80 00 20 */	blr 

glabel PADClamp
/* 800C21D8 000BD6F8  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 800C21DC 000BD6FC  7C 08 02 A6 */	mflr r0
/* 800C21E0 000BD700  90 01 00 24 */	stw r0, 0x24(r1)
/* 800C21E4 000BD704  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 800C21E8 000BD708  3B E0 00 B4 */	li r31, 0xb4
/* 800C21EC 000BD70C  93 C1 00 18 */	stw r30, 0x18(r1)
/* 800C21F0 000BD710  3B C0 00 00 */	li r30, 0
/* 800C21F4 000BD714  93 A1 00 14 */	stw r29, 0x14(r1)
/* 800C21F8 000BD718  3B A0 00 00 */	li r29, 0
/* 800C21FC 000BD71C  93 81 00 10 */	stw r28, 0x10(r1)
/* 800C2200 000BD720  7C 7C 1B 78 */	mr r28, r3
.L_800C2204:
/* 800C2204 000BD724  88 1C 00 0A */	lbz r0, 0xa(r28)
/* 800C2208 000BD728  7C 00 07 75 */	extsb. r0, r0
/* 800C220C 000BD72C  40 82 00 8C */	bne .L_800C2298
/* 800C2210 000BD730  38 7C 00 02 */	addi r3, r28, 2
/* 800C2214 000BD734  38 9C 00 03 */	addi r4, r28, 3
/* 800C2218 000BD738  38 A0 00 48 */	li r5, 0x48
/* 800C221C 000BD73C  38 C0 00 28 */	li r6, 0x28
/* 800C2220 000BD740  38 E0 00 0F */	li r7, 0xf
/* 800C2224 000BD744  4B FF FE 85 */	bl ClampStick
/* 800C2228 000BD748  38 7C 00 04 */	addi r3, r28, 4
/* 800C222C 000BD74C  38 9C 00 05 */	addi r4, r28, 5
/* 800C2230 000BD750  38 A0 00 3B */	li r5, 0x3b
/* 800C2234 000BD754  38 C0 00 1F */	li r6, 0x1f
/* 800C2238 000BD758  38 E0 00 0F */	li r7, 0xf
/* 800C223C 000BD75C  4B FF FE 6D */	bl ClampStick
/* 800C2240 000BD760  88 1C 00 06 */	lbz r0, 6(r28)
/* 800C2244 000BD764  28 00 00 1E */	cmplwi r0, 0x1e
/* 800C2248 000BD768  41 81 00 0C */	bgt .L_800C2254
/* 800C224C 000BD76C  9B DC 00 06 */	stb r30, 6(r28)
/* 800C2250 000BD770  48 00 00 1C */	b .L_800C226C
.L_800C2254:
/* 800C2254 000BD774  28 00 00 B4 */	cmplwi r0, 0xb4
/* 800C2258 000BD778  40 81 00 08 */	ble .L_800C2260
/* 800C225C 000BD77C  9B FC 00 06 */	stb r31, 6(r28)
.L_800C2260:
/* 800C2260 000BD780  88 7C 00 06 */	lbz r3, 6(r28)
/* 800C2264 000BD784  38 03 FF E2 */	addi r0, r3, -30
/* 800C2268 000BD788  98 1C 00 06 */	stb r0, 6(r28)
.L_800C226C:
/* 800C226C 000BD78C  88 1C 00 07 */	lbz r0, 7(r28)
/* 800C2270 000BD790  28 00 00 1E */	cmplwi r0, 0x1e
/* 800C2274 000BD794  41 81 00 0C */	bgt .L_800C2280
/* 800C2278 000BD798  9B DC 00 07 */	stb r30, 7(r28)
/* 800C227C 000BD79C  48 00 00 1C */	b .L_800C2298
.L_800C2280:
/* 800C2280 000BD7A0  28 00 00 B4 */	cmplwi r0, 0xb4
/* 800C2284 000BD7A4  40 81 00 08 */	ble .L_800C228C
/* 800C2288 000BD7A8  9B FC 00 07 */	stb r31, 7(r28)
.L_800C228C:
/* 800C228C 000BD7AC  88 7C 00 07 */	lbz r3, 7(r28)
/* 800C2290 000BD7B0  38 03 FF E2 */	addi r0, r3, -30
/* 800C2294 000BD7B4  98 1C 00 07 */	stb r0, 7(r28)
.L_800C2298:
/* 800C2298 000BD7B8  3B BD 00 01 */	addi r29, r29, 1
/* 800C229C 000BD7BC  3B 9C 00 0C */	addi r28, r28, 0xc
/* 800C22A0 000BD7C0  2C 1D 00 04 */	cmpwi r29, 4
/* 800C22A4 000BD7C4  41 80 FF 60 */	blt .L_800C2204
/* 800C22A8 000BD7C8  80 01 00 24 */	lwz r0, 0x24(r1)
/* 800C22AC 000BD7CC  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 800C22B0 000BD7D0  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 800C22B4 000BD7D4  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 800C22B8 000BD7D8  83 81 00 10 */	lwz r28, 0x10(r1)
/* 800C22BC 000BD7DC  7C 08 03 A6 */	mtlr r0
/* 800C22C0 000BD7E0  38 21 00 20 */	addi r1, r1, 0x20
/* 800C22C4 000BD7E4  4E 80 00 20 */	blr 

