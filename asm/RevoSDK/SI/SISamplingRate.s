.include "macros.inc"

.section .text, "ax"

glabel SISetSamplingRate
/* 8009E278 00099798  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 8009E27C 0009979C  7C 08 02 A6 */	mflr r0
/* 8009E280 000997A0  28 03 00 0B */	cmplwi r3, 0xb
/* 8009E284 000997A4  90 01 00 24 */	stw r0, 0x24(r1)
/* 8009E288 000997A8  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 8009E28C 000997AC  3F E0 80 19 */	lis r31, lbl_80190388@ha
/* 8009E290 000997B0  3B FF 03 88 */	addi r31, r31, lbl_80190388@l
/* 8009E294 000997B4  93 C1 00 18 */	stw r30, 0x18(r1)
/* 8009E298 000997B8  93 A1 00 14 */	stw r29, 0x14(r1)
/* 8009E29C 000997BC  7C 7D 1B 78 */	mr r29, r3
/* 8009E2A0 000997C0  40 81 00 08 */	ble lbl_8009E2A8
/* 8009E2A4 000997C4  3B A0 00 0B */	li r29, 0xb
lbl_8009E2A8:
/* 8009E2A8 000997C8  4B FF 70 0D */	bl OSDisableInterrupts
/* 8009E2AC 000997CC  93 AD 8D B0 */	stw r29, lbl_80247230@sda21(r13)
/* 8009E2B0 000997D0  7C 7E 1B 78 */	mr r30, r3
/* 8009E2B4 000997D4  48 00 26 D1 */	bl VIGetTvFormat
/* 8009E2B8 000997D8  2C 03 00 02 */	cmpwi r3, 2
/* 8009E2BC 000997DC  41 82 00 24 */	beq lbl_8009E2E0
/* 8009E2C0 000997E0  40 80 00 14 */	bge lbl_8009E2D4
/* 8009E2C4 000997E4  2C 03 00 00 */	cmpwi r3, 0
/* 8009E2C8 000997E8  41 82 00 18 */	beq lbl_8009E2E0
/* 8009E2CC 000997EC  40 80 00 1C */	bge lbl_8009E2E8
/* 8009E2D0 000997F0  48 00 00 20 */	b lbl_8009E2F0
lbl_8009E2D4:
/* 8009E2D4 000997F4  2C 03 00 05 */	cmpwi r3, 5
/* 8009E2D8 000997F8  41 82 00 08 */	beq lbl_8009E2E0
/* 8009E2DC 000997FC  48 00 00 14 */	b lbl_8009E2F0
lbl_8009E2E0:
/* 8009E2E0 00099800  38 BF 00 00 */	addi r5, r31, 0
/* 8009E2E4 00099804  48 00 00 20 */	b lbl_8009E304
lbl_8009E2E8:
/* 8009E2E8 00099808  38 BF 00 30 */	addi r5, r31, 0x30
/* 8009E2EC 0009980C  48 00 00 18 */	b lbl_8009E304
lbl_8009E2F0:
/* 8009E2F0 00099810  38 7F 00 60 */	addi r3, r31, 0x60
/* 8009E2F4 00099814  4C C6 31 82 */	crclr 6
/* 8009E2F8 00099818  4B FF 35 B5 */	bl OSReport
/* 8009E2FC 0009981C  3B A0 00 00 */	li r29, 0
/* 8009E300 00099820  38 BF 00 00 */	addi r5, r31, 0
lbl_8009E304:
/* 8009E304 00099824  3C 60 CC 00 */	lis r3, 0xCC00206C@ha
/* 8009E308 00099828  57 A0 10 3A */	slwi r0, r29, 2
/* 8009E30C 0009982C  A0 83 20 6C */	lhz r4, 0xCC00206C@l(r3)
/* 8009E310 00099830  7C 65 02 14 */	add r3, r5, r0
/* 8009E314 00099834  7C 05 02 2E */	lhzx r0, r5, r0
/* 8009E318 00099838  54 85 07 FE */	clrlwi r5, r4, 0x1f
/* 8009E31C 0009983C  88 83 00 02 */	lbz r4, 2(r3)
/* 8009E320 00099840  38 65 00 01 */	addi r3, r5, 1
/* 8009E324 00099844  7C 63 01 D6 */	mullw r3, r3, r0
/* 8009E328 00099848  4B FF F5 71 */	bl SISetXY
/* 8009E32C 0009984C  7F C3 F3 78 */	mr r3, r30
/* 8009E330 00099850  4B FF 6F AD */	bl OSRestoreInterrupts
/* 8009E334 00099854  80 01 00 24 */	lwz r0, 0x24(r1)
/* 8009E338 00099858  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 8009E33C 0009985C  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 8009E340 00099860  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 8009E344 00099864  7C 08 03 A6 */	mtlr r0
/* 8009E348 00099868  38 21 00 20 */	addi r1, r1, 0x20
/* 8009E34C 0009986C  4E 80 00 20 */	blr 

glabel SIRefreshSamplingRate
/* 8009E350 00099870  80 6D 8D B0 */	lwz r3, lbl_80247230@sda21(r13)
/* 8009E354 00099874  4B FF FF 24 */	b SISetSamplingRate

.section .sbss, "wa" # 0x80246B60 - 0x80247800

glabel lbl_80247230
	.skip 0x8