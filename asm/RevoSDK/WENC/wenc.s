.include "macros.inc"

.section .text, "ax"

glabel WENCGetEncodeData
/* 800BE174 000B9694  94 21 FF 70 */	stwu r1, -0x90(r1)
/* 800BE178 000B9698  7C 08 02 A6 */	mflr r0
/* 800BE17C 000B969C  90 01 00 94 */	stw r0, 0x94(r1)
/* 800BE180 000B96A0  39 61 00 90 */	addi r11, r1, 0x90
/* 800BE184 000B96A4  48 09 E7 9D */	bl _savegpr_18
/* 800BE188 000B96A8  3D 40 80 17 */	lis r10, lbl_80170004@ha
/* 800BE18C 000B96AC  85 2A 59 90 */	lwzu r9, 0x5990(r10)
/* 800BE190 000B96B0  39 66 00 01 */	addi r11, r6, 1
/* 800BE194 000B96B4  7C 99 23 78 */	mr r25, r4
/* 800BE198 000B96B8  55 64 0F FE */	srwi r4, r11, 0x1f
/* 800BE19C 000B96BC  81 0A 00 04 */	lwz r8, lbl_80170004@l(r10)
/* 800BE1A0 000B96C0  7C FF 3B 78 */	mr r31, r7
/* 800BE1A4 000B96C4  80 0A 00 08 */	lwz r0, 8(r10)
/* 800BE1A8 000B96C8  7C 84 5A 14 */	add r4, r4, r11
/* 800BE1AC 000B96CC  82 4A 00 0C */	lwz r18, 0xc(r10)
/* 800BE1B0 000B96D0  83 6A 00 10 */	lwz r27, 0x10(r10)
/* 800BE1B4 000B96D4  7C DE 33 78 */	mr r30, r6
/* 800BE1B8 000B96D8  83 4A 00 14 */	lwz r26, 0x14(r10)
/* 800BE1BC 000B96DC  7C 7C 1B 78 */	mr r28, r3
/* 800BE1C0 000B96E0  83 0A 00 18 */	lwz r24, 0x18(r10)
/* 800BE1C4 000B96E4  7C BD 2B 78 */	mr r29, r5
/* 800BE1C8 000B96E8  82 EA 00 1C */	lwz r23, 0x1c(r10)
/* 800BE1CC 000B96EC  7C 85 0E 70 */	srawi r5, r4, 1
/* 800BE1D0 000B96F0  82 CA 00 20 */	lwz r22, 0x20(r10)
/* 800BE1D4 000B96F4  7F E3 FB 78 */	mr r3, r31
/* 800BE1D8 000B96F8  82 AA 00 24 */	lwz r21, 0x24(r10)
/* 800BE1DC 000B96FC  38 80 00 00 */	li r4, 0
/* 800BE1E0 000B9700  82 8A 00 28 */	lwz r20, 0x28(r10)
/* 800BE1E4 000B9704  82 6A 00 2C */	lwz r19, 0x2c(r10)
/* 800BE1E8 000B9708  81 8A 00 30 */	lwz r12, 0x30(r10)
/* 800BE1EC 000B970C  81 6A 00 34 */	lwz r11, 0x34(r10)
/* 800BE1F0 000B9710  80 EA 00 38 */	lwz r7, 0x38(r10)
/* 800BE1F4 000B9714  80 CA 00 3C */	lwz r6, 0x3c(r10)
/* 800BE1F8 000B9718  91 21 00 08 */	stw r9, 8(r1)
/* 800BE1FC 000B971C  91 01 00 0C */	stw r8, 0xc(r1)
/* 800BE200 000B9720  90 01 00 10 */	stw r0, 0x10(r1)
/* 800BE204 000B9724  92 41 00 14 */	stw r18, 0x14(r1)
/* 800BE208 000B9728  93 61 00 18 */	stw r27, 0x18(r1)
/* 800BE20C 000B972C  93 41 00 1C */	stw r26, 0x1c(r1)
/* 800BE210 000B9730  93 01 00 20 */	stw r24, 0x20(r1)
/* 800BE214 000B9734  92 E1 00 24 */	stw r23, 0x24(r1)
/* 800BE218 000B9738  92 C1 00 28 */	stw r22, 0x28(r1)
/* 800BE21C 000B973C  92 A1 00 2C */	stw r21, 0x2c(r1)
/* 800BE220 000B9740  92 81 00 30 */	stw r20, 0x30(r1)
/* 800BE224 000B9744  92 61 00 34 */	stw r19, 0x34(r1)
/* 800BE228 000B9748  91 81 00 38 */	stw r12, 0x38(r1)
/* 800BE22C 000B974C  91 61 00 3C */	stw r11, 0x3c(r1)
/* 800BE230 000B9750  90 E1 00 40 */	stw r7, 0x40(r1)
/* 800BE234 000B9754  90 C1 00 44 */	stw r6, 0x44(r1)
/* 800BE238 000B9758  4B F4 62 05 */	bl memset
/* 800BE23C 000B975C  57 20 07 FF */	clrlwi. r0, r25, 0x1f
/* 800BE240 000B9760  40 82 00 20 */	bne lbl_800BE260
/* 800BE244 000B9764  39 60 00 00 */	li r11, 0
/* 800BE248 000B9768  39 80 00 7F */	li r12, 0x7f
/* 800BE24C 000B976C  38 A0 00 00 */	li r5, 0
/* 800BE250 000B9770  3B 60 00 00 */	li r27, 0
/* 800BE254 000B9774  3B 40 00 00 */	li r26, 0
/* 800BE258 000B9778  3B 20 00 00 */	li r25, 0
/* 800BE25C 000B977C  48 00 00 1C */	b lbl_800BE278
lbl_800BE260:
/* 800BE260 000B9780  81 7C 00 00 */	lwz r11, 0(r28)
/* 800BE264 000B9784  81 9C 00 04 */	lwz r12, 4(r28)
/* 800BE268 000B9788  80 BC 00 08 */	lwz r5, 8(r28)
/* 800BE26C 000B978C  83 7C 00 0C */	lwz r27, 0xc(r28)
/* 800BE270 000B9790  83 5C 00 10 */	lwz r26, 0x10(r28)
/* 800BE274 000B9794  83 3C 00 14 */	lwz r25, 0x14(r28)
lbl_800BE278:
/* 800BE278 000B9798  3C 60 00 01 */	lis r3, 0x0000FFFF@ha
/* 800BE27C 000B979C  3B 01 00 08 */	addi r24, r1, 8
/* 800BE280 000B97A0  C8 42 87 98 */	lfd f2, lbl_80247F98@sda21(r2)
/* 800BE284 000B97A4  38 83 FF FF */	addi r4, r3, 0x0000FFFF@l
/* 800BE288 000B97A8  38 C0 00 00 */	li r6, 0
/* 800BE28C 000B97AC  3C 00 FF FF */	lis r0, 0xffff
/* 800BE290 000B97B0  3E E0 43 30 */	lis r23, 0x4330
/* 800BE294 000B97B4  7F C9 03 A6 */	mtctr r30
/* 800BE298 000B97B8  2C 1E 00 00 */	cmpwi r30, 0
/* 800BE29C 000B97BC  40 81 01 7C */	ble lbl_800BE418
lbl_800BE2A0:
/* 800BE2A0 000B97C0  A8 BD 00 00 */	lha r5, 0(r29)
/* 800BE2A4 000B97C4  39 40 00 00 */	li r10, 0
/* 800BE2A8 000B97C8  39 20 00 00 */	li r9, 0
/* 800BE2AC 000B97CC  39 00 00 00 */	li r8, 0
/* 800BE2B0 000B97D0  7C 05 58 00 */	cmpw r5, r11
/* 800BE2B4 000B97D4  38 E0 00 00 */	li r7, 0
/* 800BE2B8 000B97D8  3B BD 00 02 */	addi r29, r29, 2
/* 800BE2BC 000B97DC  40 80 00 08 */	bge lbl_800BE2C4
/* 800BE2C0 000B97E0  38 E0 00 01 */	li r7, 1
lbl_800BE2C4:
/* 800BE2C4 000B97E4  7E 6B 28 50 */	subf r19, r11, r5
/* 800BE2C8 000B97E8  7E 65 FE 70 */	srawi r5, r19, 0x1f
/* 800BE2CC 000B97EC  7C BB 9A 78 */	xor r27, r5, r19
/* 800BE2D0 000B97F0  7F 65 D8 50 */	subf r27, r5, r27
/* 800BE2D4 000B97F4  7C 1B 60 00 */	cmpw r27, r12
/* 800BE2D8 000B97F8  41 80 00 0C */	blt lbl_800BE2E4
/* 800BE2DC 000B97FC  39 00 00 01 */	li r8, 1
/* 800BE2E0 000B9800  7F 6C D8 50 */	subf r27, r12, r27
lbl_800BE2E4:
/* 800BE2E4 000B9804  55 85 0F FE */	srwi r5, r12, 0x1f
/* 800BE2E8 000B9808  7C A5 62 14 */	add r5, r5, r12
/* 800BE2EC 000B980C  7C BA 0E 70 */	srawi r26, r5, 1
/* 800BE2F0 000B9810  7C 1B D0 00 */	cmpw r27, r26
/* 800BE2F4 000B9814  41 80 00 0C */	blt lbl_800BE300
/* 800BE2F8 000B9818  39 20 00 01 */	li r9, 1
/* 800BE2FC 000B981C  7F 7A D8 50 */	subf r27, r26, r27
lbl_800BE300:
/* 800BE300 000B9820  57 45 0F FE */	srwi r5, r26, 0x1f
/* 800BE304 000B9824  7C A5 D2 14 */	add r5, r5, r26
/* 800BE308 000B9828  7C B9 0E 70 */	srawi r25, r5, 1
/* 800BE30C 000B982C  7C 1B C8 00 */	cmpw r27, r25
/* 800BE310 000B9830  41 80 00 0C */	blt lbl_800BE31C
/* 800BE314 000B9834  39 40 00 01 */	li r10, 1
/* 800BE318 000B9838  7F 79 D8 50 */	subf r27, r25, r27
lbl_800BE31C:
/* 800BE31C 000B983C  7E 99 51 D6 */	mullw r20, r25, r10
/* 800BE320 000B9840  54 E5 08 3C */	slwi r5, r7, 1
/* 800BE324 000B9844  57 33 0F FE */	srwi r19, r25, 0x1f
/* 800BE328 000B9848  20 A5 00 01 */	subfic r5, r5, 1
/* 800BE32C 000B984C  7E 73 CA 14 */	add r19, r19, r25
/* 800BE330 000B9850  7E AC 41 D6 */	mullw r21, r12, r8
/* 800BE334 000B9854  7E 73 0E 70 */	srawi r19, r19, 1
/* 800BE338 000B9858  7E DA 49 D6 */	mullw r22, r26, r9
/* 800BE33C 000B985C  7E B4 AA 14 */	add r21, r20, r21
/* 800BE340 000B9860  7E D3 B2 14 */	add r22, r19, r22
/* 800BE344 000B9864  7E D5 B2 14 */	add r22, r21, r22
/* 800BE348 000B9868  7C A5 B1 D6 */	mullw r5, r5, r22
/* 800BE34C 000B986C  7C 05 20 00 */	cmpw r5, r4
/* 800BE350 000B9870  40 81 00 08 */	ble lbl_800BE358
/* 800BE354 000B9874  38 A3 FF FF */	addi r5, r3, -1
lbl_800BE358:
/* 800BE358 000B9878  7C 05 00 00 */	cmpw r5, r0
/* 800BE35C 000B987C  40 80 00 08 */	bge lbl_800BE364
/* 800BE360 000B9880  3C A0 FF FF */	lis r5, 0xffff
lbl_800BE364:
/* 800BE364 000B9884  7D 6B 2A 14 */	add r11, r11, r5
/* 800BE368 000B9888  2C 0B 7F FF */	cmpwi r11, 0x7fff
/* 800BE36C 000B988C  40 81 00 08 */	ble lbl_800BE374
/* 800BE370 000B9890  39 60 7F FF */	li r11, 0x7fff
lbl_800BE374:
/* 800BE374 000B9894  2C 0B 80 00 */	cmpwi r11, -32768
/* 800BE378 000B9898  40 80 00 08 */	bge lbl_800BE380
/* 800BE37C 000B989C  39 60 80 00 */	li r11, -32768
lbl_800BE380:
/* 800BE380 000B98A0  6D 8C 80 00 */	xoris r12, r12, 0x8000
/* 800BE384 000B98A4  55 12 10 3A */	slwi r18, r8, 2
/* 800BE388 000B98A8  91 81 00 4C */	stw r12, 0x4c(r1)
/* 800BE38C 000B98AC  54 D6 07 FE */	clrlwi r22, r6, 0x1f
/* 800BE390 000B98B0  55 29 08 3C */	slwi r9, r9, 1
/* 800BE394 000B98B4  7D 0A 92 14 */	add r8, r10, r18
/* 800BE398 000B98B8  92 E1 00 48 */	stw r23, 0x48(r1)
/* 800BE39C 000B98BC  7D 09 42 14 */	add r8, r9, r8
/* 800BE3A0 000B98C0  55 08 18 38 */	slwi r8, r8, 3
/* 800BE3A4 000B98C4  54 CC 0F FE */	srwi r12, r6, 0x1f
/* 800BE3A8 000B98C8  C8 21 00 48 */	lfd f1, 0x48(r1)
/* 800BE3AC 000B98CC  7D 29 92 14 */	add r9, r9, r18
/* 800BE3B0 000B98D0  7C 18 44 AE */	lfdx f0, r24, r8
/* 800BE3B4 000B98D4  7D 0C 32 14 */	add r8, r12, r6
/* 800BE3B8 000B98D8  FC 21 10 28 */	fsub f1, f1, f2
/* 800BE3BC 000B98DC  7D 0C 0E 70 */	srawi r12, r8, 1
/* 800BE3C0 000B98E0  54 E8 18 38 */	slwi r8, r7, 3
/* 800BE3C4 000B98E4  7C EA 4A 14 */	add r7, r10, r9
/* 800BE3C8 000B98E8  7C E8 3A 14 */	add r7, r8, r7
/* 800BE3CC 000B98EC  3A D6 FF FF */	addi r22, r22, -1
/* 800BE3D0 000B98F0  FC 01 00 32 */	fmul f0, f1, f0
/* 800BE3D4 000B98F4  56 C9 07 7A */	rlwinm r9, r22, 0, 0x1d, 0x1d
/* 800BE3D8 000B98F8  54 E7 06 3E */	clrlwi r7, r7, 0x18
/* 800BE3DC 000B98FC  7D 1F 60 AE */	lbzx r8, r31, r12
/* 800BE3E0 000B9900  7C E7 48 30 */	slw r7, r7, r9
/* 800BE3E4 000B9904  7D 07 3B 78 */	or r7, r8, r7
/* 800BE3E8 000B9908  FC 00 00 1E */	fctiwz f0, f0
/* 800BE3EC 000B990C  7C FF 61 AE */	stbx r7, r31, r12
/* 800BE3F0 000B9910  D8 01 00 50 */	stfd f0, 0x50(r1)
/* 800BE3F4 000B9914  81 81 00 54 */	lwz r12, 0x54(r1)
/* 800BE3F8 000B9918  2C 0C 00 7F */	cmpwi r12, 0x7f
/* 800BE3FC 000B991C  41 81 00 08 */	bgt lbl_800BE404
/* 800BE400 000B9920  39 80 00 7F */	li r12, 0x7f
lbl_800BE404:
/* 800BE404 000B9924  2C 0C 60 00 */	cmpwi r12, 0x6000
/* 800BE408 000B9928  41 80 00 08 */	blt lbl_800BE410
/* 800BE40C 000B992C  39 80 60 00 */	li r12, 0x6000
lbl_800BE410:
/* 800BE410 000B9930  38 C6 00 01 */	addi r6, r6, 1
/* 800BE414 000B9934  42 00 FE 8C */	bdnz lbl_800BE2A0
lbl_800BE418:
/* 800BE418 000B9938  91 7C 00 00 */	stw r11, 0(r28)
/* 800BE41C 000B993C  39 61 00 90 */	addi r11, r1, 0x90
/* 800BE420 000B9940  7F C3 F3 78 */	mr r3, r30
/* 800BE424 000B9944  91 9C 00 04 */	stw r12, 4(r28)
/* 800BE428 000B9948  90 BC 00 08 */	stw r5, 8(r28)
/* 800BE42C 000B994C  93 7C 00 0C */	stw r27, 0xc(r28)
/* 800BE430 000B9950  93 5C 00 10 */	stw r26, 0x10(r28)
/* 800BE434 000B9954  93 3C 00 14 */	stw r25, 0x14(r28)
/* 800BE438 000B9958  48 09 E5 35 */	bl _restgpr_18
/* 800BE43C 000B995C  80 01 00 94 */	lwz r0, 0x94(r1)
/* 800BE440 000B9960  7C 08 03 A6 */	mtlr r0
/* 800BE444 000B9964  38 21 00 90 */	addi r1, r1, 0x90
/* 800BE448 000B9968  4E 80 00 20 */	blr 
