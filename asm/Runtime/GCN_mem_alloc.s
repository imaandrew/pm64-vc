.include "macros.inc"

.section .text, "ax"

glabel __sys_alloc
/* 8015EAD0 00159FF0  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 8015EAD4 00159FF4  7C 08 02 A6 */	mflr r0
/* 8015EAD8 00159FF8  90 01 00 24 */	stw r0, 0x24(r1)
/* 8015EADC 00159FFC  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 8015EAE0 0015A000  93 C1 00 18 */	stw r30, 0x18(r1)
/* 8015EAE4 0015A004  93 A1 00 14 */	stw r29, 0x14(r1)
/* 8015EAE8 0015A008  7C 7D 1B 78 */	mr r29, r3
/* 8015EAEC 0015A00C  80 0D 82 38 */	lwz r0, lbl_802466B8@sda21(r13)
/* 8015EAF0 0015A010  2C 00 FF FF */	cmpwi r0, -1
/* 8015EAF4 0015A014  40 82 00 6C */	bne .L_8015EB60
/* 8015EAF8 0015A018  3F E0 80 18 */	lis r31, lbl_801783E0@ha
/* 8015EAFC 0015A01C  38 7F 83 E0 */	addi r3, r31, lbl_801783E0@l
/* 8015EB00 0015A020  4C C6 31 82 */	crclr 6
/* 8015EB04 0015A024  4B F3 2D A9 */	bl OSReport
/* 8015EB08 0015A028  38 7F 83 E0 */	addi r3, r31, -31776
/* 8015EB0C 0015A02C  38 63 00 36 */	addi r3, r3, 0x36
/* 8015EB10 0015A030  4C C6 31 82 */	crclr 6
/* 8015EB14 0015A034  4B F3 2D 99 */	bl OSReport
/* 8015EB18 0015A038  4B F3 1B F5 */	bl OSGetArenaLo
/* 8015EB1C 0015A03C  7C 7E 1B 78 */	mr r30, r3
/* 8015EB20 0015A040  4B F3 1B D5 */	bl OSGetArenaHi
/* 8015EB24 0015A044  7C 7F 1B 78 */	mr r31, r3
/* 8015EB28 0015A048  7F C3 F3 78 */	mr r3, r30
/* 8015EB2C 0015A04C  7F E4 FB 78 */	mr r4, r31
/* 8015EB30 0015A050  38 A0 00 01 */	li r5, 1
/* 8015EB34 0015A054  4B F3 1A D5 */	bl OSInitAlloc
/* 8015EB38 0015A058  7C 7E 1B 78 */	mr r30, r3
/* 8015EB3C 0015A05C  4B F3 1C 01 */	bl OSSetArenaLo
/* 8015EB40 0015A060  38 1E 00 1F */	addi r0, r30, 0x1f
/* 8015EB44 0015A064  57 FE 00 34 */	rlwinm r30, r31, 0, 0, 0x1a
/* 8015EB48 0015A068  7F C4 F3 78 */	mr r4, r30
/* 8015EB4C 0015A06C  54 03 00 34 */	rlwinm r3, r0, 0, 0, 0x1a
/* 8015EB50 0015A070  4B F3 1B 29 */	bl OSCreateHeap
/* 8015EB54 0015A074  4B F3 1A A5 */	bl OSSetCurrentHeap
/* 8015EB58 0015A078  7F C3 F3 78 */	mr r3, r30
/* 8015EB5C 0015A07C  4B F3 1B E1 */	bl OSSetArenaLo
.L_8015EB60:
/* 8015EB60 0015A080  80 6D 82 38 */	lwz r3, lbl_802466B8@sda21(r13)
/* 8015EB64 0015A084  7F A4 EB 78 */	mr r4, r29
/* 8015EB68 0015A088  4B F0 64 F5 */	bl func_8006505C
/* 8015EB6C 0015A08C  80 01 00 24 */	lwz r0, 0x24(r1)
/* 8015EB70 0015A090  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 8015EB74 0015A094  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 8015EB78 0015A098  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 8015EB7C 0015A09C  7C 08 03 A6 */	mtlr r0
/* 8015EB80 0015A0A0  38 21 00 20 */	addi r1, r1, 0x20
/* 8015EB84 0015A0A4  4E 80 00 20 */	blr

glabel __sys_free
/* 8015EB88 0015A0A8  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 8015EB8C 0015A0AC  7C 08 02 A6 */	mflr r0
/* 8015EB90 0015A0B0  90 01 00 24 */	stw r0, 0x24(r1)
/* 8015EB94 0015A0B4  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 8015EB98 0015A0B8  93 C1 00 18 */	stw r30, 0x18(r1)
/* 8015EB9C 0015A0BC  93 A1 00 14 */	stw r29, 0x14(r1)
/* 8015EBA0 0015A0C0  7C 7D 1B 78 */	mr r29, r3
/* 8015EBA4 0015A0C4  80 0D 82 38 */	lwz r0, lbl_802466B8@sda21(r13)
/* 8015EBA8 0015A0C8  2C 00 FF FF */	cmpwi r0, -1
/* 8015EBAC 0015A0CC  40 82 00 6C */	bne .L_8015EC18
/* 8015EBB0 0015A0D0  3F E0 80 18 */	lis r31, lbl_801783E0@ha
/* 8015EBB4 0015A0D4  38 7F 83 E0 */	addi r3, r31, lbl_801783E0@l
/* 8015EBB8 0015A0D8  4C C6 31 82 */	crclr 6
/* 8015EBBC 0015A0DC  4B F3 2C F1 */	bl OSReport
/* 8015EBC0 0015A0E0  38 7F 83 E0 */	addi r3, r31, -31776
/* 8015EBC4 0015A0E4  38 63 00 36 */	addi r3, r3, 0x36
/* 8015EBC8 0015A0E8  4C C6 31 82 */	crclr 6
/* 8015EBCC 0015A0EC  4B F3 2C E1 */	bl OSReport
/* 8015EBD0 0015A0F0  4B F3 1B 3D */	bl OSGetArenaLo
/* 8015EBD4 0015A0F4  7C 7E 1B 78 */	mr r30, r3
/* 8015EBD8 0015A0F8  4B F3 1B 1D */	bl OSGetArenaHi
/* 8015EBDC 0015A0FC  7C 7F 1B 78 */	mr r31, r3
/* 8015EBE0 0015A100  7F C3 F3 78 */	mr r3, r30
/* 8015EBE4 0015A104  7F E4 FB 78 */	mr r4, r31
/* 8015EBE8 0015A108  38 A0 00 01 */	li r5, 1
/* 8015EBEC 0015A10C  4B F3 1A 1D */	bl OSInitAlloc
/* 8015EBF0 0015A110  7C 7E 1B 78 */	mr r30, r3
/* 8015EBF4 0015A114  4B F3 1B 49 */	bl OSSetArenaLo
/* 8015EBF8 0015A118  38 1E 00 1F */	addi r0, r30, 0x1f
/* 8015EBFC 0015A11C  57 FE 00 34 */	rlwinm r30, r31, 0, 0, 0x1a
/* 8015EC00 0015A120  7F C4 F3 78 */	mr r4, r30
/* 8015EC04 0015A124  54 03 00 34 */	rlwinm r3, r0, 0, 0, 0x1a
/* 8015EC08 0015A128  4B F3 1A 71 */	bl OSCreateHeap
/* 8015EC0C 0015A12C  4B F3 19 ED */	bl OSSetCurrentHeap
/* 8015EC10 0015A130  7F C3 F3 78 */	mr r3, r30
/* 8015EC14 0015A134  4B F3 1B 29 */	bl OSSetArenaLo
.L_8015EC18:
/* 8015EC18 0015A138  80 6D 82 38 */	lwz r3, lbl_802466B8@sda21(r13)
/* 8015EC1C 0015A13C  7F A4 EB 78 */	mr r4, r29
/* 8015EC20 0015A140  4B F0 64 69 */	bl func_80065088
/* 8015EC24 0015A144  80 01 00 24 */	lwz r0, 0x24(r1)
/* 8015EC28 0015A148  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 8015EC2C 0015A14C  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 8015EC30 0015A150  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 8015EC34 0015A154  7C 08 03 A6 */	mtlr r0
/* 8015EC38 0015A158  38 21 00 20 */	addi r1, r1, 0x20
/* 8015EC3C 0015A15C  4E 80 00 20 */	blr

