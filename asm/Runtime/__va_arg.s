.include "macros.inc"

.section .text, "ax"

glabel __va_arg
/* 8015C000 00157520  88 E3 00 00 */	lbz r7, 0(r3)
/* 8015C004 00157524  2C 04 00 03 */	cmpwi r4, 3
/* 8015C008 00157528  7C 66 1B 78 */	mr r6, r3
/* 8015C00C 0015752C  38 00 00 08 */	li r0, 8
/* 8015C010 00157530  7C E7 07 74 */	extsb r7, r7
/* 8015C014 00157534  39 00 00 04 */	li r8, 4
/* 8015C018 00157538  39 20 00 01 */	li r9, 1
/* 8015C01C 0015753C  38 A0 00 00 */	li r5, 0
/* 8015C020 00157540  39 40 00 00 */	li r10, 0
/* 8015C024 00157544  39 60 00 04 */	li r11, 4
/* 8015C028 00157548  40 82 00 1C */	bne .L_8015C044
/* 8015C02C 0015754C  88 E3 00 01 */	lbz r7, 1(r3)
/* 8015C030 00157550  38 C3 00 01 */	addi r6, r3, 1
/* 8015C034 00157554  39 00 00 08 */	li r8, 8
/* 8015C038 00157558  39 40 00 20 */	li r10, 0x20
/* 8015C03C 0015755C  7C E7 07 74 */	extsb r7, r7
/* 8015C040 00157560  39 60 00 08 */	li r11, 8
.L_8015C044:
/* 8015C044 00157564  2C 04 00 02 */	cmpwi r4, 2
/* 8015C048 00157568  40 82 00 1C */	bne .L_8015C064
/* 8015C04C 0015756C  54 E0 07 FF */	clrlwi. r0, r7, 0x1f
/* 8015C050 00157570  39 00 00 08 */	li r8, 8
/* 8015C054 00157574  38 00 00 07 */	li r0, 7
/* 8015C058 00157578  41 82 00 08 */	beq .L_8015C060
/* 8015C05C 0015757C  38 A0 00 01 */	li r5, 1
.L_8015C060:
/* 8015C060 00157580  39 20 00 02 */	li r9, 2
.L_8015C064:
/* 8015C064 00157584  7C 07 00 00 */	cmpw r7, r0
/* 8015C068 00157588  40 80 00 24 */	bge .L_8015C08C
/* 8015C06C 0015758C  7C E7 2A 14 */	add r7, r7, r5
/* 8015C070 00157590  80 63 00 08 */	lwz r3, 8(r3)
/* 8015C074 00157594  7C A7 59 D6 */	mullw r5, r7, r11
/* 8015C078 00157598  7C 07 4A 14 */	add r0, r7, r9
/* 8015C07C 0015759C  7C 63 52 14 */	add r3, r3, r10
/* 8015C080 001575A0  98 06 00 00 */	stb r0, 0(r6)
/* 8015C084 001575A4  7C A5 1A 14 */	add r5, r5, r3
/* 8015C088 001575A8  48 00 00 2C */	b .L_8015C0B4
.L_8015C08C:
/* 8015C08C 001575AC  38 A0 00 08 */	li r5, 8
/* 8015C090 001575B0  38 08 FF FF */	addi r0, r8, -1
/* 8015C094 001575B4  98 A6 00 00 */	stb r5, 0(r6)
/* 8015C098 001575B8  7C 06 00 F8 */	nor r6, r0, r0
/* 8015C09C 001575BC  80 03 00 04 */	lwz r0, 4(r3)
/* 8015C0A0 001575C0  7C A8 02 14 */	add r5, r8, r0
/* 8015C0A4 001575C4  38 05 FF FF */	addi r0, r5, -1
/* 8015C0A8 001575C8  7C C5 00 38 */	and r5, r6, r0
/* 8015C0AC 001575CC  7C 05 42 14 */	add r0, r5, r8
/* 8015C0B0 001575D0  90 03 00 04 */	stw r0, 4(r3)
.L_8015C0B4:
/* 8015C0B4 001575D4  2C 04 00 00 */	cmpwi r4, 0
/* 8015C0B8 001575D8  40 82 00 08 */	bne .L_8015C0C0
/* 8015C0BC 001575DC  80 A5 00 00 */	lwz r5, 0(r5)
.L_8015C0C0:
/* 8015C0C0 001575E0  7C A3 2B 78 */	mr r3, r5
/* 8015C0C4 001575E4  4E 80 00 20 */	blr 

