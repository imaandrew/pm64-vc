.include "macros.inc"

.section .text, "ax"

glabel Setup__Q46nw4hbm3snd6detail14StrmBufferPoolFPvUli
/* 8013EF14 0013A434  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 8013EF18 0013A438  7C 08 02 A6 */	mflr r0
/* 8013EF1C 0013A43C  90 01 00 24 */	stw r0, 0x24(r1)
/* 8013EF20 0013A440  39 61 00 20 */	addi r11, r1, 0x20
/* 8013EF24 0013A444  48 01 DA 21 */	bl _savegpr_27
/* 8013EF28 0013A448  2C 06 00 00 */	cmpwi r6, 0
/* 8013EF2C 0013A44C  7C 7B 1B 78 */	mr r27, r3
/* 8013EF30 0013A450  7C 9C 23 78 */	mr r28, r4
/* 8013EF34 0013A454  7C BD 2B 78 */	mr r29, r5
/* 8013EF38 0013A458  7C DE 33 78 */	mr r30, r6
/* 8013EF3C 0013A45C  41 82 00 68 */	beq lbl_8013EFA4
/* 8013EF40 0013A460  4B F5 63 75 */	bl OSDisableInterrupts
/* 8013EF44 0013A464  7C 9D F3 96 */	divwu r4, r29, r30
/* 8013EF48 0013A468  38 00 00 00 */	li r0, 0
/* 8013EF4C 0013A46C  7C 7F 1B 78 */	mr r31, r3
/* 8013EF50 0013A470  93 9B 00 00 */	stw r28, 0(r27)
/* 8013EF54 0013A474  38 7B 00 14 */	addi r3, r27, 0x14
/* 8013EF58 0013A478  93 BB 00 04 */	stw r29, 4(r27)
/* 8013EF5C 0013A47C  90 9B 00 08 */	stw r4, 8(r27)
/* 8013EF60 0013A480  38 80 00 00 */	li r4, 0
/* 8013EF64 0013A484  38 A0 00 04 */	li r5, 4
/* 8013EF68 0013A488  93 DB 00 0C */	stw r30, 0xc(r27)
/* 8013EF6C 0013A48C  90 1B 00 10 */	stw r0, 0x10(r27)
/* 8013EF70 0013A490  4B EC 54 CD */	bl memset
/* 8013EF74 0013A494  80 1B 00 0C */	lwz r0, 0xc(r27)
/* 8013EF78 0013A498  2C 00 00 20 */	cmpwi r0, 0x20
/* 8013EF7C 0013A49C  40 81 00 20 */	ble lbl_8013EF9C
/* 8013EF80 0013A4A0  3C 60 80 1B */	lis r3, lbl_801A9B08@ha
/* 8013EF84 0013A4A4  3C A0 80 1B */	lis r5, lbl_801A9B1C@ha
/* 8013EF88 0013A4A8  38 63 9B 08 */	addi r3, r3, lbl_801A9B08@l
/* 8013EF8C 0013A4AC  38 80 00 2A */	li r4, 0x2a
/* 8013EF90 0013A4B0  38 A5 9B 1C */	addi r5, r5, lbl_801A9B1C@l
/* 8013EF94 0013A4B4  4C C6 31 82 */	crclr 6
/* 8013EF98 0013A4B8  4B FD 6E 29 */	bl Panic__Q36nw4hbm2db6detailFPCciPCce
lbl_8013EF9C:
/* 8013EF9C 0013A4BC  7F E3 FB 78 */	mr r3, r31
/* 8013EFA0 0013A4C0  4B F5 63 3D */	bl OSRestoreInterrupts
lbl_8013EFA4:
/* 8013EFA4 0013A4C4  39 61 00 20 */	addi r11, r1, 0x20
/* 8013EFA8 0013A4C8  48 01 D9 E9 */	bl _restgpr_27
/* 8013EFAC 0013A4CC  80 01 00 24 */	lwz r0, 0x24(r1)
/* 8013EFB0 0013A4D0  7C 08 03 A6 */	mtlr r0
/* 8013EFB4 0013A4D4  38 21 00 20 */	addi r1, r1, 0x20
/* 8013EFB8 0013A4D8  4E 80 00 20 */	blr 

glabel Shutdown__Q46nw4hbm3snd6detail14StrmBufferPoolFv
/* 8013EFBC 0013A4DC  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 8013EFC0 0013A4E0  7C 08 02 A6 */	mflr r0
/* 8013EFC4 0013A4E4  90 01 00 14 */	stw r0, 0x14(r1)
/* 8013EFC8 0013A4E8  93 E1 00 0C */	stw r31, 0xc(r1)
/* 8013EFCC 0013A4EC  7C 7F 1B 78 */	mr r31, r3
/* 8013EFD0 0013A4F0  4B F5 62 E5 */	bl OSDisableInterrupts
/* 8013EFD4 0013A4F4  38 00 00 00 */	li r0, 0
/* 8013EFD8 0013A4F8  90 1F 00 00 */	stw r0, 0(r31)
/* 8013EFDC 0013A4FC  90 1F 00 04 */	stw r0, 4(r31)
/* 8013EFE0 0013A500  90 1F 00 08 */	stw r0, 8(r31)
/* 8013EFE4 0013A504  90 1F 00 0C */	stw r0, 0xc(r31)
/* 8013EFE8 0013A508  4B F5 62 F5 */	bl OSRestoreInterrupts
/* 8013EFEC 0013A50C  80 01 00 14 */	lwz r0, 0x14(r1)
/* 8013EFF0 0013A510  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 8013EFF4 0013A514  7C 08 03 A6 */	mtlr r0
/* 8013EFF8 0013A518  38 21 00 10 */	addi r1, r1, 0x10
/* 8013EFFC 0013A51C  4E 80 00 20 */	blr 

glabel Alloc__Q46nw4hbm3snd6detail14StrmBufferPoolFv
/* 8013F000 0013A520  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 8013F004 0013A524  7C 08 02 A6 */	mflr r0
/* 8013F008 0013A528  90 01 00 14 */	stw r0, 0x14(r1)
/* 8013F00C 0013A52C  93 E1 00 0C */	stw r31, 0xc(r1)
/* 8013F010 0013A530  7C 7F 1B 78 */	mr r31, r3
/* 8013F014 0013A534  4B F5 62 A1 */	bl OSDisableInterrupts
/* 8013F018 0013A538  80 9F 00 0C */	lwz r4, 0xc(r31)
/* 8013F01C 0013A53C  80 1F 00 10 */	lwz r0, 0x10(r31)
/* 8013F020 0013A540  7C 00 20 00 */	cmpw r0, r4
/* 8013F024 0013A544  41 80 00 10 */	blt lbl_8013F034
/* 8013F028 0013A548  4B F5 62 B5 */	bl OSRestoreInterrupts
/* 8013F02C 0013A54C  38 60 00 00 */	li r3, 0
/* 8013F030 0013A550  48 00 00 A0 */	b lbl_8013F0D0
lbl_8013F034:
/* 8013F034 0013A554  38 04 00 07 */	addi r0, r4, 7
/* 8013F038 0013A558  39 00 00 00 */	li r8, 0
/* 8013F03C 0013A55C  54 04 00 38 */	rlwinm r4, r0, 0, 0, 0x1c
/* 8013F040 0013A560  7C 84 1E 70 */	srawi r4, r4, 3
/* 8013F044 0013A564  38 00 00 08 */	li r0, 8
/* 8013F048 0013A568  7C E4 01 94 */	addze r7, r4
/* 8013F04C 0013A56C  48 00 00 74 */	b lbl_8013F0C0
lbl_8013F050:
/* 8013F050 0013A570  7C DF 42 14 */	add r6, r31, r8
/* 8013F054 0013A574  88 A6 00 14 */	lbz r5, 0x14(r6)
/* 8013F058 0013A578  28 05 00 FF */	cmplwi r5, 0xff
/* 8013F05C 0013A57C  41 82 00 60 */	beq lbl_8013F0BC
/* 8013F060 0013A580  39 20 00 01 */	li r9, 1
/* 8013F064 0013A584  39 40 00 00 */	li r10, 0
/* 8013F068 0013A588  7C 09 03 A6 */	mtctr r0
lbl_8013F06C:
/* 8013F06C 0013A58C  7C A4 48 39 */	and. r4, r5, r9
/* 8013F070 0013A590  40 82 00 40 */	bne lbl_8013F0B0
/* 8013F074 0013A594  88 86 00 14 */	lbz r4, 0x14(r6)
/* 8013F078 0013A598  55 00 18 38 */	slwi r0, r8, 3
/* 8013F07C 0013A59C  7C 0A 02 14 */	add r0, r10, r0
/* 8013F080 0013A5A0  7C 84 4B 78 */	or r4, r4, r9
/* 8013F084 0013A5A4  98 86 00 14 */	stb r4, 0x14(r6)
/* 8013F088 0013A5A8  80 9F 00 08 */	lwz r4, 8(r31)
/* 8013F08C 0013A5AC  80 BF 00 10 */	lwz r5, 0x10(r31)
/* 8013F090 0013A5B0  7C 84 01 D6 */	mullw r4, r4, r0
/* 8013F094 0013A5B4  80 1F 00 00 */	lwz r0, 0(r31)
/* 8013F098 0013A5B8  38 A5 00 01 */	addi r5, r5, 1
/* 8013F09C 0013A5BC  90 BF 00 10 */	stw r5, 0x10(r31)
/* 8013F0A0 0013A5C0  7F E4 02 14 */	add r31, r4, r0
/* 8013F0A4 0013A5C4  4B F5 62 39 */	bl OSRestoreInterrupts
/* 8013F0A8 0013A5C8  7F E3 FB 78 */	mr r3, r31
/* 8013F0AC 0013A5CC  48 00 00 24 */	b lbl_8013F0D0
lbl_8013F0B0:
/* 8013F0B0 0013A5D0  55 29 0E 3C */	rlwinm r9, r9, 1, 0x18, 0x1e
/* 8013F0B4 0013A5D4  39 4A 00 01 */	addi r10, r10, 1
/* 8013F0B8 0013A5D8  42 00 FF B4 */	bdnz lbl_8013F06C
lbl_8013F0BC:
/* 8013F0BC 0013A5DC  39 08 00 01 */	addi r8, r8, 1
lbl_8013F0C0:
/* 8013F0C0 0013A5E0  7C 08 38 00 */	cmpw r8, r7
/* 8013F0C4 0013A5E4  41 80 FF 8C */	blt lbl_8013F050
/* 8013F0C8 0013A5E8  4B F5 62 15 */	bl OSRestoreInterrupts
/* 8013F0CC 0013A5EC  38 60 00 00 */	li r3, 0
lbl_8013F0D0:
/* 8013F0D0 0013A5F0  80 01 00 14 */	lwz r0, 0x14(r1)
/* 8013F0D4 0013A5F4  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 8013F0D8 0013A5F8  7C 08 03 A6 */	mtlr r0
/* 8013F0DC 0013A5FC  38 21 00 10 */	addi r1, r1, 0x10
/* 8013F0E0 0013A600  4E 80 00 20 */	blr 

glabel Free__Q46nw4hbm3snd6detail14StrmBufferPoolFPv
/* 8013F0E4 0013A604  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 8013F0E8 0013A608  7C 08 02 A6 */	mflr r0
/* 8013F0EC 0013A60C  90 01 00 14 */	stw r0, 0x14(r1)
/* 8013F0F0 0013A610  93 E1 00 0C */	stw r31, 0xc(r1)
/* 8013F0F4 0013A614  7C 9F 23 78 */	mr r31, r4
/* 8013F0F8 0013A618  93 C1 00 08 */	stw r30, 8(r1)
/* 8013F0FC 0013A61C  7C 7E 1B 78 */	mr r30, r3
/* 8013F100 0013A620  4B F5 61 B5 */	bl OSDisableInterrupts
/* 8013F104 0013A624  80 BE 00 00 */	lwz r5, 0(r30)
/* 8013F108 0013A628  38 80 00 01 */	li r4, 1
/* 8013F10C 0013A62C  80 1E 00 08 */	lwz r0, 8(r30)
/* 8013F110 0013A630  7C A5 F8 50 */	subf r5, r5, r31
/* 8013F114 0013A634  7C A5 03 96 */	divwu r5, r5, r0
/* 8013F118 0013A638  54 A0 E8 FE */	srwi r0, r5, 3
/* 8013F11C 0013A63C  7C DE 02 14 */	add r6, r30, r0
/* 8013F120 0013A640  54 A0 07 7E */	clrlwi r0, r5, 0x1d
/* 8013F124 0013A644  88 A6 00 14 */	lbz r5, 0x14(r6)
/* 8013F128 0013A648  7C 80 00 30 */	slw r0, r4, r0
/* 8013F12C 0013A64C  7C A0 00 78 */	andc r0, r5, r0
/* 8013F130 0013A650  98 06 00 14 */	stb r0, 0x14(r6)
/* 8013F134 0013A654  80 9E 00 10 */	lwz r4, 0x10(r30)
/* 8013F138 0013A658  38 04 FF FF */	addi r0, r4, -1
/* 8013F13C 0013A65C  90 1E 00 10 */	stw r0, 0x10(r30)
/* 8013F140 0013A660  4B F5 61 9D */	bl OSRestoreInterrupts
/* 8013F144 0013A664  80 01 00 14 */	lwz r0, 0x14(r1)
/* 8013F148 0013A668  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 8013F14C 0013A66C  83 C1 00 08 */	lwz r30, 8(r1)
/* 8013F150 0013A670  7C 08 03 A6 */	mtlr r0
/* 8013F154 0013A674  38 21 00 10 */	addi r1, r1, 0x10
/* 8013F158 0013A678  4E 80 00 20 */	blr 
